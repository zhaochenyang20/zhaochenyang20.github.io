<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>åŸºäº Numpy çš„ Python ç§‘å­¦è®¡ç®—å…¥é—¨ | ä»¿ç”Ÿæ¨¡è¯­è¨€å‹ä¼šç”Ÿæˆèµ›åšåšå®¢å—ï¼Ÿ</title><meta name="keywords" content="2022å¤å­£,Python"><meta name="author" content="Chenytang Zhao"><meta name="copyright" content="Chenytang Zhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="æˆ‘çœŸæ˜¯ä¸æ•¢ç›¸ä¿¡ä»¥å‰æˆ‘å±…ç„¶æ•¢ä¸å­¦ Numpy å°±æ“ Torch....">
<meta property="og:type" content="article">
<meta property="og:title" content="åŸºäº Numpy çš„ Python ç§‘å­¦è®¡ç®—å…¥é—¨">
<meta property="og:url" content="http://example.com/2022/07/17/CS/others/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/index.html">
<meta property="og:site_name" content="ä»¿ç”Ÿæ¨¡è¯­è¨€å‹ä¼šç”Ÿæˆèµ›åšåšå®¢å—ï¼Ÿ">
<meta property="og:description" content="æˆ‘çœŸæ˜¯ä¸æ•¢ç›¸ä¿¡ä»¥å‰æˆ‘å±…ç„¶æ•¢ä¸å­¦ Numpy å°±æ“ Torch....">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (qQHjKX1QCuY).jpg">
<meta property="article:published_time" content="2022-07-17T10:18:24.000Z">
<meta property="article:modified_time" content="2022-10-01T13:16:05.420Z">
<meta property="article:author" content="Chenytang Zhao">
<meta property="article:tag" content="2022å¤å­£">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (qQHjKX1QCuY).jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/2022/07/17/CS/others/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"éº»äº†ï¼Œæ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'åŸºäº Numpy çš„ Python ç§‘å­¦è®¡ç®—å…¥é—¨',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-01 21:16:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mouse.css"><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ä»¿ç”Ÿæ¨¡è¯­è¨€å‹ä¼šç”Ÿæˆèµ›åšåšå®¢å—ï¼Ÿ" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend.jpg'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">86</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">36</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">20</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/list-100/"><i class="fa-fw fas fa-music"></i><span> TODO</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-video"></i><span> Projects</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (qQHjKX1QCuY).jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ä»¿ç”Ÿæ¨¡è¯­è¨€å‹ä¼šç”Ÿæˆèµ›åšåšå®¢å—ï¼Ÿ</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/list-100/"><i class="fa-fw fas fa-music"></i><span> TODO</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-video"></i><span> Projects</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">åŸºäº Numpy çš„ Python ç§‘å­¦è®¡ç®—å…¥é—¨</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-07-17T10:18:24.000Z" title="å‘è¡¨äº 2022-07-17 18:18:24">2022-07-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-10-01T13:16:05.420Z" title="æ›´æ–°äº 2022-10-01 21:16:05">2022-10-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS/">CS</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">15.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>64åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="åŸºäº Numpy çš„ Python ç§‘å­¦è®¡ç®—å…¥é—¨"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="åŸºäº-numpy-çš„-python-ç§‘å­¦è®¡ç®—å…¥é—¨">åŸºäº Numpy çš„ Python
ç§‘å­¦è®¡ç®—å…¥é—¨</h1>
<p><strong><a target="_blank" rel="noopener" href="https://zhaochenyang20.github.io/">Eren Zhao</a> THU
CST Summer Tutorial 2022</strong></p>
<h2 id="intro-why-numpy">Intro: Why Numpy?</h2>
<p>æœ¬è¯¾å°†ä»‹ç»é€šè¿‡ Python
æœ‰æ•ˆå¯¼å…¥ã€å­˜å‚¨å’Œæ“ä½œå†…å­˜æ•°æ®çš„ä¸»è¦æŠ€å·§ã€‚è¿™ä¸ªä¸»é¢˜éå¸¸å¹¿æ³›,
å› ä¸ºæ•°æ®é›†çš„æ¥æºä¸æ ¼å¼éƒ½ååˆ†ä¸°å¯Œ,
æ¯”å¦‚æ–‡æ¡£é›†åˆã€å›¾åƒé›†åˆã€å£°éŸ³ç‰‡æ®µé›†åˆã€æ•°å€¼æ•°æ®é›†åˆ,
ç­‰ç­‰ã€‚è¿™äº›æ•°æ®è™½ç„¶å­˜åœ¨æ˜æ˜¾çš„å¼‚æ„æ€§,
ä½†æ˜¯å°†æ‰€æœ‰æ•°æ®ç®€å•åœ°çœ‹ä½œæ•°å­—æ•°ç»„éå¸¸æœ‰åŠ©äºæˆ‘ä»¬ç†è§£å’Œå¤„ç†æ•°æ®ã€‚</p>
<p>ä¾‹å¦‚, å¯ä»¥å°†å›¾åƒï¼ˆå°¤å…¶æ˜¯æ•°å­—å›¾åƒï¼‰ç®€å•åœ°çœ‹ä½œäºŒç»´æ•°å­—æ•°ç»„,
è¿™äº›æ•°å­—æ•°ç»„ä»£è¡¨å„åŒº åŸŸçš„åƒç´ å€¼; å£°éŸ³ç‰‡æ®µå¯ä»¥çœ‹ä½œæ—¶é—´å’Œå¼ºåº¦çš„ä¸€ç»´æ•°ç»„;
æ–‡æœ¬ä¹Ÿå¯ä»¥é€šè¿‡å„ç§æ–¹å¼è½¬æ¢æˆ æ•°å€¼è¡¨ç¤º,
ä¸€ç§å¯èƒ½çš„è½¬æ¢æ˜¯ç”¨äºŒè¿›åˆ¶æ•°è¡¨ç¤ºç‰¹å®šå•è¯æˆ–å•è¯å¯¹å‡ºç°çš„é¢‘ç‡ã€‚ä¸ç®¡æ•°æ®æ˜¯ä½•ç§å½¢å¼,
ç¬¬ä¸€æ­¥éƒ½æ˜¯å°†è¿™äº›æ•°æ®è½¬æ¢æˆæ•°å€¼æ•°ç»„å½¢å¼çš„å¯åˆ†ææ•°æ®ã€‚</p>
<p>æ­£å› å¦‚æ­¤,
æœ‰æ•ˆåœ°å­˜å‚¨å’Œæ“ä½œæ•°å€¼æ•°ç»„æ˜¯æ•°æ®ç§‘å­¦ä¸­ç»å¯¹çš„åŸºç¡€è¿‡ç¨‹ã€‚æˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»
NumPyã€‚NumPyï¼ˆNumerical Python
çš„ç®€ç§°ï¼‰æä¾›äº†é«˜æ•ˆå­˜å‚¨å’Œæ“ä½œå¯†é›†æ•°æ®ç¼“å­˜çš„æ¥å£ã€‚åœ¨æŸäº›æ–¹é¢, NumPy æ•°ç»„ä¸
Python å†…ç½®çš„åˆ—è¡¨ç±»å‹éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯éšç€æ•°ç»„åœ¨ç»´åº¦ä¸Šå˜å¤§, NumPy
æ•°ç»„æä¾›äº†æ›´åŠ é«˜æ•ˆçš„å­˜å‚¨å’Œæ•°æ®æ“ä½œã€‚NumPy æ•°ç»„å‡ ä¹æ˜¯æ•´ä¸ª Python
ç§‘å­¦è®¡ç®—ç”Ÿæ€ç³»ç»Ÿçš„æ ¸å¿ƒã€‚å› æ­¤, ä¸ç®¡ä½ å¯¹æ•°æ®ç§‘å­¦çš„å“ªä¸ªæ–¹é¢æ„Ÿå…´è¶£,
èŠ±ç‚¹æ—¶é—´å­¦ä¹ å¦‚ä½•æœ‰æ•ˆåœ°ä½¿ç”¨ NumPy éƒ½æ˜¯éå¸¸å€¼å¾—çš„ã€‚</p>
<p>å¦‚æœä½ å¬ä»å‰è¨€ç»™å‡ºçš„å»ºè®®å®‰è£…äº† Anaconda, é‚£ä¹ˆä½ å·²ç»å®‰è£…å¥½ NumPy,
å¹¶å¯ä»¥ä½¿ç”¨å®ƒäº†ã€‚å¦‚æœä½ æ˜¯ä¸ªä½“éªŒæ´¾, åˆ™å¯ä»¥åˆ° NumPy
ç½‘ç«™ï¼ˆhttp://www.numpy.org/ï¼‰æŒ‰ç…§å…¶å®‰è£…æŒ‡å¯¼è¿›è¡Œå®‰è£…ã€‚å®‰è£…å¥½å,
ä½ å¯ä»¥å¯¼å…¥ NumPy å¹¶å†æ¬¡æ ¸å®ä½ çš„ NumPy ç‰ˆæœ¬:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">np.__version__</span><br></pre></td></tr></table></figure>
<pre><code>&#39;1.22.3&#39;</code></pre>
<h1 id="å†…å®¹é‡ç‚¹">å†…å®¹é‡ç‚¹</h1>
<p>è¿™ä»½è®²ä¹‰æ˜¯æˆ‘<del>å¤šå¹´æ¥</del>å­¦ä¹ ä¸­ç”¨åˆ°çš„ numpy çš„ API
çš„æ€»ç»“ï¼Œä¸å¾—ä¸è¯´éå¸¸å¾—å¤šï¼Œä¸ºæ­¤æŠŠå®ƒä»¬æ•´åˆä¸ºä¸ºäº†æŸ¥é˜…çš„æ‰‹å†Œã€‚æˆ‘ä¸ªäººè®¤ä¸ºï¼Œä»¥ä¸‹å†…å®¹æ˜¯ä½ éœ€è¦æ¸…æ¥šç†è§£å¹¶ä¸”åœ¨å­¦ä¹ å’Œå·¥ä½œä¸­ç»å¸¸æé†’è‡ªå·±çš„ï¼Œè€Œå…¶ä»–å†…å®¹éƒ½å¯ä»¥ä½œä¸ºå·¥å…·ä¹¦æ¥æŸ¥é˜…ï¼š</p>
<ul>
<li>Numpy å’Œ Python çš„æ•ˆç‡åŒºåˆ«</li>
<li>Numpy å¹¿æ’­æœºåˆ¶çš„è§„åˆ™</li>
<li>Numpy Fancy Index</li>
<li>ä¼ ç»Ÿç´¢å¼•çš„è§†å›¾é—®é¢˜</li>
</ul>
<p>å…¶ä»–çš„ API
åŸºæœ¬æ˜¯ç”¨æƒ¯äº†å°±è®°ä½äº†ï¼Œè€Œè¿™ä¸‰ç‚¹æ˜¯ç»å¯¹çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯æˆ‘è¯¾ç¨‹çš„è®²è¯¾é‡ç‚¹ã€‚å…¶ä½™è‡ªå­¦éƒ½æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p>
<h2 id="python-æ•°æ®ç±»å‹">Python æ•°æ®ç±»å‹</h2>
<p>è¦å®ç°é«˜æ•ˆçš„æ•°æ®é©±åŠ¨ç§‘å­¦å’Œè®¡ç®—ï¼Œéœ€è¦ç†è§£æ•°æ®æ˜¯å¦‚ä½•è¢«å­˜å‚¨å’Œæ“ä½œçš„ã€‚æœ¬èŠ‚å°†ä»‹ç»åœ¨
Python è¯­è¨€ä¸­æ•°æ®æ•°ç»„æ˜¯å¦‚ä½•è¢«å¤„ç†çš„ï¼Œå¹¶å¯¹æ¯” NumPy
æ‰€åšçš„æ”¹è¿›ã€‚ç†è§£è¿™ä¸ªä¸åŒä¹‹å¤„æ˜¯ç†è§£æœ¬èŠ‚å…¶ä»–å†…å®¹çš„åŸºç¡€ã€‚</p>
<p>Python
çš„ç”¨æˆ·å¾€å¾€è¢«å…¶æ˜“ç”¨æ€§æ‰€å¸å¼•ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜“ç”¨ä¹‹å¤„å°±åœ¨äºåŠ¨æ€è¾“å…¥ã€‚é™æ€ç±»å‹çš„è¯­è¨€ï¼ˆå¦‚
C æˆ– Javaï¼‰å¾€å¾€éœ€è¦æ¯ä¸€ä¸ªå˜é‡éƒ½æ˜ç¡®åœ°å£°æ˜ï¼Œè€ŒåŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼ˆä¾‹å¦‚
Pythonï¼‰å¯ä»¥è·³è¿‡è¿™ä¸ªç‰¹æ®Šè§„å®šã€‚ä¾‹å¦‚åœ¨ C
è¯­è¨€ä¸­ï¼Œä½ å¯èƒ½ä¼šæŒ‰ç…§å¦‚ä¸‹æ–¹å¼æŒ‡å®šä¸€ä¸ªç‰¹æ®Šçš„æ“ä½œï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Cä»£ç  */</span></span><br><span class="line"><span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++)&#123;</span><br><span class="line"> result += i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è€Œåœ¨ Python ä¸­ï¼ŒåŒç­‰çš„æ“ä½œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pythonä»£ç </span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line"> result += i</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™é‡Œæœ€å¤§çš„ä¸åŒä¹‹å¤„ï¼šåœ¨ C
è¯­è¨€ä¸­ï¼Œæ¯ä¸ªå˜é‡çš„æ•°æ®ç±»å‹è¢«æ˜ç¡®åœ°å£°æ˜ï¼›è€Œåœ¨ Python
ä¸­ï¼Œç±»å‹æ˜¯åŠ¨æ€æ¨æ–­çš„ã€‚è¿™æ„å‘³ç€å¯ä»¥å°†ä»»ä½•ç±»å‹çš„æ•°æ®æŒ‡å®šç»™ä»»ä½•å˜é‡ï¼š
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pythonä»£ç </span></span><br><span class="line">x = <span class="number">4</span></span><br><span class="line">x = <span class="string">&quot;four&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå·²ç»å°† x å˜é‡çš„å†…å®¹ç”±æ•´å‹è½¬å˜æˆäº†å­—ç¬¦ä¸²ï¼Œè€ŒåŒæ ·çš„æ“ä½œåœ¨ C
è¯­è¨€ä¸­å°†ä¼šå¯¼è‡´ï¼ˆå–å†³äºç¼–è¯‘å™¨è®¾ç½®ï¼‰ç¼–è¯‘é”™è¯¯æˆ–å…¶ä»–æœªçŸ¥çš„åæœï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Cä»£ç  */</span></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">4</span>;</span><br><span class="line">x = <span class="string">&quot;four&quot;</span>; <span class="comment">// ç¼–è¯‘å¤±è´¥</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§çµæ´»æ€§æ˜¯ä½¿ Python
å’Œå…¶ä»–åŠ¨æ€ç±»å‹çš„è¯­è¨€æ›´æ˜“ç”¨çš„åŸå› ä¹‹ä¸€ã€‚ç†è§£è¿™ä¸€ç‰¹æ€§å¦‚ä½•å·¥ä½œæ˜¯å­¦ä¹ ç”¨
Python
æœ‰æ•ˆä¸”é«˜æ•ˆåœ°åˆ†ææ•°æ®çš„é‡è¦å› ç´ ã€‚ä½†æ˜¯è¿™ç§ç±»å‹çµæ´»æ€§ä¹ŸæŒ‡å‡ºäº†ä¸€ä¸ªäº‹å®ï¼šPython
å˜é‡ä¸ä»…æ˜¯å®ƒä»¬çš„å€¼ï¼Œè¿˜åŒ…æ‹¬äº†å…³äºå€¼çš„ç±»å‹çš„ä¸€äº›é¢å¤–ä¿¡æ¯ï¼Œæœ¬èŠ‚æ¥ä¸‹æ¥çš„å†…å®¹å°†è¿›è¡Œæ›´è¯¦ç»†çš„ä»‹ç»ã€‚</p>
<h3 id="python-æ•´å‹ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•´å‹">Python æ•´å‹ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•´å‹</h3>
<p>æ ‡å‡†çš„ Python å®ç°æ˜¯ç”¨ C è¯­è¨€ç¼–å†™çš„ã€‚è¿™æ„å‘³ç€æ¯ä¸€ä¸ª Python
å¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªèªæ˜çš„ä¼ª C
è¯­è¨€ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“ä¸ä»…åŒ…å«å…¶å€¼ï¼Œè¿˜æœ‰å…¶ä»–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åœ¨ Python
ä¸­å®šä¹‰ä¸€ä¸ªæ•´å‹ï¼Œä¾‹å¦‚ x = 10000 æ—¶ï¼Œx
å¹¶ä¸æ˜¯ä¸€ä¸ªâ€œåŸç”Ÿâ€æ•´å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ª C
è¯­è¨€çš„å¤åˆç»“æ„ä½“ï¼Œç»“æ„ä½“é‡ŒåŒ…å«äº†ä¸€äº›å€¼ã€‚æŸ¥çœ‹ Python 3.4
çš„æºä»£ç ï¼Œå¯ä»¥å‘ç°æ•´å‹ï¼ˆé•¿æ•´å‹ï¼‰çš„å®šä¹‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆC
è¯­è¨€çš„å®ç»è¿‡æ‰©å±•ä¹‹åï¼‰ï¼š <figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> _<span class="title">longobject</span> &#123;</span></span><br><span class="line"> <span class="keyword">long</span> ob_refcnt;</span><br><span class="line"> PyTypeObject *ob_type;</span><br><span class="line"> <span class="keyword">size_t</span> ob_size;</span><br><span class="line"> <span class="keyword">long</span> ob_digit[<span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure> Python 3.4 ä¸­çš„ä¸€ä¸ªæ•´å‹å®é™…ä¸ŠåŒ…æ‹¬
4 ä¸ªéƒ¨åˆ†ã€‚</p>
<ul>
<li>ob_refcnt æ˜¯ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå®ƒå¸®åŠ© Python
é»˜é»˜åœ°å¤„ç†å†…å­˜çš„åˆ†é…å’Œå›æ”¶ã€‚</li>
<li>ob_type å°†å˜é‡çš„ç±»å‹ç¼–ç ã€‚</li>
<li>ob_size æŒ‡å®šæ¥ä¸‹æ¥çš„æ•°æ®æˆå‘˜çš„å¤§å°ã€‚</li>
<li>ob_digit åŒ…å«æˆ‘ä»¬å¸Œæœ› Python å˜é‡è¡¨ç¤ºçš„å®é™…æ•´å‹å€¼ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€ä¸ C è¯­è¨€è¿™æ ·çš„ç¼–è¯‘è¯­è¨€ä¸­çš„æ•´å‹ç›¸æ¯”ï¼Œåœ¨ Python
ä¸­å­˜å‚¨ä¸€ä¸ªæ•´å‹ä¼šæœ‰ä¸€äº›å¼€é”€ã€‚</p>
<div data-align="center">
<p><img width="500" src="https://zhaochenyang20.github.io/pic/embed/6_29_1.jpg"/></p>
</div>
<div data-align="center">
C æ•´å‹å’Œ Python æ•´å‹çš„åŒºåˆ«ï¼Œè¿™é‡Œ PyObject_HEAD
æ˜¯ç»“æ„ä½“ä¸­åŒ…å«å¼•ç”¨è®¡æ•°ã€ç±»å‹ç¼–ç å’Œå…¶ä»–éƒ¨åˆ†ã€‚
</div>
<p>ä¸¤è€…çš„å·®å¼‚åœ¨äºï¼ŒC
è¯­è¨€æ•´å‹æœ¬è´¨ä¸Šæ˜¯å¯¹åº”æŸä¸ªå†…å­˜ä½ç½®çš„æ ‡ç­¾ï¼Œé‡Œé¢å­˜å‚¨çš„å­—èŠ‚ä¼šç¼–ç æˆæ•´å‹ã€‚è€Œ
Python çš„æ•´å‹å…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘åŒ…å«è¿™ä¸ª Python
å¯¹è±¡æ‰€æœ‰ä¿¡æ¯çš„æŸä¸ªå†…å­˜ä½ç½®ï¼Œå…¶ä¸­åŒ…æ‹¬å¯ä»¥è½¬æ¢æˆæ•´å‹çš„å­—èŠ‚ã€‚ç”±äº Python
çš„æ•´å‹ç»“æ„ä½“é‡Œé¢è¿˜åŒ…å«äº†å¤§é‡é¢å¤–çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ Python
å¯ä»¥è‡ªç”±ã€åŠ¨æ€åœ°ç¼–ç ã€‚ä½†æ˜¯ï¼ŒPython
ç±»å‹ä¸­çš„è¿™äº›é¢å¤–ä¿¡æ¯ä¹Ÿä¼šæˆä¸ºè´Ÿæ‹…ï¼Œåœ¨å¤šä¸ªå¯¹è±¡ç»„åˆçš„ç»“æ„ä½“ä¸­å°¤å…¶æ˜æ˜¾ã€‚</p>
<h3 id="python-åˆ—è¡¨ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåˆ—è¡¨">Python åˆ—è¡¨ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåˆ—è¡¨</h3>
<p>è®¾æƒ³å¦‚æœä½¿ç”¨ä¸€ä¸ªåŒ…å«å¾ˆå¤š Python å¯¹è±¡çš„ Python æ•°æ®ç»“æ„ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
Python
ä¸­çš„æ ‡å‡†å¯å˜å¤šå…ƒç´ å®¹å™¨æ˜¯åˆ—è¡¨ã€‚å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼åˆ›å»ºä¸€ä¸ªæ•´å‹å€¼åˆ—è¡¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: L = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: L</span><br><span class="line">Out[<span class="number">2</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">4</span>]: L2 = [<span class="built_in">str</span>(each) <span class="keyword">for</span> each <span class="keyword">in</span> L]</span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: L2</span><br><span class="line">Out[<span class="number">5</span>]: [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: <span class="built_in">type</span>(L2[<span class="number">0</span>])</span><br><span class="line">Out[<span class="number">6</span>]: <span class="built_in">str</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸º Python çš„åŠ¨æ€ç±»å‹ç‰¹æ€§ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼‚æ„çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">7</span>]:  L3 = [<span class="literal">True</span>, <span class="string">&quot;2&quot;</span>, <span class="number">3.0</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: [<span class="built_in">type</span>(item) <span class="keyword">for</span> item <span class="keyword">in</span> L3]</span><br><span class="line">Out[<span class="number">8</span>]: [<span class="built_in">bool</span>, <span class="built_in">str</span>, <span class="built_in">float</span>, <span class="built_in">int</span>]</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æƒ³æ‹¥æœ‰è¿™ç§çµæ´»æ€§ä¹Ÿæ˜¯è¦ä»˜å‡ºä¸€å®šä»£ä»·çš„ï¼šä¸ºäº†è·å¾—è¿™äº›çµæ´»çš„ç±»å‹ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹å¿…é¡»åŒ…å«å„è‡ªçš„ç±»å‹ä¿¡æ¯ã€å¼•ç”¨è®¡æ•°å’Œå…¶ä»–ä¿¡æ¯ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„
Python
å¯¹è±¡ã€‚æ¥çœ‹ä¸€ä¸ªç‰¹æ®Šçš„ä¾‹å­ï¼Œå¦‚æœåˆ—è¡¨ä¸­çš„æ‰€æœ‰å˜é‡éƒ½æ˜¯åŒä¸€ç±»å‹çš„ï¼Œé‚£ä¹ˆå¾ˆå¤šä¿¡æ¯éƒ½ä¼šæ˜¾å¾—å¤šä½™â€”â€”å°†æ•°æ®å­˜å‚¨åœ¨å›ºå®šç±»å‹çš„æ•°ç»„ä¸­åº”è¯¥ä¼šæ›´é«˜æ•ˆã€‚åŠ¨æ€ç±»å‹çš„åˆ—è¡¨å’Œå›ºå®šç±»å‹çš„ï¼ˆNumPy
å¼ï¼‰æ•°ç»„é—´çš„åŒºåˆ«å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<div data-align="center">
<p><img width="500" src="https://zhaochenyang20.github.io/pic/embed/6_29_2.jpg"/></p>
</div>
<div data-align="center">
numpy åˆ—è¡¨å’Œ Python åˆ—è¡¨çš„åŒºåˆ«ã€‚
</div>
<p>åœ¨å®ç°å±‚é¢ï¼Œæ•°ç»„åŸºæœ¬ä¸ŠåŒ…å«ä¸€ä¸ªæŒ‡å‘è¿ç»­æ•°æ®å—çš„æŒ‡é’ˆã€‚å¦ä¸€æ–¹é¢ï¼ŒPython
åˆ—è¡¨åŒ…å«ä¸€ä¸ªæŒ‡å‘æŒ‡é’ˆå—çš„æŒ‡é’ˆï¼Œè¿™å…¶ä¸­çš„æ¯ä¸€ä¸ªæŒ‡é’ˆå¯¹åº”ä¸€ä¸ªå®Œæ•´çš„ Python
å¯¹è±¡ï¼ˆå¦‚å‰é¢çœ‹åˆ°çš„ Python
æ•´å‹ï¼‰ã€‚å¦å¤–ï¼Œåˆ—è¡¨çš„ä¼˜åŠ¿æ˜¯çµæ´»ï¼Œå› ä¸ºæ¯ä¸ªåˆ—è¡¨å…ƒç´ æ˜¯ä¸€ä¸ªåŒ…å«æ•°æ®å’Œç±»å‹ä¿¡æ¯çš„å®Œæ•´ç»“æ„ä½“ï¼Œè€Œä¸”åˆ—è¡¨å¯ä»¥ç”¨ä»»æ„ç±»å‹çš„æ•°æ®å¡«å……ã€‚å›ºå®šç±»å‹çš„
NumPy å¼æ•°ç»„ç¼ºä¹è¿™ç§çµæ´»æ€§ï¼Œä½†æ˜¯èƒ½æ›´æœ‰æ•ˆåœ°å­˜å‚¨å’Œæ“ä½œæ•°æ®ã€‚</p>
<h2 id="ä¸ºä½•-numpy-ä¼šæ›´å¿«">ä¸ºä½• numpy ä¼šæ›´å¿«ï¼Ÿ</h2>
<p>Python çš„é»˜è®¤å®ç°ï¼ˆè¢«ç§°ä½œ
CPythonï¼‰å¤„ç†èµ·æŸäº›æ“ä½œæ—¶éå¸¸æ…¢ï¼Œä¸€éƒ¨åˆ†åŸå› æ˜¯è¯¥è¯­è¨€çš„åŠ¨æ€æ€§å’Œè§£é‡Šæ€§â€”â€”æ•°æ®ç±»å‹çµæ´»çš„ç‰¹æ€§å†³å®šäº†åºåˆ—æ“ä½œä¸èƒ½åƒ
C è¯­è¨€å’Œ Fortran è¯­è¨€ä¸€æ ·è¢«ç¼–è¯‘æˆæœ‰æ•ˆçš„æœºå™¨ç ã€‚ç›®å‰ï¼Œæœ‰ä¸€äº›é¡¹ç›®è¯•å›¾è§£å†³
Python è¿™ä¸€å¼±ç‚¹ï¼Œæ¯”è¾ƒçŸ¥åçš„åŒ…æ‹¬ï¼šPyPy
é¡¹ç›®ï¼ˆhttp://pypy.org/ï¼‰ã€‚ä¸€ä¸ªå®æ—¶çš„ Python ç¼–è¯‘å®ç°ï¼›Cython
é¡¹ç›®ï¼ˆhttp://cython.orgï¼‰ï¼Œå°† Python ä»£ç è½¬æ¢æˆå¯ç¼–è¯‘çš„ C ä»£ç ï¼›Numba
é¡¹ç›®ï¼ˆhttp://numba.pydata.org/ï¼‰ï¼Œå°† Python ä»£ç çš„ç‰‡æ®µè½¬æ¢æˆå¿«é€Ÿçš„ LLVM
å­—èŠ‚ç ã€‚ä»¥ä¸Šè¿™äº›é¡¹ç›®éƒ½å„æœ‰å…¶ä¼˜åŠ¿å’ŒåŠ£åŠ¿ï¼Œä½†æ˜¯æ¯”è¾ƒä¿å®ˆåœ°è¯´ï¼Œè¿™äº›æ–¹æ³•ä¸­è¿˜æ²¡æœ‰ä¸€ç§èƒ½è¾¾åˆ°æˆ–è¶…è¿‡æ ‡å‡†
CPython å¼•æ“çš„å—æ¬¢è¿ç¨‹åº¦ã€‚</p>
<p>æˆ‘ä»¬å…·ä½“æ¥å±•ç¤ºå’Œç†è§£ä¸‹ CPython çš„ç¼“æ…¢â€”â€”</p>
<p>Python
çš„ç›¸å¯¹ç¼“æ…¢é€šå¸¸å‡ºç°åœ¨å¾ˆå¤šå°æ“ä½œéœ€è¦ä¸æ–­é‡å¤çš„æ—¶å€™ï¼Œæ¯”å¦‚å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ åšå¾ªç¯æ“ä½œæ—¶ã€‚å‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬æƒ³è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å€’æ•°ï¼Œä¸€ç§ç›´æ¥çš„è§£å†³æ–¹æ³•æ˜¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_reciprocals</span>(<span class="params">values</span>):</span></span><br><span class="line">    output = np.empty(<span class="built_in">len</span>(values))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(values)):</span><br><span class="line">        output[i] = <span class="number">1.0</span> / values[i]</span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line">values = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, size=<span class="number">5</span>)</span><br><span class="line">compute_reciprocals(values)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.16666667, 1.        , 0.25      , 0.25      , 0.125     ])</code></pre>
<p>è¿™ç§å®ç°æ–¹å¼å¯èƒ½å¯¹äºæœ‰ C è¯­è¨€æˆ– Java
èƒŒæ™¯çš„äººæ¥è¯´éå¸¸è‡ªç„¶ï¼Œä½†æ˜¯å¦‚æœæµ‹è¯•ä¸€ä¸ªå¾ˆå¤§é‡çš„è¾“å…¥æ•°æ®è¿è¡Œä¸Šè¿°ä»£ç çš„æ—¶é—´ï¼Œè¿™ä¸€æ“ä½œå°†éå¸¸è€—æ—¶ï¼Œå¹¶ä¸”æ˜¯è¶…å‡ºæ„æ–™çš„æ…¢ï¼æˆ‘ä»¬ç”¨
IPython çš„ %timeit é­”æ³•å‡½æ•°æ¥æµ‹é‡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">big_array_numpy = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, size=<span class="number">1000000</span>)</span><br><span class="line">big_array_list = <span class="built_in">list</span>(big_array_numpy)</span><br><span class="line">%timeit compute_reciprocals(big_array_numpy)</span><br><span class="line">%timeit compute_reciprocals(big_array_list)</span><br></pre></td></tr></table></figure>
<pre><code>1.84 s Â± 17.1 ms per loop (mean Â± std. dev. of 7 runs, 1 loop each)
1.82 s Â± 34.4 ms per loop (mean Â± std. dev. of 7 runs, 1 loop each)</code></pre>
<p>å®Œæˆç™¾ä¸‡æ¬¡ä¸Šè¿°æ“ä½œå¹¶å­˜å‚¨ç»“æœèŠ±äº†å‡ ç§’é’Ÿçš„æ—¶é—´ï¼åœ¨æ‰‹æœºéƒ½ä»¥
Giga-FLOPSï¼ˆå³æ¯ç§’åäº¿æ¬¡æµ®ç‚¹è¿ç®—ï¼Œä¸€ä¸ªæœ‰è¶£çš„å¯¹æ¯”æ˜¯å½“å¹´é˜¿å§†æ–¯ç‰¹æœ—é£åˆ°æœˆçƒæ‰€éœ€è¦çš„ç®—åŠ›åŸºæœ¬ç­‰äºä¸€éƒ¨æ™ºèƒ½æ‰‹æœºçš„ç®—åŠ›ï¼‰ä¸ºå•ä½è®¡ç®—å¤„ç†é€Ÿåº¦æ—¶ï¼Œä¸Šé¢çš„å¤„ç†ç»“æœæ‰€èŠ±è´¹çš„æ—¶é—´ç¡®å®æ˜¯ä¸åˆæ—¶å®œçš„æ…¢ã€‚äº‹å®ä¸Šï¼Œè¿™é‡Œçš„å¤„ç†ç“¶é¢ˆå¹¶ä¸æ˜¯è¿ç®—æœ¬èº«ï¼Œè€Œæ˜¯
CPython
åœ¨æ¯æ¬¡å¾ªç¯æ—¶å¿…é¡»åšæ•°æ®ç±»å‹çš„æ£€æŸ¥å’Œå‡½æ•°çš„è°ƒåº¦ã€‚æ¯æ¬¡è¿›è¡Œå€’æ•°è¿ç®—æ—¶ï¼ŒPython
é¦–å…ˆæ£€æŸ¥å¯¹è±¡çš„ç±»å‹ï¼Œå¹¶ä¸”åŠ¨æ€æŸ¥æ‰¾å¯ä»¥ä½¿ç”¨è¯¥æ•°æ®ç±»å‹çš„æ­£ç¡®å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç¼–è¯‘ä»£ç æ—¶è¿›è¡Œè¿™æ ·çš„æ“ä½œï¼Œé‚£ä¹ˆå°±èƒ½åœ¨ä»£ç æ‰§è¡Œä¹‹å‰çŸ¥æ™“ç±»å‹çš„å£°æ˜ï¼Œç»“æœçš„è®¡ç®—ä¹Ÿä¼šæ›´åŠ æœ‰æ•ˆç‡ã€‚</p>
<p>åœ¨ä¸Šæ–¹çš„ä¾‹å­é‡Œï¼Œä½ å¯èƒ½çœ‹ä¸å‡º numpy
çš„æ˜æ˜¾ä¼˜åŠ¿ï¼Œä½†æ˜¯æ¯•ç«Ÿè¿™è¿˜æ˜¯åœ¨æ˜¾ç¤ºåœ°è¿è¡Œ for å¾ªç¯ï¼Œè€Œ numpy
çš„å¿«é€Ÿä¸»è¦ä½“ç°åœ¨æœ‰ç€éå†æ€§è´¨çš„é€šç”¨å‡½æ•°å¯¹ numpy æ•°ç»„çš„å·¨å¹…åŠ æˆä¸Šã€‚</p>
<p>å…ˆæ‰¯åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¼€å§‹æ­£å¼å…¥é—¨ã€‚</p>
<h1 id="åˆ›å»ºå’Œç”Ÿæˆ">åˆ›å»ºå’Œç”Ÿæˆ</h1>
<p>æœ¬èŠ‚ä¸»è¦ä»‹ç» array
çš„åˆ›å»ºå’Œç”Ÿæˆã€‚ä¸ºä»€ä¹ˆä¼šæŠŠè¿™ä¸ªæ”¾åœ¨æœ€å‰é¢å‘¢ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢åŸå› ï¼š</p>
<ul>
<li>åœ¨å®é™…å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ—¶ä¸æ—¶éœ€è¦éªŒè¯æˆ–æŸ¥çœ‹ array ç›¸å…³çš„ API
æˆ–äº’æ“ä½œã€‚</li>
<li>æœ‰æ—¶å€™åœ¨ä½¿ç”¨ sklearnï¼Œmatplotlibï¼ŒPyTorchï¼ŒTensorflow
ç­‰å·¥å…·æ—¶ä¹Ÿéœ€è¦ä¸€äº›ç®€å•çš„æ•°æ®è¿›è¡Œå®éªŒã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œå…ˆå­¦ä¼šå¦‚ä½•å¿«é€Ÿæ‹¿åˆ°ä¸€ä¸ª array
æ˜¯æœ‰å¾ˆå¤šç›Šå¤„çš„ã€‚æœ¬èŠ‚æˆ‘ä»¬ä¸»è¦ä»‹ç»ä»¥ä¸‹å‡ ç§å¸¸ç”¨çš„åˆ›å»ºæ–¹å¼ï¼š</p>
<ul>
<li>ä½¿ç”¨åˆ—è¡¨æˆ–å…ƒç»„</li>
<li>ä½¿ç”¨ arange</li>
<li>ä½¿ç”¨ linspace/logspace</li>
<li>ä½¿ç”¨ ones/zeros</li>
<li>ä½¿ç”¨ random</li>
<li>ä»æ–‡ä»¶è¯»å–</li>
</ul>
<p>å…¶ä¸­ï¼Œæœ€å¸¸ç”¨çš„ä¸€èˆ¬æ˜¯ linspace/logspace å’Œ
randomï¼Œå‰è€…å¸¸å¸¸ç”¨åœ¨ç”»åæ ‡è½´ä¸Šï¼Œåè€…åˆ™ç”¨äºç”Ÿæˆã€Œæ¨¡æ‹Ÿæ•°æ®ã€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“æˆ‘ä»¬éœ€è¦ç”»ä¸€ä¸ªå‡½æ•°çš„å›¾åƒæ—¶ï¼ŒX
å¾€å¾€ä½¿ç”¨ linspace ç”Ÿæˆï¼Œç„¶åä½¿ç”¨å‡½æ•°å…¬å¼æ±‚å¾— Yï¼Œå†
plotï¼›å½“æˆ‘ä»¬éœ€è¦æ„é€ ä¸€äº›è¾“å…¥ï¼ˆæ¯”å¦‚ Xï¼‰æˆ–ä¸­é—´è¾“å…¥ï¼ˆæ¯”å¦‚ Embeddingã€hidden
stateï¼‰æ—¶ï¼Œrandom ä¼šå¼‚å¸¸æ–¹ä¾¿ã€‚</p>
<h3 id="ä»-python-åˆ—è¡¨æˆ–å…ƒç»„åˆ›å»º">ä» python åˆ—è¡¨æˆ–å…ƒç»„åˆ›å»º</h3>
<p>â­â­</p>
<p>é‡ç‚¹æŒæ¡ä¼ å…¥ list åˆ›å»ºä¸€ä¸ª array
å³å¯ï¼š<code>np.array(list)</code></p>
<p>âš ï¸
éœ€è¦æ³¨æ„çš„æ˜¯ï¼šã€Œæ•°æ®ç±»å‹ã€ã€‚å¦‚æœæ‚¨è¶³å¤Ÿä»”ç»†çš„è¯ï¼Œå¯ä»¥å‘ç°ä¸‹é¢ç¬¬äºŒç»„ä»£ç ç¬¬
2 ä¸ªæ•°å­—æ˜¯ã€Œå°æ•°ã€ï¼ˆæ³¨ï¼šPython ä¸­ 1. == 1.0ï¼‰ï¼Œè€Œ array
æ˜¯è¦ä¿è¯æ¯ä¸ªå…ƒç´ ç±»å‹ç›¸åŒçš„ï¼Œæ‰€ä»¥ä¼šå¸®æ‚¨æŠŠ array è½¬ä¸ºä¸€ä¸ª float
çš„ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä¸ª list</span></span><br><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># äºŒç»´ï¼ˆå¤šç»´ç±»ä¼¼ï¼‰</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œæœ‰ä¸€ä¸ªå°æ•°</span></span><br><span class="line">np.array([[<span class="number">1</span>, <span class="number">2.</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 2., 3.],
       [4., 5., 6.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½ ä¹Ÿå¯ä»¥æŒ‡å®šæ•°æ®ç±»å‹</span></span><br><span class="line">np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.float16)</span><br></pre></td></tr></table></figure>
<pre><code>array([1., 2., 3.], dtype=float16)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæŒ‡å®šäº† dtypeï¼Œè¾“å…¥çš„å€¼éƒ½ä¼šè¢«è½¬ä¸ºå¯¹åº”çš„ç±»å‹ï¼Œè€Œä¸”ä¸ä¼šå››èˆäº”å…¥</span></span><br><span class="line">lst = [</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6.8</span>]</span><br><span class="line">]</span><br><span class="line">np.array(lst, dtype=np.int32)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]], dtype=int32)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä¸ª tuple</span></span><br><span class="line">np.asarray((<span class="number">1.1</span>, <span class="number">2.2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([1.1, 2.2])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tupleï¼Œä¸€èˆ¬ç”¨ list å°±å¥½ï¼Œä¸éœ€è¦ä½¿ç”¨ tuple</span></span><br><span class="line">np.array([(<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>), (<span class="number">4.4</span>, <span class="number">5.5</span>, <span class="number">6.6</span>)])</span><br></pre></td></tr></table></figure>
<pre><code>array([[1.1, 2.2, 3.3],
       [4.4, 5.5, 6.6]])</code></pre>
<p>è‡³äº asarray å’Œ array çš„åŒºåˆ«ï¼š</p>
<p>array å’Œ asarray éƒ½å¯ä»¥å°†ç»“æ„æ•°æ®è½¬åŒ–ä¸º
ndarrayï¼Œä½†æ˜¯ä¸»è¦åŒºåˆ«å°±æ˜¯å½“æ•°æ®æºæ˜¯ ndarray æ—¶ï¼Œarray ä¼š copy
å‡ºä¸€ä¸ªå‰¯æœ¬ï¼Œå ç”¨æ–°çš„å†…å­˜ï¼Œä½† asarray ä¸ä¼šã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">arr2 = np.array(arr1)</span><br><span class="line">arr3 = np.asarray(arr1)</span><br><span class="line">arr2[<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line">arr3[<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3]
[ 1 10  3]</code></pre>
<h2 id="ä½¿ç”¨-arange-ç”Ÿæˆ">ä½¿ç”¨ arange ç”Ÿæˆ</h2>
<p>â­â­</p>
<p>range æ˜¯ Python å†…ç½®çš„æ•´æ•°åºåˆ—ç”Ÿæˆå™¨ï¼Œarange æ˜¯ numpy
çš„ï¼Œæ•ˆæœç±»ä¼¼ï¼Œä¼šç”Ÿæˆä¸€ç»´çš„å‘é‡ã€‚æˆ‘ä»¬å¶å°”ä¼šéœ€è¦ä½¿ç”¨è¿™ç§æ–¹å¼æ¥æ„é€ 
arrayï¼Œæ¯”å¦‚ï¼š</p>
<p>éœ€è¦åˆ›å»ºä¸€ä¸ªè¿ç»­ä¸€ç»´å‘é‡ä½œä¸ºè¾“å…¥ï¼ˆæ¯”å¦‚ç¼–ç ä½ç½®æ—¶å¯ä»¥ä½¿ç”¨ï¼‰éœ€è¦è§‚å¯Ÿç­›é€‰ã€æŠ½æ ·çš„ç»“æœæ—¶ï¼Œæœ‰åºçš„
array ä¸€èˆ¬æ›´åŠ å®¹æ˜“è§‚å¯Ÿ</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨ reshape æ—¶ï¼Œç›®æ ‡çš„ shape
éœ€è¦çš„å…ƒç´ æ•°é‡ä¸€å®šè¦å’ŒåŸå§‹çš„å…ƒç´ æ•°é‡ç›¸ç­‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ³¨æ„ï¼Œæ˜¯å°æ•°</span></span><br><span class="line">np.arange(<span class="number">12.0</span>).reshape(<span class="number">4</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0.,  1.,  2.],
       [ 3.,  4.,  5.],
       [ 6.,  7.,  8.],
       [ 9., 10., 11.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.arange(<span class="number">100</span>, <span class="number">124</span>, <span class="number">2</span>).reshape(<span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[[100, 102],
        [104, 106]],

       [[108, 110],
        [112, 114]],

       [[116, 118],
        [120, 122]]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># shape size ç›¸ä¹˜è¦å’Œç”Ÿæˆçš„å…ƒç´ æ•°é‡ä¸€è‡´</span></span><br><span class="line">np.arange(<span class="number">100.</span>, <span class="number">124.</span>, <span class="number">2</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

/Users/zhaochen20/Desktop/Python ç§‘å­¦è®¡ç®—.ipynb Cell 23 in &lt;cell line: 2&gt;()
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000024?line=0&#39;&gt;1&lt;/a&gt; # shape size ç›¸ä¹˜è¦å’Œç”Ÿæˆçš„å…ƒç´ æ•°é‡ä¸€è‡´
----&gt; &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000024?line=1&#39;&gt;2&lt;/a&gt; np.arange(100., 124., 2).reshape(2,3,4)


ValueError: cannot reshape array of size 12 into shape (2,3,4)</code></pre>
<h3 id="ä½¿ç”¨-linspacelogspace-ç”Ÿæˆ">ä½¿ç”¨ linspace/logspace ç”Ÿæˆ</h3>
<p>â­â­â­</p>
<p>OKï¼Œè¿™æ˜¯æˆ‘ä»¬é‡åˆ°çš„ç¬¬ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ APIï¼Œå‰è€…éœ€è¦ä¼ å…¥ 3
ä¸ªå‚æ•°ï¼šå¼€å¤´ï¼Œç»“å°¾ï¼Œæ•°é‡ï¼›åè€…éœ€è¦é¢å¤–ä¼ å…¥ä¸€ä¸ª baseï¼Œå®ƒé»˜è®¤æ˜¯ 10ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šç¬¬ä¸‰ä¸ªå‚æ•°å¹¶<strong>ä¸æ˜¯</strong>æ­¥é•¿ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çº¿æ€§</span></span><br><span class="line"><span class="built_in">print</span>(np.linspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>).reshape(<span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>))</span><br><span class="line">np.linspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>).reshape(<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[[[0.]
  [1.]
  [2.]
  [3.]
  [4.]]

 [[5.]
  [6.]
  [7.]
  [8.]
  [9.]]]





array([[[0., 1., 2., 3., 4.],
        [5., 6., 7., 8., 9.]]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.linspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0. , 1.8, 3.6],
       [5.4, 7.2, 9. ]])</code></pre>
<p>æ¥ä¸‹æ¥æ˜¯ logspaceï¼Œæ³¨æ„å…¶æ„ä¹‰å°±æ˜¯æŒ‰ç…§<a
target="_blank" rel="noopener" href="https://zhaochenyang20.github.io/2022/01/08/%E9%9A%8F%E7%AC%94/%E5%BF%83%E5%BF%83%E5%BF%B5%E5%BF%B5/%E9%9F%B3%E4%B9%90%E4%B8%AD%E7%9A%84%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91/">æŒ‡æ•°çº¿æ€§</a>æ¥ç”Ÿæˆæ•°æ®ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‡æ•° base é»˜è®¤ä¸º 10</span></span><br><span class="line"><span class="built_in">print</span>(np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>, base=np.e))</span><br><span class="line"><span class="built_in">print</span>(np.log(np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>, base=np.e)))</span><br><span class="line"><span class="built_in">print</span>(np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>, base=<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(np.log10(np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">6</span>, base=<span class="number">10</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[1.00000000e+00 6.04964746e+00 3.65982344e+01 2.21406416e+02
 1.33943076e+03 8.10308393e+03]
[0.  1.8 3.6 5.4 7.2 9. ]
[1.00000000e+00 6.30957344e+01 3.98107171e+03 2.51188643e+05
 1.58489319e+07 1.00000000e+09]
[0.  1.8 3.6 5.4 7.2 9. ]</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬æ›´è¿›ä¸€æ­¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">N = <span class="number">20</span></span><br><span class="line">x = np.arange(N)</span><br><span class="line">y1 = np.linspace(<span class="number">0</span>, <span class="number">10</span>, N) * <span class="number">100</span></span><br><span class="line">y2 = np.logspace(<span class="number">0</span>, <span class="number">10</span>, N, base=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;o&#x27;</span>);</span><br><span class="line"><span class="comment">#! åˆ’çº¿</span></span><br><span class="line">plt.plot(x, y2);</span><br><span class="line">plt.plot(x, y1);</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ¯ä¸ªå…ƒç´ æ˜¯å¦ä¸º True</span></span><br><span class="line"><span class="comment"># base çš„ æŒ‡æ•°ä¸º linspace å¾—åˆ°çš„å°±æ˜¯ logspace</span></span><br><span class="line">N = <span class="number">20</span></span><br><span class="line">y2 = np.logspace(<span class="number">0</span>, <span class="number">10</span>, N, base=<span class="number">2</span>)</span><br><span class="line">np.alltrue(<span class="number">2</span> ** np.linspace(<span class="number">0</span>, <span class="number">10</span>, N)  == y2)</span><br></pre></td></tr></table></figure>
<pre><code>True</code></pre>
<blockquote>
<p>âš ï¸ è¡¥å……ï¼šå…³äº array çš„æ¡ä»¶åˆ¤æ–­</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸èƒ½ç›´æ¥ç”¨ if åˆ¤æ–­ array æ˜¯å¦ç¬¦åˆæŸä¸ªæ¡ä»¶</span></span><br><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">cond1 = arr &gt; <span class="number">2</span></span><br><span class="line">cond1</span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> cond1:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;forbid&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

/Users/zhaochen20/Desktop/Python ç§‘å­¦è®¡ç®—.ipynb Cell 34 in &lt;cell line: 1&gt;()
----&gt; &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000036?line=0&#39;&gt;1&lt;/a&gt; if cond1:
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000036?line=1&#39;&gt;2&lt;/a&gt;     print(&quot;forbid&quot;)


ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å³ä¾¿ä½ å…¨æ˜¯ True å®ƒä¹Ÿä¸è¡Œ</span></span><br><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">cond2 = arr &gt; <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> cond2:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;forbid&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

/Users/zhaochen20/Desktop/Python ç§‘å­¦è®¡ç®—.ipynb Cell 35 in &lt;cell line: 4&gt;()
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000037?line=1&#39;&gt;2&lt;/a&gt; arr = np.array([1, 2, 3])
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000037?line=2&#39;&gt;3&lt;/a&gt; cond2 = arr &gt; 0
----&gt; &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000037?line=3&#39;&gt;4&lt;/a&gt; if cond2:
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000037?line=4&#39;&gt;5&lt;/a&gt;     print(&quot;forbid&quot;)


ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åªèƒ½ç”¨ any æˆ– allï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“çŠ¯é”™ï¼Œè¯·åŠ¡å¿…æ³¨æ„ã€‚</span></span><br><span class="line"><span class="keyword">if</span> cond1.<span class="built_in">any</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;if any&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>if any</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> cond2.<span class="built_in">all</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;all conform&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>all conform</code></pre>
<h3 id="ä½¿ç”¨-oneszeros-åˆ›å»º">ä½¿ç”¨ ones/zeros åˆ›å»º</h3>
<p>â­</p>
<p>åˆ›å»ºå…¨ 1/0 array çš„å¿«æ·æ–¹å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ <code>np.zeros_like</code>
æˆ– <code>np.ones_like</code>ï¼ŒäºŒè€…å¯ä»¥å¿«é€Ÿç”Ÿæˆç»™å®š array ä¸€æ · shape çš„ 0
æˆ– 1 å‘é‡ï¼Œè¿™åœ¨éœ€è¦ Mask æŸäº›ä½ç½®æ—¶å¯èƒ½ä¼šç”¨åˆ°ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåˆ›å»ºå‡ºæ¥çš„ array é»˜è®¤æ˜¯ float ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.ones(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([1., 1., 1.])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.ones((<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1.],
       [1., 1., 1.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.zeros((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[[0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.]],

       [[0., 0., 0., 0.],
        [0., 0., 0., 0.],
        [0., 0., 0., 0.]]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åƒç»™å®šå‘é‡é‚£æ ·çš„ 0 å‘é‡ï¼ˆones_like æ˜¯ 1 å‘é‡ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(np.zeros_like(np.ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>))))</span><br></pre></td></tr></table></figure>
<pre><code>[[[0. 0. 0.]
  [0. 0. 0.]
  [0. 0. 0.]]

 [[0. 0. 0.]
  [0. 0. 0.]
  [0. 0. 0.]]]</code></pre>
<h3 id="ä½¿ç”¨-random-ç”Ÿæˆ">ä½¿ç”¨ random ç”Ÿæˆ</h3>
<p>â­â­â­â­â­</p>
<p>å¦‚æœè¦åœ¨è¿™ä¸€èŠ‚é€‰ä¸€ä¸ªæœ€é‡è¦çš„ APIï¼Œé‚£ä¸€å®šæ˜¯ <code>random</code>
æ— ç–‘äº†ï¼Œè¿™é‡Œæˆ‘ä»¬åªä»‹ç»å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ã€Œç”Ÿäº§ã€æ•°æ®ç›¸å…³çš„
APIã€‚å®ƒä»¬ç»å¸¸ç”¨äºéšæœºç”Ÿæˆè®­ç»ƒæˆ–æµ‹è¯•æ•°æ®ï¼Œç¥ç»ç½‘ç»œåˆå§‹åŒ–ç­‰ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¿™é‡Œæˆ‘ä»¬ç»Ÿä¸€æ¨èä½¿ç”¨æ–°çš„ API æ–¹å¼åˆ›å»ºï¼Œå³é€šè¿‡
<code>np.random.default_rng()</code> å…ˆç”Ÿæˆ
<code>Generator</code>ï¼Œç„¶åå†åœ¨æ­¤åŸºç¡€ä¸Šç”Ÿæˆå„ç§åˆ†å¸ƒçš„æ•°æ®ï¼ˆè®°å¿†æ›´åŠ ç®€ä¾¿æ¸…æ™°ï¼‰ã€‚ä¸è¿‡æˆ‘ä»¬ä¾ç„¶ä¼šä»‹ç»å°±çš„
API ç”¨æ³•ï¼Œå› ä¸ºå¾ˆå¤šä»£ç ä¸­ä½¿ç”¨çš„è¿˜æ˜¯æ—§çš„ï¼Œæ‚¨å¯ä»¥æ··ä¸ªçœ¼ç†Ÿã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 0-1 è¿ç»­å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">np.random.rand(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.54422614, 0.7771694 , 0.17419901],
       [0.70917992, 0.44169007, 0.24421882]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å•ä¸ªæ•°</span></span><br><span class="line">np.random.rand()</span><br></pre></td></tr></table></figure>
<pre><code>0.5064066705679392</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 0-1 è¿ç»­å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">np.random.random((<span class="number">3</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.60052534, 0.62961777],
       [0.6097588 , 0.98259692],
       [0.81380663, 0.90393871]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šä¸Šä¸‹ç•Œçš„è¿ç»­å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">np.random.uniform(-<span class="number">1</span>, <span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.70988965,  0.61189297, -0.0014294 ],
       [ 0.16404608, -0.99240214, -0.26983641]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šé¢ä¸¤ä¸ªçš„åŒºåˆ«æ˜¯ shape çš„è¾“å…¥æ–¹å¼ä¸åŒï¼Œæ— ä¼¤å¤§é›…äº†</span></span><br><span class="line"><span class="comment"># ä¸è¿‡ä» 1.17 ç‰ˆæœ¬åæ¨èè¿™æ ·ä½¿ç”¨ï¼ˆä»¥åå¤§å®¶å¯ä»¥ç”¨æ–°çš„æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="comment"># rng æ˜¯ä¸ª Generatorï¼Œå¯ç”¨äºç”Ÿæˆå„ç§åˆ†å¸ƒ</span></span><br><span class="line"><span class="comment">#! 42 æ˜¯éšæœºæ•°ç§å­ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œè®¡ç®—æœºæ˜¯å®Œå…¨ä¸å­˜åœ¨éšæœºçš„ï¼ŒæŒ‡å®šç›¸åŒçš„éšæœºæ•°ç§å­ï¼Œæˆ‘ä»¬ä¼šç”Ÿæˆç›¸åŒçš„éšæœºç»“æœ</span></span><br><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">rng</span><br></pre></td></tr></table></figure>
<pre><code>Generator(PCG64) at 0x7F7908077580</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¨èçš„è¿ç»­å‡åŒ€åˆ†å¸ƒç”¨æ³•</span></span><br><span class="line">rng.random((<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.77395605, 0.43887844, 0.85859792],
       [0.69736803, 0.09417735, 0.97562235]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥æŒ‡å®šä¸Šä¸‹ç•Œï¼Œæ‰€ä»¥æ›´åŠ æ¨èè¿™ç§ç”¨æ³•</span></span><br><span class="line">rng.uniform(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.7611397 , 0.78606431, 0.12811363],
       [0.45038594, 0.37079802, 0.92676499]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># éšæœºæ•´æ•°ï¼ˆç¦»æ•£å‡åŒ€åˆ†å¸ƒï¼‰ï¼Œä¸è¶…è¿‡ç»™å®šçš„å€¼ï¼ˆ10ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(np.random.randint(<span class="number">100</span>, size=(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)))</span><br><span class="line">rng.integers(<span class="number">100</span>, size=(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[[[ 7 12 27 48]
  [58 98 27  1]
  [57 45  5 68]]

 [[28 19 15 42]
  [28 93  3 32]
  [58 89 94 32]]]





array([[[67, 77, 75, 19],
        [36, 46, 49,  4],
        [54, 15, 74, 68]],

       [[92, 74, 36, 96],
        [41, 32, 90, 37],
        [ 7, 46, 79, 18]]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># éšæœºæ•´æ•°ï¼ˆç¦»æ•£å‡åŒ€åˆ†å¸ƒï¼‰ï¼ŒæŒ‡å®šä¸Šä¸‹ç•Œå’Œ shape</span></span><br><span class="line">np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[8, 4, 7],
       [4, 5, 3]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šé¢æ¨èçš„æ–¹æ³•ï¼ŒæŒ‡å®šå¤§å°å’Œä¸Šç•Œ</span></span><br><span class="line">rng.integers(<span class="number">10</span>, size=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([4, 1])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šé¢æ¨èçš„æ–¹æ³•ï¼ŒæŒ‡å®šä¸Šä¸‹ç•Œ</span></span><br><span class="line">rng.integers(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[6, 4, 3],
       [2, 5, 6]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ‡å‡†æ­£æ€åˆ†å¸ƒ</span></span><br><span class="line">np.random.randn(<span class="number">2</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1.00598973, -2.32839773,  0.8845468 , -0.01272806],
       [ 0.49565494, -1.40539762,  1.79185433,  0.36375782]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šé¢æ¨èçš„æ ‡å‡†æ­£æ€åˆ†å¸ƒç”¨æ³•</span></span><br><span class="line">rng.standard_normal((<span class="number">2</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0.74325417,  0.54315427, -0.66550971,  0.23216132],
       [ 0.11668581,  0.2186886 ,  0.87142878,  0.22359555]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é«˜æ–¯åˆ†å¸ƒ</span></span><br><span class="line">np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.9099195 ,  0.40175023,  0.2742747 , -0.76010006,  0.33305447],
       [ 0.36653939,  0.40263391,  2.12750154,  0.45131352, -0.5574691 ],
       [-0.84153653, -0.09624566,  0.83520801,  0.02640151,  0.65957284]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šé¢æ¨èçš„é«˜æ–¯åˆ†å¸ƒç”¨æ³•</span></span><br><span class="line">rng.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0.67891356,  0.06757907,  0.2891194 ,  0.63128823, -1.45715582],
       [-0.31967122, -0.47037265, -0.63887785, -0.27514225,  1.49494131],
       [-0.86583112,  0.96827835, -1.68286977, -0.33488503,  0.16275307]])</code></pre>
<p>æ€»ä¹‹ï¼Œä¸€èˆ¬ä¼šç”¨çš„å°±æ˜¯2ä¸ªåˆ†å¸ƒï¼šå‡åŒ€åˆ†å¸ƒå’Œæ­£æ€ï¼ˆé«˜æ–¯ï¼‰åˆ†å¸ƒã€‚å¦å¤–ï¼Œ<code>size</code>
å¯ä»¥æŒ‡å®š shapeã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¦»æ•£å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">rng.integers(low=<span class="number">0</span>, high=<span class="number">10</span>, size=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([5, 5, 0, 5, 7])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ­£æ€ï¼ˆé«˜æ–¯ï¼‰åˆ†å¸ƒ</span></span><br><span class="line">rng.normal(loc=<span class="number">0.0</span>, scale=<span class="number">1.0</span>, size=(<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.34872507, -0.46235179,  0.85797588],
       [-0.19130432, -1.27568632, -1.13328721]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿ç»­å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">rng.uniform(low=<span class="number">0</span>, high=<span class="number">10</span>, size=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.58302742, 2.81383892, 2.93593758, 6.61916515, 5.57032152])</code></pre>
<h3 id="ä»æ–‡ä»¶è¯»å–">ä»æ–‡ä»¶è¯»å–</h3>
<p>â­â­â­â­â­</p>
<p>è¿™å°èŠ‚ä¸»è¦ç”¨äºåŠ è½½å®ç°å­˜å‚¨å¥½çš„æƒé‡å‚æ•°æˆ–é¢„å¤„ç†å¥½çš„æ•°æ®é›†ï¼Œæœ‰æ—¶å€™ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œæ¯”å¦‚è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°åŠ è½½åˆ°å†…å­˜é‡Œç”¨æ¥æä¾›æ¨ç†æœåŠ¡ï¼Œæˆ–è€…è€—æ—¶å¾ˆä¹…çš„é¢„å¤„ç†æ•°æ®ç›´æ¥å­˜èµ·æ¥ï¼Œå¤šæ¬¡å®éªŒæ—¶ä¸éœ€è¦é‡æ–°å¤„ç†ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå­˜å‚¨æ—¶ä¸éœ€è¦å†™æ–‡ä»¶ååç¼€ï¼Œä¼šè‡ªåŠ¨æ·»åŠ ã€‚ åœ¨<a
target="_blank" rel="noopener" href="https://github.com/zhaochenyang20/IAI_2022">äººæ™ºå¯¼</a>ä¸­å¯ä»¥ä¼˜é›…åœ°ä½¿ç”¨ï¼Œä½†æ˜¯è¯·è‡ªè¡Œå­¦ä¹ 
<code>allow_pickle</code> å‚æ•°ï¼Œæ­¤å¤„ç»™å‡º<a
target="_blank" rel="noopener" href="https://github.com/zhaochenyang20/IAI_2022/blob/main/homework/input-method/src/pinyin.py">è¾“å…¥æ³•å¤§ä½œä¸š</a>é‡Œçš„ä¸€ä¸ªä¾‹å­ï¼š
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dictionary = np.load(Path.cwd() / <span class="string">&quot;dictionary.npz&quot;</span>, allow_pickle=<span class="literal">True</span>)[<span class="string">&quot;dic&quot;</span>].item()</span><br><span class="line">one, two, three = [Counter(each[<span class="number">1</span>].item()) <span class="keyword">for</span> each <span class="keyword">in</span> np.load(Path.cwd() / <span class="string">&quot;full_set.npz&quot;</span>, allow_pickle=<span class="literal">True</span>).items()]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥å°†ç»™å®šçŸ©é˜µå­˜ä¸º a.npy</span></span><br><span class="line">np.save(<span class="string">&#x27;./a&#x27;</span>, np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥å°†å¤šä¸ªçŸ©é˜µå­˜åœ¨ä¸€èµ·ï¼Œåä¸º `b.npz`</span></span><br><span class="line">np.savez(<span class="string">&quot;./b&quot;</span>, a=np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>), å­—å…¸=np.arange(<span class="number">12.</span>).reshape(<span class="number">4</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å’Œä¸Šä¸€ä¸ªä¸€æ ·ï¼Œåªæ˜¯å‹ç¼©äº†</span></span><br><span class="line">np.savez_compressed(<span class="string">&quot;./c&quot;</span>, a=np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>), c=np.arange(<span class="number">12.</span>).reshape(<span class="number">4</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½å•ä¸ª array</span></span><br><span class="line">np.load(<span class="string">&quot;./a.npy&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½å¤šä¸ªï¼Œå¯ä»¥åƒå­—å…¸é‚£æ ·å–å‡ºå¯¹åº”çš„ array</span></span><br><span class="line">arr = np.load(<span class="string">&quot;./b.npz&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥ç›´æ¥ä½¿ç”¨ npzã€npb çš„åç§°è¿›è¡ŒåŠ è½½</span></span><br><span class="line">arr[<span class="string">&quot;å­—å…¸&quot;</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0.,  1.,  2.],
       [ 3.,  4.,  5.],
       [ 6.,  7.,  8.],
       [ 9., 10., 11.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="built_in">print</span>(key)</span><br></pre></td></tr></table></figure>
<pre><code>a
å­—å…¸</code></pre>
<h2 id="ç»Ÿè®¡å’Œå±æ€§">ç»Ÿè®¡å’Œå±æ€§</h2>
<p>æœ¬èŠ‚æˆ‘ä»¬ä» array çš„åŸºæœ¬ç»Ÿè®¡å±æ€§å…¥æ‰‹ï¼Œå¯¹åˆšåˆšåˆ›å»ºçš„ array
è¿›ä¸€æ­¥çš„äº†è§£ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>å°ºå¯¸ç›¸å…³</li>
<li>æœ€å¤§ã€æœ€å°ã€ä¸­ä½ã€åˆ†ä½å€¼</li>
<li>å¹³å‡ã€æ±‚å’Œã€æ ‡å‡†å·®ç­‰</li>
</ul>
<p>éƒ½æ˜¯æè¿°æ€§ç»Ÿè®¡ç›¸å…³çš„æŒ‡æ ‡ï¼Œå¯¹äºæˆ‘ä»¬ä»æ•´ä½“äº†è§£ä¸€ä¸ª array
å¾ˆæœ‰å¸®åŠ©ã€‚å…¶ä¸­ï¼Œç”¨åˆ°æœ€å¤šçš„æ˜¯å°ºå¯¸ç›¸å…³çš„ã€Œ<code>shape</code>ã€ï¼Œæœ€å¤§ã€æœ€å°å€¼ï¼Œå¹³å‡å€¼ã€æ±‚å’Œç­‰ã€‚</p>
<p>æœ¬èŠ‚çš„å†…å®¹éå¸¸ç®€å•ï¼Œæ‚¨åªéœ€è¦ç‰¹åˆ«å…³æ³¨ï¼ˆè®°ä½ï¼‰ä¸¤ä¸ªé‡è¦çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>æŒ‰ç»´åº¦ï¼ˆæŒ‡å®š axisï¼‰æ±‚ç»“æœã€‚ä¸€èˆ¬ 0 è¡¨ç¤ºåˆ— 1
è¡¨ç¤ºè¡Œï¼Œå¯ä»¥ç”¨ã€Œ<strong>æ²¿ç€è¡Œ/åˆ—æ“ä½œ</strong>ã€è¿™æ ·ç†è§£ï¼Œä¸ç¡®å®šæ—¶å¯ä»¥æ‹¿ä¸ªä¾‹å­è¯•ä¸€ä¸‹ã€‚</li>
<li>è®¡ç®—åä¿æŒç»´åº¦ï¼ˆ<code>keepdims=True</code>ï¼‰</li>
</ul>
<p><strong>å¦å¤–ï¼Œä¸ºäº†ä¾¿äºæ“ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªéšæœºç”Ÿæˆçš„ array
ä½œä¸ºæ“ä½œå¯¹è±¡ï¼›åŒæ—¶ï¼Œæˆ‘ä»¬æŒ‡å®šäº†
seedï¼Œè¿™æ ·æ¯æ¬¡è¿è¡Œï¼Œæ¯ä¸ªäººçœ‹åˆ°çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸€èˆ¬æˆ‘ä»¬åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œå¾€å¾€éœ€è¦æŒ‡å®š
seedï¼Œè¿™æ ·æ‰èƒ½åœ¨ã€ŒåŒç­‰æ¡ä»¶ã€ä¸‹è¿›è¡Œè°ƒå‚ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#  å…ˆåˆ›å»ºä¸€ä¸ª Generator</span></span><br><span class="line">rng = np.random.default_rng(seed=<span class="number">42</span>)</span><br><span class="line"><span class="comment">#  å†ç”Ÿæˆä¸€ä¸ªå‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">arr = rng.uniform(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.77395605, 0.43887844, 0.85859792, 0.69736803],
       [0.09417735, 0.97562235, 0.7611397 , 0.78606431],
       [0.12811363, 0.45038594, 0.37079802, 0.92676499]])</code></pre>
<h3 id="å°ºå¯¸ç›¸å…³">å°ºå¯¸ç›¸å…³</h3>
<p>â­â­</p>
<p>è¿™ä¸€å°èŠ‚ä¸»è¦åŒ…æ‹¬ï¼šç»´åº¦ã€å½¢çŠ¶å’Œæ•°æ®é‡ï¼Œå…¶ä¸­å½¢çŠ¶ <code>shape</code>
æˆ‘ä»¬ç”¨åˆ°çš„æœ€å¤šã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šsize ä¸æ˜¯ shapeã€‚è€Œ ndim è¡¨ç¤ºæœ‰å‡ ä¸ªç»´åº¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç»´åº¦ï¼Œarray æ˜¯äºŒç»´çš„ï¼ˆä¸¤ä¸ªç»´åº¦ï¼‰</span></span><br><span class="line">arr.ndim</span><br></pre></td></tr></table></figure>
<pre><code>2</code></pre>
<h4 id="np.shape"><code>np.shape</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å½¢çŠ¶ï¼Œè¿”å›ä¸€ä¸ª Tuple</span></span><br><span class="line">arr.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3, 4)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®é‡</span></span><br><span class="line">arr.size</span><br></pre></td></tr></table></figure>
<pre><code>12</code></pre>
<h3 id="æœ€å€¼åˆ†ä½">æœ€å€¼åˆ†ä½</h3>
<p>â­â­â­</p>
<p>è¿™ä¸€å°èŠ‚ä¸»è¦åŒ…æ‹¬ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€ä¸­ä½æ•°ã€å…¶ä»–åˆ†ä½æ•°ï¼Œå…¶ä¸­ã€<strong>æœ€å¤§å€¼å’Œæœ€å°å€¼</strong>ã€æˆ‘ä»¬å¹³æ—¶ç”¨åˆ°çš„æœ€å¤šã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåˆ†ä½æ•°å¯ä»¥æ˜¯ 0-1
çš„ä»»æ„å°æ•°ï¼ˆè¡¨ç¤ºå¯¹åº”åˆ†ä½ï¼‰ï¼Œè€Œä¸”åˆ†ä½æ•°å¹¶ä¸ä¸€å®šåœ¨åŸå§‹çš„ array ä¸­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰€æœ‰å…ƒç´ ä¸­æœ€å¤§çš„</span></span><br><span class="line">arr.<span class="built_in">max</span>()</span><br></pre></td></tr></table></figure>
<pre><code>0.9756223516367559</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰ç»´åº¦ï¼ˆåˆ—ï¼‰æœ€å¤§å€¼</span></span><br><span class="line">arr.<span class="built_in">max</span>(axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.77395605, 0.97562235, 0.85859792, 0.92676499])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŒç†ï¼ŒæŒ‰è¡Œ</span></span><br><span class="line">arr.<span class="built_in">max</span>(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.85859792, 0.97562235, 0.92676499])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ˜¯å¦ä¿æŒåŸæ¥çš„ç»´åº¦</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„ä¸‹ï¼Œå¾ˆå¤šæ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­éƒ½éœ€è¦ä¿æŒåŸæœ‰çš„ç»´åº¦è¿›è¡Œåç»­è®¡ç®—</span></span><br><span class="line"><span class="comment"># arr.min çš„ç»´åº¦æ˜¯ (3,1)ï¼Œarray çš„ shape æ˜¯ (3,4)ï¼ŒæŒ‰è¡Œï¼ŒåŒæ—¶ä¿æŒäº†è¡Œçš„ç»´åº¦</span></span><br><span class="line">arr.<span class="built_in">min</span>(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.43887844],
       [0.09417735],
       [0.12811363]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿æŒç»´åº¦ï¼šï¼ˆ1ï¼Œ4ï¼‰ï¼ŒåŸå§‹arrayæ˜¯ï¼ˆ3ï¼Œ4ï¼‰</span></span><br><span class="line">arr.<span class="built_in">min</span>(axis=<span class="number">0</span>, keepdims=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.09417735, 0.43887844, 0.37079802, 0.69736803]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ç»´äº†</span></span><br><span class="line">arr.<span class="built_in">min</span>(axis=<span class="number">0</span>, keepdims=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.09417735, 0.43887844, 0.37079802, 0.69736803])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸­ä½æ•°</span></span><br><span class="line"><span class="comment"># å…¶ä»–ç”¨æ³•å’Œ maxï¼Œmin æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">np.median(arr)</span><br></pre></td></tr></table></figure>
<pre><code>0.7292538655248584</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ†ä½æ•°ï¼Œæ³¨æ„ï¼Œåˆ†ä½æ•°å¯ä»¥æ˜¯ 0-1 ä¹‹é—´çš„ä»»ä½•æ•°å­—ï¼ˆåˆ†ä½ï¼‰</span></span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯ 1/2 åˆ†ä½ï¼Œé‚£æ­£å¥½æ˜¯ä¸­ä½æ•°</span></span><br><span class="line">np.quantile(arr, q=<span class="number">1</span>/<span class="number">2</span>, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.73566204],
       [0.773602  ],
       [0.41059198]])</code></pre>
<h3 id="å¹³å‡æ±‚å’Œæ ‡å‡†å·®">å¹³å‡æ±‚å’Œæ ‡å‡†å·®</h3>
<p>â­â­â­</p>
<p>è¿™ä¸€å°èŠ‚ä¸»è¦åŒ…æ‹¬ï¼šå¹³å‡å€¼ã€ç´¯è®¡æ±‚å’Œã€æ–¹å·®ã€æ ‡å‡†å·®ç­‰è¿›ä¸€æ­¥çš„ç»Ÿè®¡æŒ‡æ ‡ã€‚å…¶ä¸­ä½¿ç”¨æœ€å¤šçš„æ˜¯ã€Œå¹³å‡å€¼ã€ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¹³å‡å€¼</span></span><br><span class="line">np.average(arr)</span><br></pre></td></tr></table></figure>
<pre><code>0.6051555606435642</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰ç»´åº¦å¹³å‡ï¼ˆåˆ—ï¼‰</span></span><br><span class="line">np.average(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.33208234, 0.62162891, 0.66351188, 0.80339911])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦ä¸€ä¸ªè®¡ç®—å¹³å‡å€¼çš„ API</span></span><br><span class="line"><span class="comment"># å®ƒä¸ average çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œnp.average å¯ä»¥æŒ‡å®šæƒé‡ï¼Œå³å¯ä»¥ç”¨äºè®¡ç®—åŠ æƒå¹³å‡</span></span><br><span class="line"><span class="comment"># ä¸€èˆ¬å»ºè®®ä½¿ç”¨ averageï¼Œå¿˜æ‰ mean å§ï¼</span></span><br><span class="line">np.mean(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.33208234, 0.62162891, 0.66351188, 0.80339911])</code></pre>
<h4 id="np.sum"><code>np.sum</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ±‚å’Œï¼Œä¸å¤šè¯´äº†ï¼Œç±»ä¼¼</span></span><br><span class="line">np.<span class="built_in">sum</span>(arr, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([2.76880044, 2.61700371, 1.87606258])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.<span class="built_in">sum</span>(arr, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[2.76880044],
       [2.61700371],
       [1.87606258]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰åˆ—ç´¯è®¡æ±‚å’Œ</span></span><br><span class="line">np.cumsum(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.77395605, 0.43887844, 0.85859792, 0.69736803],
       [0.8681334 , 1.41450079, 1.61973762, 1.48343233],
       [0.99624703, 1.86488673, 1.99053565, 2.41019732]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰è¡Œç´¯è®¡æ±‚å’Œ</span></span><br><span class="line">np.cumsum(arr, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.77395605, 1.21283449, 2.07143241, 2.76880044],
       [0.09417735, 1.0697997 , 1.8309394 , 2.61700371],
       [0.12811363, 0.57849957, 0.94929759, 1.87606258]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ‡å‡†å·®ï¼Œç”¨æ³•ç±»ä¼¼</span></span><br><span class="line">np.std(arr)</span><br></pre></td></tr></table></figure>
<pre><code>0.28783096517727075</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰åˆ—æ±‚æ ‡å‡†å·®</span></span><br><span class="line">np.std(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.3127589 , 0.25035525, 0.21076935, 0.09444968])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–¹å·®</span></span><br><span class="line">np.var(arr, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.02464271, 0.1114405 , 0.0839356 ])</code></pre>
<h2 id="å½¢çŠ¶å’Œè½¬æ¢">å½¢çŠ¶å’Œè½¬æ¢</h2>
<p>array å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ä»¥å¤šç»´çš„å½¢å¼å‡ºç°çš„ï¼Œä¸€èˆ¬å¯¹è¶…è¿‡äºŒç»´çš„å¤šç»´ array
ç§°ä¸ºã€Œå¼ é‡ã€ï¼ŒäºŒç»´çŸ©é˜µï¼Œä¸€ç»´å‘é‡ã€‚å› ä¸ºå¤šç»´åº¦ï¼Œæ‰€ä»¥è‡ªç„¶è€Œç„¶åœ°æ¶‰åŠåˆ°å½¢çŠ¶çš„æ”¹å˜å’Œè½¬æ¢ï¼Œå¯ä»¥ç®—æ˜¯å¼ é‡æœ€åŸºç¡€çš„ã€Œæ“ä½œã€äº†ã€‚</p>
<p>æœ¬èŠ‚æˆ‘ä»¬ä¸»è¦æ¶‰åŠä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>æ”¹å˜å½¢çŠ¶</li>
<li>ååº</li>
<li>è½¬ç½®</li>
</ul>
<p>å…¶ä¸­ï¼Œæ”¹å˜å½¢çŠ¶å’Œè½¬ç½®éƒ½éå¸¸å¸¸ç”¨ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ç†Ÿç»ƒæŒæ¡ã€‚</p>
<h3 id="æ”¹å˜å½¢çŠ¶">æ”¹å˜å½¢çŠ¶</h3>
<p>â­â­â­â­â­</p>
<p>è¿™å°èŠ‚é‡Œé¢çš„ API ä½¿ç”¨éå¸¸é«˜é¢‘ï¼Œå°¤å…¶æ˜¯æ‰©å±• 1 ç»´åº¦çš„
<code>expand_dims</code> å’Œå»é™¤ 1 ç»´åº¦çš„
<code>squeeze</code>ï¼Œæ‚¨æœªæ¥ä¼šåœ¨å¾ˆå¤šç¥ç»ç½‘ç»œæ¶æ„ä¸­çœ‹åˆ°è¿™ä¿©è´§çš„èº«å½±ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ— è®ºæ˜¯æ‰©å±•è¿˜æ˜¯ç¼©å‡ï¼Œå¤šæˆ–å°‘çš„ shape éƒ½æ˜¯
1ï¼Œ<code>squeeze</code> æ—¶å¦‚æœæŒ‡å®šç»´åº¦ï¼Œåˆ™è¯¥ç»´åº¦ shape å¿…é¡»æ˜¯ 1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¢ä¸ªæ•´æ•°çš„éšæœº array</span></span><br><span class="line">rng = np.random.default_rng(seed=<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;arr[0]&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;arr[:, 0]&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[:, <span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;arr[:, :, 0]&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[:, :, <span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[[[ 9 77]
  [65 44]
  [43 86]
  [ 9 70]]

 [[20 10]
  [53 97]
  [73 76]
  [72 78]]

 [[51 13]
  [84 45]
  [50 37]
  [19 92]]]
arr[0]
[[ 9 77]
 [65 44]
 [43 86]
 [ 9 70]]
arr[:, 0]
[[ 9 77]
 [20 10]
 [51 13]]
arr[:, :, 0]
[[ 9 65 43  9]
 [20 53 73 72]
 [51 84 50 19]]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœ‰æ—¶å€™æ‚¨å¯èƒ½éœ€è¦å°†å¤šç»´ array æ‰“å¹³</span></span><br><span class="line">arr = arr.ravel()</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(arr.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[ 9 77 65 44 43 86  9 70 20 10 53 97 73 76 72 78 51 13 84 45 50 37 19 92]
(24,)</code></pre>
<h4 id="np.expand_dims"><code>np.expand_dims</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#### æ‰©å±• 1 ä¸ªç»´åº¦ï¼Œéœ€è¦ï¼ˆå¿…é¡»ï¼‰æŒ‡å®šç»´åº¦</span></span><br><span class="line"><span class="comment"># å…¶å®å°±æ˜¯å¤šåµŒå¥—äº†ä¸€ä¸‹</span></span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[:, <span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line">arr = np.expand_dims(arr, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr[:, <span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[[92 74 37 96]
 [41 33 90 37]
 [ 8 47 79 19]]
----------------------------------------------------
[92 74 37 96]
----------------------------------------------------
[92 41  8]
----------------------------------------------------
(3, 4)
----------------------------------------------------
(1, 3, 4)
----------------------------------------------------
[[92 74 37 96]
 [41 33 90 37]
 [ 8 47 79 19]]
----------------------------------------------------
[[92 74 37 96]]
----------------------------------------------------
[[[92 74 37 96]
  [41 33 90 37]
  [ 8 47 79 19]]]
----------------------------------------------------</code></pre>
<h1 id="é€šç”¨å‡½æ•°">é€šç”¨å‡½æ•°</h1>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºäº† NumPy
çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚åœ¨æ¥ä¸‹æ¥çš„å‡ å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£ NumPy åœ¨ Python
æ•°æ®ç§‘å­¦ä¸–ç•Œä¸­å¦‚æ­¤é‡è¦çš„åŸå› ã€‚æ˜ç¡®ç‚¹è¯´ï¼ŒNumPy
æä¾›äº†ä¸€ä¸ªç®€å•çµæ´»çš„æ¥å£æ¥ä¼˜åŒ–æ•°æ®æ•°ç»„çš„è®¡ç®—ã€‚</p>
<p>NumPy æ•°ç»„çš„è®¡ç®—æœ‰æ—¶éå¸¸å¿«ï¼Œæœ‰æ—¶ä¹Ÿéå¸¸æ…¢ã€‚ä½¿ NumPy
å˜å¿«çš„å…³é”®æ˜¯åˆ©ç”¨å‘é‡åŒ–æ“ä½œï¼Œé€šå¸¸åœ¨ NumPy
çš„é€šç”¨å‡½æ•°ï¼ˆufuncï¼‰ä¸­å®ç°ã€‚æœ¬èŠ‚å°†ä»‹ç» NumPy
é€šç”¨å‡½æ•°çš„é‡è¦æ€§â€”â€”å®ƒå¯ä»¥æé«˜æ•°ç»„å…ƒç´ çš„é‡å¤è®¡ç®—çš„æ•ˆç‡ï¼›ç„¶åï¼Œå°†ä¼šä»‹ç»å¾ˆå¤š
NumPy åŒ…ä¸­å¸¸ç”¨ä¸”æœ‰ç”¨çš„æ•°å­¦é€šç”¨å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬å†å›é¡¾ä¸‹ä¹‹å‰æ±‚å€’æ•°çš„ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_reciprocals</span>(<span class="params">values</span>):</span></span><br><span class="line">    output = np.empty(<span class="built_in">len</span>(values))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(values)):</span><br><span class="line">        output[i] = <span class="number">1.0</span> / values[i]</span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">values = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, size=<span class="number">5</span>)</span><br><span class="line">compute_reciprocals(values)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.16666667, 1.        , 0.25      , 0.25      , 0.125     ])</code></pre>
<p>NumPy
ä¸ºå¾ˆå¤šç±»å‹çš„æ“ä½œæä¾›äº†éå¸¸æ–¹ä¾¿çš„ã€é™æ€ç±»å‹çš„ã€å¯ç¼–è¯‘ç¨‹åºçš„æ¥å£ï¼Œä¹Ÿè¢«ç§°ä½œå‘é‡æ“ä½œã€‚ä½ å¯ä»¥é€šè¿‡ç®€å•åœ°å¯¹æ•°ç»„æ‰§è¡Œæ“ä½œæ¥å®ç°ï¼Œè¿™é‡Œå¯¹æ•°ç»„çš„æ“ä½œå°†ä¼šè¢«ç”¨äºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚è¿™ç§å‘é‡æ–¹æ³•è¢«ç”¨äºå°†å¾ªç¯æ¨é€è‡³
NumPy ä¹‹ä¸‹çš„ç¼–è¯‘å±‚ï¼Œè¿™æ ·ä¼šå–å¾—æ›´å¿«çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p>æ¯”è¾ƒå¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(compute_reciprocals(values))</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1.0</span> / values)</span><br></pre></td></tr></table></figure>
<pre><code>[0.16666667 1.         0.25       0.25       0.125     ]
[0.16666667 1.         0.25       0.25       0.125     ]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">big_array = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, size=<span class="number">1000000</span>)</span><br><span class="line">%timeit compute_reciprocals(big_array)</span><br><span class="line">%timeit (<span class="number">1.0</span> / big_array)</span><br></pre></td></tr></table></figure>
<pre><code>1.86 s Â± 49.2 ms per loop (mean Â± std. dev. of 7 runs, 1 loop each)
694 Âµs Â± 174 Âµs per loop (mean Â± std. dev. of 7 runs, 1,000 loops each)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%time compute_reciprocals(big_array)</span><br><span class="line">%time (<span class="number">1.0</span> / big_array)</span><br></pre></td></tr></table></figure>
<pre><code>CPU times: user 1.83 s, sys: 11.7 ms, total: 1.85 s
Wall time: 1.85 s
CPU times: user 812 Âµs, sys: 145 Âµs, total: 957 Âµs
Wall time: 676 Âµs





array([0.1       , 0.01190476, 0.04545455, ..., 0.01428571, 0.01098901,
       0.01149425])</code></pre>
<p>NumPy ä¸­çš„å‘é‡æ“ä½œæ˜¯é€šè¿‡é€šç”¨å‡½æ•°å®ç°çš„ã€‚é€šç”¨å‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯å¯¹ NumPy
æ•°ç»„ä¸­çš„å€¼æ‰§è¡Œæ›´å¿«çš„é‡å¤æ“ä½œã€‚å®ƒéå¸¸çµæ´»ï¼Œå‰é¢æˆ‘ä»¬çœ‹è¿‡äº†æ ‡é‡å’Œæ•°ç»„çš„è¿ç®—ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œè¿ç®—ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.arange(<span class="number">5</span>) / np.arange(<span class="number">1</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.        , 0.5       , 0.66666667, 0.75      , 0.8       ])</code></pre>
<p>é€šç”¨å‡½æ•°å¹¶ä¸ä»…é™äºä¸€ç»´æ•°ç»„çš„è¿ç®—ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥è¿›è¡Œå¤šç»´æ•°ç»„çš„è¿ç®—ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line"><span class="number">2</span> ** x</span><br></pre></td></tr></table></figure>
<pre><code>array([[  1,   2,   4],
       [  8,  16,  32],
       [ 64, 128, 256]])</code></pre>
<p>é€šè¿‡é€šç”¨å‡½æ•°ç”¨å‘é‡çš„æ–¹å¼è¿›è¡Œè®¡ç®—å‡ ä¹æ€»æ¯”ç”¨ Python
å¾ªç¯å®ç°çš„è®¡ç®—æ›´åŠ æœ‰æ•ˆï¼Œå°¤å…¶æ˜¯å½“æ•°ç»„å¾ˆå¤§æ—¶ã€‚åªè¦ä½ çœ‹åˆ° Python
è„šæœ¬ä¸­æœ‰è¿™æ ·çš„å¾ªç¯ï¼Œå°±åº”è¯¥è€ƒè™‘èƒ½å¦ç”¨å‘é‡æ–¹å¼æ›¿æ¢è¿™ä¸ªå¾ªç¯ã€‚</p>
<p>ç»™å‡ºä¸€äº›ä¾‹å­ï¼Œå…·ä½“çš„è¯·æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼š</p>
$$
<span class="math display">\[\begin{array}{lll}

\end{array}\]</span>
<p><span class="math display">\[
\]</span> <span class="math display">\[\begin{equation}

\begin{array}{lll}
\hline \text { è¿ç®—ç¬¦ } &amp; \text { å¯¹åº”çš„é€šç”¨å‡½æ•° } &amp; \text {
æè¿° } \\
\hline+ &amp; n p . a d d &amp; \text { åŠ æ³•è¿ç®— }(\text { å³ } 1+1=2)
\\
- &amp; n p . \text { subtract } &amp; \text { å‡æ³•è¿ç®— }(\text { å³ }
3-2=1) \\
- &amp; \text { np.negative } &amp; \text { è´Ÿæ•°è¿ç®— }(\text { å³ }-2)
\\

* &amp; \text { np.multiply } &amp; \text { ä¹˜æ³•è¿ç®— }(\text { å³ } 2 *
3=6) \\

/ &amp; \text { np.divide } &amp; \text { é™¤æ³•è¿ç®— }(\text { å³ } 3 /
2=1.5) \\

/ / &amp; \text { np.floor}\text {divide } &amp; \text { åœ°æ¿é™¤æ³•è¿ç®—
(floor divisionï¼Œå³ } 3 / / 2=1) \\

\text { ** } &amp; \text { np.power } &amp; \text { æŒ‡æ•°è¿ç®— }(\text {
å³ } 2 * * 3=8) \\

\% &amp; \text { np.mod } &amp; \text { æ¨¡ / ä½™æ•° }(\text { å³ } 9 \%
4=1) \\

\hline

\end{array}

\end{equation}\]</span> $$</p>
<p>ä¸“ç”¨çš„é€šç”¨å‡½æ•° é™¤äº†ä»¥ä¸Šä»‹ç»åˆ°çš„ï¼ŒNumPy
è¿˜æä¾›äº†å¾ˆå¤šé€šç”¨å‡½æ•°ï¼ŒåŒ…æ‹¬åŒæ›²ä¸‰è§’å‡½æ•°ã€æ¯”ç‰¹ä½è¿ç®—ã€æ¯”è¾ƒè¿ç®—ç¬¦ã€å¼§åº¦è½¬åŒ–ä¸ºè§’åº¦çš„è¿ç®—ã€å–æ•´å’Œæ±‚ä½™è¿ç®—ï¼Œç­‰ç­‰ã€‚æµè§ˆ
NumPy çš„æ–‡æ¡£å°†ä¼šæ­ç¤ºå¾ˆå¤šæœ‰è¶£çš„åŠŸèƒ½ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ›´åŠ ä¸“ç”¨ï¼Œä¹Ÿæ›´åŠ æ™¦æ¶©çš„é€šç”¨å‡½æ•°ä¼˜å¼‚æ¥æºæ˜¯å­æ¨¡å—
scipy.specialã€‚å¦‚æœä½ å¸Œæœ›å¯¹ä½ çš„æ•°æ®è¿›è¡Œä¸€äº›æ›´æ™¦æ¶©çš„æ•°å­¦è®¡ç®—ï¼Œscipy.special
å¯èƒ½åŒ…å«äº†ä½ éœ€è¦çš„è®¡ç®—å‡½æ•°ã€‚</p>
<p>è¿™äº›å‡½æ•°èƒ½åˆ—ä¸€ä¸ªé•¿é•¿çš„åˆ—è¡¨ï¼Œä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä¸€äº›å¯èƒ½åœ¨ç»Ÿè®¡å­¦ä¸­ç”¨åˆ°çš„å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> special</span><br><span class="line"><span class="comment"># Gammaå‡½æ•°ï¼ˆå¹¿ä¹‰é˜¶ä¹˜ï¼Œgeneralized factorialsï¼‰å’Œç›¸å…³å‡½æ•°</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;gamma(x) =&quot;</span>, special.gamma(x))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ln|gamma(x)| =&quot;</span>, special.gammaln(x))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;beta(x, 2) =&quot;</span>, special.beta(x, <span class="number">2</span>))</span><br><span class="line"> <span class="comment"># è¯¯å·®å‡½æ•°ï¼ˆé«˜æ–¯ç§¯åˆ†ï¼‰</span></span><br><span class="line"> <span class="comment"># å®ƒçš„å®ç°å’Œå®ƒçš„é€†å®ç°</span></span><br><span class="line">x = np.array([<span class="number">0</span>, <span class="number">0.3</span>, <span class="number">0.7</span>, <span class="number">1.0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;erf(x) =&quot;</span>, special.erf(x))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;erfc(x) =&quot;</span>, special.erfc(x))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;erfinv(x) =&quot;</span>, special.erfinv(x))</span><br></pre></td></tr></table></figure>
<pre><code>gamma(x) = [1.0000e+00 2.4000e+01 3.6288e+05]
ln|gamma(x)| = [ 0.          3.17805383 12.80182748]
beta(x, 2) = [0.5        0.03333333 0.00909091]
erf(x) = [0.         0.32862676 0.67780119 0.84270079]
erfc(x) = [1.         0.67137324 0.32219881 0.15729921]
erfinv(x) = [0.         0.27246271 0.73286908        inf]</code></pre>
<p>NumPy å’Œ scipy.special
ä¸­æä¾›äº†å¤§é‡çš„é€šç”¨å‡½æ•°ï¼Œè¿™äº›åŒ…çš„æ–‡æ¡£åœ¨ç½‘ä¸Šå°±å¯ä»¥æŸ¥åˆ°ï¼Œæœç´¢â€œgamma
function pythonâ€å³å¯ã€‚</p>
<h2 id="é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§">é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§</h2>
<ol type="1">
<li>æŒ‡å®šè¾“å‡º</li>
</ol>
<p>åœ¨è¿›è¡Œå¤§é‡è¿ç®—æ—¶ï¼Œæœ‰æ—¶å€™æŒ‡å®šä¸€ä¸ªç”¨äºå­˜æ”¾è¿ç®—ç»“æœçš„æ•°ç»„æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¸åŒäºåˆ›å»ºä¸´æ—¶æ•°ç»„ï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªç‰¹æ€§å°†è®¡ç®—ç»“æœç›´æ¥å†™å…¥åˆ°ä½ æœŸæœ›çš„å­˜å‚¨ä½ç½®ã€‚æ‰€æœ‰çš„é€šç”¨å‡½æ•°éƒ½å¯ä»¥é€šè¿‡
out å‚æ•°æ¥æŒ‡å®šè®¡ç®—ç»“æœçš„å­˜æ”¾ä½ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.empty(<span class="number">5</span>)</span><br><span class="line">np.multiply(x, <span class="number">10</span>, out=y) </span><br><span class="line"><span class="built_in">print</span>(y)</span><br></pre></td></tr></table></figure>
<pre><code>[ 0. 10. 20. 30. 40.]</code></pre>
<p>è¿™ä¸ªç‰¹æ€§ä¹Ÿå¯ä»¥è¢«ç”¨ä½œæ•°ç»„è§†å›¾ï¼Œä¾‹å¦‚å¯ä»¥å°†è®¡ç®—ç»“æœå†™å…¥æŒ‡å®šæ•°ç»„çš„æ¯éš”ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y = np.zeros(<span class="number">10</span>)</span><br><span class="line">np.power(<span class="number">2</span>, x, out=y[::<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(y)</span><br></pre></td></tr></table></figure>
<pre><code>[ 1.  0.  2.  0.  4.  0.  8.  0. 16.  0.]</code></pre>
<p>å¦‚æœè¿™é‡Œå†™çš„æ˜¯ y[::2] = 2 **
xï¼Œé‚£ä¹ˆç»“æœå°†æ˜¯åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ï¼Œè¯¥æ•°ç»„å­˜æ”¾çš„æ˜¯2 ** x
çš„ç»“æœï¼Œå¹¶ä¸”æ¥ä¸‹æ¥ä¼šå°†è¿™äº›å€¼å¤åˆ¶åˆ° y
æ•°ç»„ä¸­ã€‚å¯¹äºä¸Šè¿°ä¾‹å­ä¸­æ¯”è¾ƒå°çš„è®¡ç®—é‡æ¥è¯´ï¼Œè¿™ä¸¤ç§æ–¹å¼çš„å·®åˆ«å¹¶ä¸å¤§ã€‚ä½†æ˜¯å¯¹äºè¾ƒå¤§çš„æ•°ç»„ï¼Œé€šè¿‡æ…é‡ä½¿ç”¨
out å‚æ•°å°†èƒ½å¤Ÿæœ‰æ•ˆèŠ‚çº¦å†…å­˜ã€‚</p>
<p>2.èšåˆ</p>
<p>äºŒå…ƒé€šç”¨å‡½æ•°æœ‰äº›éå¸¸æœ‰è¶£çš„èšåˆåŠŸèƒ½ï¼Œè¿™äº›èšåˆå¯ä»¥ç›´æ¥åœ¨å¯¹è±¡ä¸Šè®¡ç®—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ç”¨ä¸€ä¸ªç‰¹å®šçš„è¿ç®—
reduce ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ä»»ä½•é€šç”¨å‡½æ•°çš„ reduce æ–¹æ³•ã€‚ä¸€ä¸ª reduce
æ–¹æ³•ä¼šå¯¹ç»™å®šçš„å…ƒç´ å’Œæ“ä½œé‡å¤æ‰§è¡Œï¼Œç›´è‡³å¾—åˆ°å•ä¸ªçš„ç»“æœã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(np.add.reduce(x))</span><br><span class="line"><span class="built_in">print</span>(np.add.accumulate(x))</span><br></pre></td></tr></table></figure>
<pre><code>15
[ 1  3  6 10 15]</code></pre>
<ol start="3" type="1">
<li>å¤–ç§¯</li>
</ol>
<p>æœ‰ç‚¹ç±»ä¼¼å¼ äº®ç§¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line">np.multiply.outer(x, x)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  2,  3,  4,  5],
       [ 2,  4,  6,  8, 10],
       [ 3,  6,  9, 12, 15],
       [ 4,  8, 12, 16, 20],
       [ 5, 10, 15, 20, 25]])</code></pre>
<h2 id="å¹¿æ’­æœºåˆ¶">å¹¿æ’­æœºåˆ¶</h2>
<p>æˆ‘ä»¬åœ¨å‰ä¸€èŠ‚ä¸­ä»‹ç»äº† NumPy å¦‚ä½•é€šè¿‡é€šç”¨å‡½æ•°çš„å‘é‡åŒ–æ“ä½œæ¥å‡å°‘ç¼“æ…¢çš„
Python å¾ªç¯ï¼Œå¦å¤–ä¸€ç§å‘é‡åŒ–æ“ä½œçš„æ–¹æ³•æ˜¯åˆ©ç”¨ NumPy
çš„å¹¿æ’­åŠŸèƒ½ã€‚å¹¿æ’­å¯ä»¥ç®€å•ç†è§£ä¸ºç”¨äºä¸åŒå¤§å°æ•°ç»„çš„äºŒè¿›åˆ¶é€šç”¨å‡½æ•°ï¼ˆåŠ ã€å‡ã€ä¹˜ç­‰ï¼‰çš„ä¸€ç»„è§„åˆ™ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">b = np.array([<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>])</span><br><span class="line">a + b</span><br></pre></td></tr></table></figure>
<pre><code>array([5, 6, 7])</code></pre>
<p>è¿˜å¯ä»¥è‡ªåŠ¨æ‰©å……è®¡ç®—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.arange(<span class="number">3</span>)</span><br><span class="line">b = np.arange(<span class="number">3</span>)[:, np.newaxis]</span><br><span class="line">a + b</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2],
       [1, 2, 3],
       [2, 3, 4]])</code></pre>
<h2 id="è§„åˆ™">è§„åˆ™ï¼</h2>
<p>NumPy
çš„å¹¿æ’­éµå¾ªä¸€ç»„ä¸¥æ ¼çš„è§„åˆ™ï¼Œè®¾å®šè¿™ç»„è§„åˆ™æ˜¯ä¸ºäº†å†³å®šä¸¤ä¸ªæ•°ç»„é—´çš„æ“ä½œã€‚</p>
<ul>
<li><p>è§„åˆ™
1ï¼šå¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦æ•°ä¸ç›¸åŒï¼Œé‚£ä¹ˆå°ç»´åº¦æ•°ç»„çš„å½¢çŠ¶å°†ä¼šåœ¨æœ€å·¦è¾¹è¡¥
1</p></li>
<li><p>è§„åˆ™
2ï¼šå¦‚æœä¸¤ä¸ªæ•°ç»„çš„å½¢çŠ¶åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šéƒ½ä¸åŒ¹é…ï¼Œé‚£ä¹ˆæ•°ç»„çš„å½¢çŠ¶ä¼šæ²¿ç€ç»´åº¦ä¸º
1 çš„ç»´åº¦æ‰©å±•ä»¥åŒ¹é…å¦å¤–ä¸€ä¸ªæ•°ç»„çš„å½¢çŠ¶</p></li>
<li><p>è§„åˆ™
3ï¼šå¦‚æœä¸¤ä¸ªæ•°ç»„çš„å½¢çŠ¶åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šéƒ½ä¸åŒ¹é…å¹¶ä¸”æ²¡æœ‰ä»»ä½•ä¸€ä¸ªç»´åº¦ç­‰äº
1ï¼Œé‚£ä¹ˆä¼šå¼•å‘å¼‚å¸¸</p></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.arange(<span class="number">3</span>).reshape((<span class="number">3</span>, <span class="number">1</span>))</span><br><span class="line">b = np.arange(<span class="number">3</span>)</span><br><span class="line">a + b</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2],
       [1, 2, 3],
       [2, 3, 4]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">M = np.ones((<span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">a = np.arange(<span class="number">3</span>)</span><br><span class="line">M + a</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

/Users/zhaochen20/Desktop/Python ç§‘å­¦è®¡ç®—.ipynb Cell 126 in &lt;cell line: 3&gt;()
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000140?line=0&#39;&gt;1&lt;/a&gt; M = np.ones((3, 2))
      &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000140?line=1&#39;&gt;2&lt;/a&gt; a = np.arange(3)
----&gt; &lt;a href=&#39;vscode-notebook-cell:/Users/zhaochen20/Desktop/Python%20%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97.ipynb#ch0000140?line=2&#39;&gt;3&lt;/a&gt; M + a


ValueError: operands could not be broadcast together with shapes (3,2) (3,) </code></pre>
<h2 id="å¹¿æ’­çš„å®é™…è¿ç”¨">å¹¿æ’­çš„å®é™…è¿ç”¨</h2>
<ol type="1">
<li>æ•°ç»„çš„å½’ä¸€åŒ–</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = np.random.random((<span class="number">10</span>, <span class="number">3</span>))</span><br><span class="line">Xmean = X.mean(axis=<span class="number">0</span>)</span><br><span class="line">X_centered = X - Xmean</span><br><span class="line">X_centered.mean(axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([-9.99200722e-17,  3.33066907e-17,  0.00000000e+00])</code></pre>
<p>åœ¨æœºå™¨ç²¾åº¦èŒƒå›´å†…ï¼Œè¯¥å‡å€¼ä¸º 0ã€‚</p>
<ol start="2" type="1">
<li>ç»˜åˆ¶äºŒç»´å‡½æ•°</li>
</ol>
<p>å¹¿æ’­å¦å¤–ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åœ°æ–¹åœ¨äºï¼Œå®ƒèƒ½åŸºäºäºŒç»´å‡½æ•°æ˜¾ç¤ºå›¾åƒã€‚æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›å®šä¹‰ä¸€ä¸ªå‡½æ•°
<span class="math inline">\(z = f (x,
y)\)</span>ï¼Œå¯ä»¥ç”¨å¹¿æ’­æ²¿ç€æ•°å€¼åŒºé—´è®¡ç®—è¯¥å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">5</span>, <span class="number">50</span>)</span><br><span class="line">y = np.linspace(<span class="number">0</span>, <span class="number">5</span>, <span class="number">50</span>)[:, np.newaxis]</span><br><span class="line">z = np.sin(x) ** <span class="number">10</span> + np.cos(<span class="number">10</span> + y * x) * np.cos(x)</span><br><span class="line">plt.imshow(z, extent=[<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>], cmap=<span class="string">&#x27;viridis&#x27;</span>)</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>â€‹<br />
<img src="output_140_0.png" alt="png" /> â€‹</p>
<h3 id="ååº">ååº</h3>
<p>â­</p>
<p>ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å¯¹åŸæ•°ç»„çš„è½¬æ¢ï¼Œç”¨çš„ä¸å¤šï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ï¼Œä¸ºæ¥ä¸‹æ¥çš„ç´¢å¼•å’Œåˆ‡ç‰‡åšä¸ªçƒ­èº«ã€‚</p>
<p>å¦‚æœç»™ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°ç»„è®©æ‚¨ååºï¼Œæ‚¨å¯èƒ½ä¼šæƒ³åˆ°å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š<code>reversed</code>ï¼Œæˆ–è€…å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæˆ–è€…ç”¨
Python list çš„ç´¢å¼•åŠŸèƒ½ï¼Œè€Œè¿™ä¹Ÿæ˜¯ <code>numpy</code> ä¸­ array
ååºçš„æ–¹å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­—ç¬¦ä¸²</span></span><br><span class="line">s = <span class="string">&quot;uevol&quot;</span></span><br><span class="line">s[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>&#39;loveu&#39;</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°ç»„</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="string">&quot;1&quot;</span>, <span class="number">5.2</span>]</span><br><span class="line">lst[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>[5.2, &#39;1&#39;, 1]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = np.random.randint(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>
<pre><code>[[49 81 30 11]
 [54 17 22 45]
 [34  5 40  9]]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬æŒ‰ä¸Šé¢çš„å¥—è·¯ï¼šé»˜è®¤åˆ—ååº</span></span><br><span class="line">arr[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[34,  5, 40,  9],
       [54, 17, 22, 45],
       [49, 81, 30, 11]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ—ä¸å˜è¡Œååº</span></span><br><span class="line">arr[::-<span class="number">1</span>, :]</span><br></pre></td></tr></table></figure>
<pre><code>array([[34,  5, 40,  9],
       [54, 17, 22, 45],
       [49, 81, 30, 11]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ä¸åŒç»´åº¦ä¸Šæ“ä½œï¼šè¡Œä¸å˜åˆ—ååº</span></span><br><span class="line">arr[:, ::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[11, 30, 81, 49],
       [45, 22, 17, 54],
       [ 9, 40,  5, 34]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¡Œå˜åˆ—ä¹Ÿå˜</span></span><br><span class="line">arr[::-<span class="number">1</span>, ::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 9, 40,  5, 34],
       [45, 22, 17, 54],
       [11, 30, 81, 49]])</code></pre>
<h3 id="è½¬ç½®">è½¬ç½®</h3>
<p>â­â­â­</p>
<p>è½¬ç½®æ˜¯çº¿æ€§ä»£æ•°çš„åŸºæœ¬æ“ä½œï¼Œæ‹¿äºŒç»´çŸ©é˜µä¸ºä¾‹ï¼Œé€šä¿—ç†è§£å°±æ˜¯æŠŠå®ƒæ”¾å€’ï¼Œshape
åè½¬ï¼Œè¡Œå˜æˆåˆ—ï¼Œåˆ—æˆä¸ºè¡Œã€‚å½“ç„¶ï¼Œå¯¹äºå¤šç»´ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œéœ€è¦é‡Œç†è§£ä»–ä»¬çš„æ•°å­¦æ„ä¹‰ï¼Œè¿™é‡Œä¸åšå±•å¼€ã€‚æˆ‘ä»¬å»ºè®®æ‚¨äºŒç»´çŸ©é˜µç”¨
<code>arr.T</code>ï¼ˆä¼šå¿«å¾ˆå¤šï¼‰ï¼Œè¶…è¿‡äºŒç»´çš„å¼ é‡å¯ä»¥ç”¨
<code>np.transpose</code>ï¼Œä¼šæ›´åŠ çµæ´»äº›ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸€ç»´æ•°ç»„è½¬ç½®è¿˜æ˜¯è‡ªå·±ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ç»´</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]).T)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.array([[<span class="number">1</span>,<span class="number">2</span>, <span class="number">3</span>]]).T.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2 3]]
(1, 3)
[[1]
 [2]
 [3]]
(3, 1)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç®€ä¾¿ç”¨æ³•ï¼ŒæŠŠæ‰€æœ‰ç»´åº¦é¡ºåºéƒ½ç»™å€’è¿‡æ¥</span></span><br><span class="line">rng = np.random.default_rng(seed=<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.T)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.T.shape)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[ 9 77 65 44]
 [43 86  9 70]
 [20 10 53 97]]
----------------------------------------------------
(3, 4)
----------------------------------------------------
[[ 9 43 20]
 [77 86 10]
 [65  9 53]
 [44 70 97]]
----------------------------------------------------
(4, 3)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°† shape=(1,1,3,4) çš„è½¬ç½®åå¾—åˆ° shape=(4,3,1,1)</span></span><br><span class="line">arr.reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>).T.shape</span><br></pre></td></tr></table></figure>
<pre><code>(4, 3, 1, 1)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŒä¸Š</span></span><br><span class="line">arr.reshape(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>).T.shape</span><br></pre></td></tr></table></figure>
<pre><code>(1, 3, 1, 2, 2, 1)</code></pre>
<h4 id="np.transpose"><code>np.transpose</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ç§è½¬ç½®æ–¹å¼å¯ä»¥æŒ‡å®š axes</span></span><br><span class="line">np.transpose(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 9, 43, 20],
       [77, 86, 10],
       [65,  9, 53],
       [44, 70, 97]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸æŒ‡å®š axes æ—¶å’Œ .T æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">np.transpose(arr.reshape(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>)).shape</span><br></pre></td></tr></table></figure>
<pre><code>(1, 3, 1, 2, 2, 1)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®š axesï¼Œä¸è¿‡ axes æ•°é‡å¿…é¡»åŒ…å«æ‰€æœ‰ç»´åº¦çš„åºåˆ—</span></span><br><span class="line"><span class="comment"># æ¯”å¦‚ä¸¤ä¸ªç»´åº¦å°±æ˜¯ (0, 1)ï¼Œå››ä¸ªå°±æ˜¯ (0, 1, 2, 3)</span></span><br><span class="line"><span class="comment"># å½“ç„¶ï¼Œé¡ºåºå¯ä»¥æ”¹å˜ï¼Œæ¯”å¦‚ä¸‹é¢å°±æ˜¯åªè½¬ç½®ç¬¬ 2 ä¸ªå’Œç¬¬ 3 ä¸ªç»´åº¦</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œåªæœ‰è¶…è¿‡ 2 ç»´æ—¶ï¼Œè¿™æ ·æ‰æœ‰æ„ä¹‰</span></span><br><span class="line"><span class="comment"># ä¸‹é¢çš„ç»“æœä¸­ï¼Œä¸­é—´2ä¸ªç»´åº¦è¢«è°ƒæ¢é¡ºåºäº†ï¼Œé¡ºåºå°±åœ¨axesä¸­æŒ‡å®šçš„</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr.reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.transpose(arr.reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>), (<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.transpose(arr.reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>), axes=(<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[[[ 9 77 65 44]
   [43 86  9 70]
   [20 10 53 97]]]]
----------------------------------------------------
(1, 1, 3, 4)
----------------------------------------------------
[[[[ 9 77 65 44]]

  [[43 86  9 70]]

  [[20 10 53 97]]]]
----------------------------------------------------
(1, 3, 1, 4)
----------------------------------------------------</code></pre>
<h2 id="åˆ†è§£å’Œç»„åˆ">åˆ†è§£å’Œç»„åˆ</h2>
<p>è¿™èŠ‚æˆ‘ä»¬ä¸»è¦å­¦ä¹  array
çš„åˆ†è§£å’Œç»„åˆï¼Œæœ¬èŠ‚æ˜¯æ‰€æœ‰ç« èŠ‚ä¸­æœ€é‡è¦çš„ä¸€èŠ‚ï¼Œé€šè¿‡æœ¬èŠ‚å†…å®¹ï¼Œæ‚¨å¯ä»¥å……åˆ†äº†è§£
<code>numpy</code>ï¼ˆä»¥åŠ Python
è¯­è¨€ï¼‰çš„å¼ºå¤§ï¼Œè¿™ç§æ“ä½œä¸Šçš„ä¼˜é›…ä¸èƒ½è¯´åæ— æ¥è€…ï¼Œä½†è‡³å°‘å‰æ— å¤äººäº†ã€‚</p>
<p>å†…å®¹å¤§è‡´åŒ…æ‹¬ä»¥ä¸‹å°èŠ‚ï¼š</p>
<ul>
<li>åˆ‡ç‰‡å’Œç´¢å¼•</li>
<li>æ‹¼æ¥</li>
<li>é‡å¤</li>
<li>åˆ†æ‹†</li>
</ul>
<p>å…¶ä¸­ï¼Œé‡ä¸­ä¹‹é‡æ˜¯ã€Œåˆ‡ç‰‡å’Œç´¢å¼•ã€ï¼Œå®ƒåŸºç¡€ã€å®ƒé«˜é¢‘ã€å®ƒæ— å¤„ä¸åœ¨ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨ç†Ÿç»ƒæŒæ¡ï¼Œå…¶ä»–ä¸‰ä¸ªç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦å„è®°ä½ä¸€ä¸ª
API å³å¯ã€‚</p>
<h3 id="åˆ‡ç‰‡å’Œç´¢å¼•">åˆ‡ç‰‡å’Œç´¢å¼•</h3>
<p>â­â­â­â­â­</p>
<p>åˆ’é‡ç‚¹ï¼åˆ‡ç‰‡å’Œç´¢å¼•æ˜¯é€šè¿‡å¯¹å·²æœ‰ array
è¿›è¡Œæ“ä½œè€Œå¾—åˆ°æƒ³è¦çš„ã€Œéƒ¨åˆ†ã€å…ƒç´ çš„è¡Œä¸ºè¿‡ç¨‹ã€‚å…¶æ ¸å¿ƒåŠ¨ä½œå¯ä»¥æ¦‚æ‹¬ä¸ºï¼šæŒ‰ç»´åº¦æ ¹æ®
<code>start:stop:step</code> æ“ä½œ arrayã€‚</p>
<p>è¿™éƒ¨åˆ†å†…å®¹çš„æ ¸å¿ƒæ˜¯æŠŠå¤„ç†æŒ‰ç»´åº¦åˆ†å¼€ï¼Œä¸å¤„ç†çš„ç»´åº¦ç»Ÿä¸€ç”¨ <code>:</code>
æˆ– <code>...</code>
ä»£æ›¿ï¼›åœ¨çœ‹æ“ä½œæ—¶ï¼Œä¹Ÿè¦é¦–å…ˆå…³æ³¨ã€Œ<code>,</code>ã€åœ¨å“ªé‡Œã€‚è¦å¤„ç†çš„ç»´åº¦å’Œä¹‹å‰
<code>arange</code> <code>linspace</code> ç­‰æ¥å£ä½¿ç”¨æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¼•æ”¯æŒè´Ÿæ•°ï¼Œå³ä»åå¾€å‰ç´¢å¼•ã€‚</p>
<p>ä¼ ç»Ÿçš„ç´¢å¼•å‰é¢å…¶å®æœ‰è®²è¿‡ä¸å°‘ï¼Œå¯ä»¥è‡ªè¡Œå‚è€ƒ list
çš„åˆ‡ç‰‡å’Œç´¢å¼•ã€‚åœ¨ä¼ ç»Ÿçš„ç´¢å¼•ä¸Šï¼Œæˆ‘éœ€è¦é‡ç‚¹å¼ºè°ƒä¸‹è¿™ä¸ªè¯é¢˜ï¼š</p>
<blockquote>
<p>å…³äºæ•°ç»„åˆ‡ç‰‡æœ‰ä¸€ç‚¹å¾ˆé‡è¦éå¸¸æœ‰ç”¨ï¼Œé‚£å°±æ˜¯æ•°ç»„åˆ‡ç‰‡è¿”å›çš„æ˜¯æ•°ç»„æ•°æ®çš„è§†å›¾(ä¹Ÿå¯ä»¥ç†è§£æˆå¼•ç”¨)ï¼Œè€Œä¸æ˜¯æ•°å€¼æ•°æ®çš„å‰¯æœ¬ã€‚è¿™ä¸€ç‚¹ä¹Ÿæ˜¯
NumPy æ•°ç»„åˆ‡ç‰‡å’Œ Python åˆ—è¡¨åˆ‡ç‰‡çš„ä¸åŒä¹‹å¤„ã€‚åœ¨ Python
åˆ—è¡¨ä¸­ï¼Œåˆ‡ç‰‡æ˜¯å€¼çš„å‰¯æœ¬ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ä¸‹æ–¹ä¾‹å­ï¼š</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(seed=<span class="number">42</span>)</span><br><span class="line">x2 = rng.integers(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x2)</span><br><span class="line">x3 = x2[<span class="number">0</span>]</span><br><span class="line">x4 = x2[:, <span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;__slice__&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x3)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x4)</span><br><span class="line">x3[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;__change the line__&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line">x4[<span class="number">2</span>] = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;__change the column__&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[0 7 6 4]
 [4 8 0 6]
 [2 0 5 9]]
----------------------------------------------------
__slice__
----------------------------------------------------
[0 7 6 4]
----------------------------------------------------
[0 4 2]
----------------------------------------------------
__change the line__
----------------------------------------------------
[[1 7 6 4]
 [4 8 0 6]
 [2 0 5 9]]
----------------------------------------------------
__change the column__
----------------------------------------------------
[[ 1  7  6  4]
 [ 4  8  0  6]
 [10  0  5  9]]
----------------------------------------------------</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lecturer_list = [<span class="string">&quot;c7w&quot;</span>, <span class="string">&quot;lambda&quot;</span>, <span class="string">&quot;Alan&quot;</span>, <span class="string">&quot;xsun2001&quot;</span>, <span class="string">&quot;ayf&quot;</span>]</span><br><span class="line">bachelordom_list = lecturer_list[:-<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(bachelordom_list)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line">bachelordom_list[-<span class="number">1</span>] = <span class="string">&quot;Eren&quot;</span></span><br><span class="line"><span class="built_in">print</span>(bachelordom_list)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(lecturer_list)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[&#39;c7w&#39;, &#39;lambda&#39;, &#39;Alan&#39;]
----------------------------------------------------
[&#39;c7w&#39;, &#39;lambda&#39;, &#39;Eren&#39;]
----------------------------------------------------
[&#39;c7w&#39;, &#39;lambda&#39;, &#39;Alan&#39;, &#39;xsun2001&#39;, &#39;ayf&#39;]
----------------------------------------------------</code></pre>
<h3 id="fancy-indexing">Fancy Indexing</h3>
<p>ä½ åº”è¯¥çŸ¥é“å¦‚ä½•åˆ©ç”¨ç®€å•çš„ç´¢å¼•å€¼ï¼ˆå¦‚ arr[0]ï¼‰ã€åˆ‡ç‰‡ï¼ˆå¦‚
arr[:5]ï¼‰è·å¾—å¹¶ä¿®æ”¹éƒ¨åˆ†æ•°ç»„ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦å¤–ä¸€ç§æ•°ç»„ç´¢å¼•ï¼Œä¹Ÿç§°ä½œèŠ±å“¨çš„ç´¢å¼•ï¼ˆfancy
indexingï¼‰ã€‚èŠ±å“¨çš„ç´¢å¼•å’Œå‰é¢é‚£äº›ç®€å•çš„ç´¢å¼•éå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯ä¼ é€’çš„æ˜¯ç´¢å¼•æ•°ç»„ï¼Œè€Œä¸æ˜¯å•ä¸ªæ ‡é‡ã€‚èŠ±å“¨çš„ç´¢å¼•è®©æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿè·å¾—å¹¶ä¿®æ”¹å¤æ‚çš„æ•°ç»„å€¼çš„å­æ•°æ®é›†ã€‚</p>
<h4 id="æ“ä½œå¸ƒå°”æ•°ç»„">æ“ä½œå¸ƒå°”æ•°ç»„</h4>
<p>ä¹‹å‰ä»‹ç»äº†é€šç”¨å‡½æ•°ï¼Œå¹¶ä¸”ç‰¹åˆ«å…³æ³¨äº†ç®—æœ¯è¿ç®—ç¬¦ã€‚æˆ‘ä»¬çœ‹åˆ°ç”¨ +ã€-ã€*ã€/
å’Œå…¶ä»–ä¸€äº›è¿ç®—ç¬¦å®ç°äº†æ•°ç»„çš„é€å…ƒç´ æ“ä½œã€‚NumPy è¿˜å®ç°äº†å¦‚ &lt;ï¼ˆå°äºï¼‰å’Œ
&gt;ï¼ˆå¤§äºï¼‰çš„é€å…ƒç´ æ¯”è¾ƒçš„é€šç”¨å‡½æ•°ã€‚è¿™äº›æ¯”è¾ƒè¿ç®—çš„ç»“æœæ˜¯ä¸€ä¸ªå¸ƒå°”æ•°æ®ç±»å‹çš„æ•°ç»„ã€‚ä¸€å…±æœ‰
6 ç§æ ‡å‡†çš„æ¯”è¾ƒæ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x &lt; <span class="number">3</span>  <span class="comment"># less than</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ True,  True, False, False, False])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x &gt; <span class="number">3</span>  <span class="comment"># greater than</span></span><br></pre></td></tr></table></figure>
<pre><code>array([False, False, False,  True,  True])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x &lt;= <span class="number">3</span>  <span class="comment"># less than or equal</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ True,  True,  True, False, False])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x &gt;= <span class="number">3</span>  <span class="comment"># greater than or equal</span></span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True,  True,  True])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x != <span class="number">3</span>  <span class="comment"># not equal</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ True,  True, False,  True,  True])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x == <span class="number">3</span>  <span class="comment"># equal</span></span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True, False, False])</code></pre>
<p>å’Œç®—æœ¯è¿ç®—é€šç”¨å‡½æ•°ä¸€æ ·ï¼Œè¿™äº›æ¯”è¾ƒè¿ç®—é€šç”¨å‡½æ•°ä¹Ÿå¯ä»¥ç”¨äºä»»æ„å½¢çŠ¶ã€å¤§å°çš„æ•°ç»„ã€‚ç»™å®šä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œä½ å¯ä»¥å®ç°å¾ˆå¤šæœ‰ç”¨çš„æ“ä½œã€‚é¦–å…ˆæ‰“å°å‡ºäºŒç»´æ•°ç»„
xï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.RandomState(<span class="number">0</span>)</span><br><span class="line">x = rng.randint(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[5, 0, 3, 3],
       [7, 9, 3, 5],
       [2, 4, 7, 6]])</code></pre>
<p>ä½ å½“ç„¶å¯ä»¥ç›´æ¥å¯¹å¸ƒå°”æ•°ç»„è¿›è¡Œèšåˆè®¡ç®—ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œç„¶è€Œæˆ‘ä»¬è®¨è®ºæ›´å¼ºå¤§çš„å·¥å…·â€”â€”</p>
<p>ç”¨å¸ƒå°”æ•°ç»„ä½œä¸ºæ©ç ï¼Œé€šè¿‡è¯¥æ©ç é€‰æ‹©æ•°æ®çš„å­æ•°æ®é›†ã€‚ä»¥å‰é¢å°èŠ‚ç”¨è¿‡çš„ x
æ•°ç»„ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬å¸Œæœ›æŠ½å–å‡ºæ•°ç»„ä¸­æ‰€æœ‰å°äº 5 çš„å…ƒç´ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x[x &lt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 3, 3, 3, 2, 4])</code></pre>
<p>ç°åœ¨è¿”å›çš„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å€¼ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰çš„è¿™äº›å€¼æ˜¯æ©ç æ•°ç»„å¯¹åº”ä½ç½®ä¸º
True çš„å€¼ã€‚</p>
<p>é€šè¿‡å°†å¸ƒå°”æ“ä½œã€æ©ç æ“ä½œå’Œèšåˆç»“åˆï¼Œå¯ä»¥å¿«é€ŸæŸ¥çœ‹æ•°æ®é›†å†…çš„æ•°æ®å±æ€§ã€‚</p>
<h4 id="æ¢ç´¢èŠ±å“¨çš„ç´¢å¼•">æ¢ç´¢èŠ±å“¨çš„ç´¢å¼•</h4>
<p>èŠ±å“¨çš„ç´¢å¼•åœ¨æ¦‚å¿µä¸Šéå¸¸ç®€å•ï¼Œå®ƒæ„å‘³ç€ä¼ é€’ä¸€ä¸ªç´¢å¼•æ•°ç»„æ¥ä¸€æ¬¡æ€§è·å¾—å¤šä¸ªæ•°ç»„å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ä»¥ä¸‹æ•°ç»„ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">rand = np.random.RandomState(<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">x = rand.randint(<span class="number">100</span>, size=<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>
<pre><code>[51 92 14 71 60 20 82 86 74 74]</code></pre>
<p>å‡è®¾æˆ‘ä»¬å¸Œæœ›è·å¾—ä¸‰ä¸ªä¸åŒçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[x[<span class="number">3</span>], x[<span class="number">7</span>], x[<span class="number">2</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>[71, 86, 14]</code></pre>
<p>åˆ©ç”¨èŠ±å“¨çš„ç´¢å¼•ï¼Œç»“æœçš„å½¢çŠ¶ä¸ç´¢å¼•æ•°ç»„çš„å½¢çŠ¶ä¸€è‡´ï¼Œè€Œä¸æ˜¯ä¸è¢«ç´¢å¼•æ•°ç»„çš„å½¢çŠ¶ä¸€è‡´ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ind = np.array([[<span class="number">3</span>, <span class="number">7</span>],</span><br><span class="line">                [<span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>
<pre><code>array([[71, 86],
       [60, 20]])</code></pre>
<p>èŠ±å“¨çš„ç´¢å¼•ä¹Ÿå¯¹å¤šä¸ªç»´åº¦é€‚ç”¨ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æ•°ç»„ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">X</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])</code></pre>
<p>å’Œæ ‡å‡†çš„ç´¢å¼•æ–¹å¼ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•æŒ‡çš„æ˜¯è¡Œï¼Œç¬¬äºŒä¸ªç´¢å¼•æŒ‡çš„æ˜¯åˆ—ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">row = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">col = np.array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">X[row, col]</span><br></pre></td></tr></table></figure>
<pre><code>array([ 2,  5, 11])</code></pre>
<p>å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ä¼ é€’ç´¢å¼•çš„å•ä¸ªåˆ—è¡¨æˆ–æ•°ç»„æ¥è·å¾—åŒæ ·çš„ç»“æœï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ind = [<span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>]</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>
<pre><code>array([71, 86, 60])</code></pre>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç»“æœçš„ç¬¬ä¸€ä¸ªå€¼æ˜¯ X[0, 2]ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯ X[1,
1]ï¼Œç¬¬ä¸‰ä¸ªå€¼æ˜¯ X[2,
3]åœ¨èŠ±å“¨çš„ç´¢å¼•ä¸­ï¼Œç´¢å¼•å€¼çš„é…å¯¹éµå¾ªä»‹ç»è¿‡çš„å¹¿æ’­çš„è§„åˆ™ã€‚å› æ­¤å½“æˆ‘ä»¬å°†ä¸€ä¸ªåˆ—å‘é‡å’Œä¸€ä¸ªè¡Œå‘é‡ç»„åˆåœ¨ä¸€ä¸ªç´¢å¼•ä¸­æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªäºŒç»´çš„ç»“æœï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X[row[:, np.newaxis], col]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 2,  1,  3],
       [ 6,  5,  7],
       [10,  9, 11]])</code></pre>
<p>è¿™é‡Œï¼Œæ¯ä¸€è¡Œçš„å€¼éƒ½ä¸æ¯ä¸€åˆ—çš„å‘é‡é…å¯¹ï¼Œæ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„å¹¿æ’­çš„ç®—æœ¯è¿ç®—ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">row[:, np.newaxis] * col</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 0, 0],
       [2, 1, 3],
       [4, 2, 6]])</code></pre>
<p>è¿™é‡Œç‰¹åˆ«éœ€è¦è®°ä½çš„æ˜¯ï¼ŒèŠ±å“¨çš„ç´¢å¼•è¿”å›çš„å€¼åæ˜ çš„æ˜¯å¹¿æ’­åçš„ç´¢å¼•æ•°ç»„çš„å½¢çŠ¶ï¼Œè€Œä¸æ˜¯è¢«ç´¢å¼•çš„æ•°ç»„çš„å½¢çŠ¶ã€‚</p>
<h4 id="ç»„åˆç´¢å¼•">ç»„åˆç´¢å¼•</h4>
<p>èŠ±å“¨çš„ç´¢å¼•å¯ä»¥å’Œå…¶ä»–ç´¢å¼•æ–¹æ¡ˆç»“åˆèµ·æ¥å½¢æˆæ›´å¼ºå¤§çš„ç´¢å¼•æ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(X)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]</code></pre>
<p>å¯ä»¥å°†èŠ±å“¨çš„ç´¢å¼•å’Œç®€å•çš„ç´¢å¼•ç»„åˆä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X[<span class="number">2</span>, [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>array([10,  8,  9])</code></pre>
<p>ä¹Ÿå¯ä»¥å°†èŠ±å“¨çš„ç´¢å¼•å’Œåˆ‡ç‰‡ç»„åˆä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X[<span class="number">1</span>:, [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 6,  4,  5],
       [10,  8,  9]])</code></pre>
<p>æ›´å¯ä»¥å°†èŠ±å“¨çš„ç´¢å¼•å’Œæ©ç ç»„åˆä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">mask = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line">X[row[:, np.newaxis], mask]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  2],
       [ 4,  6],
       [ 8, 10]])</code></pre>
<p>ç´¢å¼•é€‰é¡¹çš„ç»„åˆå¯ä»¥å®ç°éå¸¸çµæ´»çš„è·å–å’Œä¿®æ”¹æ•°ç»„å…ƒç´ çš„æ“ä½œ</p>
<h3 id="æ‹¼æ¥">æ‹¼æ¥</h3>
<p>â­â­â­â­</p>
<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹å·²æœ‰çš„å‡ ä¸ª array è¿›è¡Œæ‹¼æ¥ä»¥å½¢æˆä¸€ä¸ªå¤§çš„
arrayï¼ˆå¸¸è§çš„ä¾‹å­æ¯”å¦‚ä¸åŒç±»å‹ç‰¹å¾çš„æ‹¼æ¥ï¼‰ã€‚æœ¬å°èŠ‚ä¸¥æ ¼æ¥è¯´åªæœ‰ä¸¤ä¸ª
APIï¼š<code>np.concatenate</code> å’Œ
<code>np.stack</code>ï¼Œå‰è€…æ˜¯æ‹¼æ¥ï¼Œåè€…æ˜¯å †å ï¼ˆä¼šå¢åŠ ä¸€ä¸ªç»´åº¦ï¼‰ï¼Œéƒ½å¯ä»¥æŒ‡å®šç»´åº¦ã€‚è®°ä½ï¼Œæœ‰å®ƒä¿©å°±å¤Ÿäº†ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>hstack</code> å’Œ <code>vstack</code> å’Œ
<code>stack</code> æ²¡å…³ç³»ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">arr1 = rng.random((<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">arr2 = rng.random((<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr2.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[0.77395605 0.43887844 0.85859792]
 [0.69736803 0.09417735 0.97562235]]
----------------------------------------------------
[[0.7611397  0.78606431 0.12811363]
 [0.45038594 0.37079802 0.92676499]]
----------------------------------------------------
(2, 3)
----------------------------------------------------
(2, 3)
----------------------------------------------------</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ²¿axis=0ï¼ˆåˆ—ï¼‰è¿æ¥</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2)).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2), axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2), axis=<span class="number">1</span>).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[0.77395605 0.43887844 0.85859792]
 [0.69736803 0.09417735 0.97562235]
 [0.7611397  0.78606431 0.12811363]
 [0.45038594 0.37079802 0.92676499]]
----------------------------------------------------
(4, 3)
----------------------------------------------------
[[0.77395605 0.43887844 0.85859792 0.7611397  0.78606431 0.12811363]
 [0.69736803 0.09417735 0.97562235 0.45038594 0.37079802 0.92676499]]
----------------------------------------------------
(2, 6)
----------------------------------------------------</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç«–ç›´æŒ‰è¡Œé¡ºåºæ‹¼æ¥</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼švstack è™½ç„¶çœ‹èµ·æ¥æ˜¯ stackï¼Œä½†å…¶å®å®ƒæ˜¯ concatenateï¼Œå»ºè®®æ‚¨åªä½¿ç”¨ np.concatenate</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.hstack((arr1, arr2)).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.vstack((arr1, arr2)).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
(2, 6)
----------------------------------------------------
(4, 3)
----------------------------------------------------</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å †å ï¼Œé»˜è®¤æ ¹æ® axis=0 è¿›è¡Œ</span></span><br><span class="line">np.stack((arr1, arr2))</span><br></pre></td></tr></table></figure>
<pre><code>array([[[0.77395605, 0.43887844, 0.85859792],
        [0.69736803, 0.09417735, 0.97562235]],

       [[0.7611397 , 0.78606431, 0.12811363],
        [0.45038594, 0.37079802, 0.92676499]]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">_.shape</span><br></pre></td></tr></table></figure>
<pre><code>(2, 2, 3)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å †å ï¼Œæ ¹æ® axis=2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.stack((arr1, arr2), axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.stack((arr1, arr2), axis=<span class="number">1</span>).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.stack((arr1, arr2), axis=<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.stack((arr1, arr2), axis=<span class="number">2</span>).shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>----------------------------------------------------
[[[0.77395605 0.43887844 0.85859792]
  [0.7611397  0.78606431 0.12811363]]

 [[0.69736803 0.09417735 0.97562235]
  [0.45038594 0.37079802 0.92676499]]]
----------------------------------------------------
(2, 2, 3)
----------------------------------------------------
[[[0.77395605 0.7611397 ]
  [0.43887844 0.78606431]
  [0.85859792 0.12811363]]

 [[0.69736803 0.45038594]
  [0.09417735 0.37079802]
  [0.97562235 0.92676499]]]
----------------------------------------------------
(2, 3, 2)
----------------------------------------------------</code></pre>
<h3 id="é‡å¤">é‡å¤</h3>
<p>â­â­â­</p>
<p>é‡å¤å…¶å®æ˜¯å¦ä¸€ç§æ‹¼æ¥æ–¹å¼ï¼Œå®ƒä¹Ÿå¯ä»¥æŒ‡å®šè¦é‡å¤çš„ç»´åº¦ã€‚åœ¨æœ‰äº›æ·±åº¦å­¦ä¹ æ¨¡å‹æ•°æ®æ„å»ºä¸­éå¸¸æœ‰ç”¨ï¼ˆæ–¹ä¾¿ï¼‰ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ˜¯ä¸€ä¸ªç»´åº¦ä¸€ä¸ªç»´åº¦ä¾æ¬¡é‡å¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ª array
é‡å¤ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 7, 6, 4],
       [4, 8, 0, 6],
       [2, 0, 5, 9]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ axis=0ï¼ˆæ²¿ç€åˆ—ï¼‰ä¸Šé‡å¤ 2 æ¬¡</span></span><br><span class="line">np.repeat(arr, <span class="number">2</span>, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 7, 6, 4],
       [0, 7, 6, 4],
       [4, 8, 0, 6],
       [4, 8, 0, 6],
       [2, 0, 5, 9],
       [2, 0, 5, 9]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ axis=1ï¼ˆæ²¿ç€è¡Œï¼‰ä¸Šé‡å¤ 3 æ¬¡</span></span><br><span class="line">np.repeat(arr, <span class="number">3</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 0, 0, 7, 7, 7, 6, 6, 6, 4, 4, 4],
       [4, 4, 4, 8, 8, 8, 0, 0, 0, 6, 6, 6],
       [2, 2, 2, 0, 0, 0, 5, 5, 5, 9, 9, 9]])</code></pre>
<h3 id="åˆ†æ‹†">åˆ†æ‹†</h3>
<p>â­â­â­</p>
<p>æœ‰æ‹¼æ¥å †å è‡ªç„¶å°±æœ‰æ‹†åˆ†ï¼Œæ³¨æ„è¿™ä¸æ˜¯åˆ‡ç‰‡å’Œç´¢å¼•ï¼Œå°±æ˜¯å°† array
æ‹†æˆæƒ³è¦çš„å‡ ä»½ã€‚ç”¨çš„ä¸æ˜¯ç‰¹åˆ«å¤šï¼ŒAPI åªè¦è®°ä½ <code>np.split</code>
å°±è¡Œäº†ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¿«æ·æ–¹å¼ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåˆ†æ‹†çš„ axis æ˜¯å¯¹è¯¥ç»´åº¦è¿›è¡Œæ‹†åˆ†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">6</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 9, 77, 65, 44],
       [43, 86,  9, 70],
       [20, 10, 53, 97],
       [73, 76, 72, 78],
       [51, 13, 84, 45],
       [50, 37, 19, 92]])</code></pre>
<h4 id="np.split"><code>np.split</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤åˆ‡åˆ†åˆ—ï¼ˆaxis=0ï¼‰ï¼Œåˆ‡æˆ 3 ä»½</span></span><br><span class="line">np.split(arr, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[array([[ 9, 77, 65, 44],
        [43, 86,  9, 70]]),
 array([[20, 10, 53, 97],
        [73, 76, 72, 78]]),
 array([[51, 13, 84, 45],
        [50, 37, 19, 92]])]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ï¼ˆaxis=1ï¼‰åˆ‡åˆ†è¡Œ</span></span><br><span class="line">np.split(arr, <span class="number">2</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[array([[ 9, 77],
        [43, 86],
        [20, 10],
        [73, 76],
        [51, 13],
        [50, 37]]),
 array([[65, 44],
        [ 9, 70],
        [53, 97],
        [72, 78],
        [84, 45],
        [19, 92]])]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å’Œä¸Šé¢çš„ä¸€ä¸ªæ•ˆæœ</span></span><br><span class="line">np.vsplit(arr, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[array([[ 9, 77, 65, 44],
        [43, 86,  9, 70]]),
 array([[20, 10, 53, 97],
        [73, 76, 72, 78]]),
 array([[51, 13, 84, 45],
        [50, 37, 19, 92]])]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç­‰ä»·çš„ç”¨æ³•</span></span><br><span class="line">np.hsplit(arr, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[array([[ 9, 77],
        [43, 86],
        [20, 10],
        [73, 76],
        [51, 13],
        [50, 37]]),
 array([[65, 44],
        [ 9, 70],
        [53, 97],
        [72, 78],
        [84, 45],
        [19, 92]])]</code></pre>
<h2 id="ç­›é€‰å’Œè¿‡æ»¤">ç­›é€‰å’Œè¿‡æ»¤</h2>
<p>è¿™å°èŠ‚ä¸ç´¢å¼•å’Œåˆ‡ç‰‡æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†å€¾å‘äºä»ã€Œæ•´ä½“ã€ä¸­ç»Ÿä¸€ç­›é€‰å‡ºã€Œç¬¦åˆæ¡ä»¶ã€çš„å†…å®¹ï¼Œè€Œç´¢å¼•å’Œåˆ‡ç‰‡æ›´å¤šçš„æ˜¯ä¾ç…§ã€ŒæŸç§æ–¹æ³•ã€åˆ‡å‡ºä¸€å—å†…å®¹ã€‚æœ¬å°èŠ‚å†…å®¹åŒæ ·éå¸¸é‡è¦ï¼Œå¯ä»¥ç®—ç¬¬äºŒä¸ªæœ€é‡è¦çš„å°èŠ‚ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>æ¡ä»¶ç­›é€‰</li>
<li>æå–ï¼ˆæŒ‰æ¡ä»¶ï¼‰</li>
<li>æŠ½æ ·ï¼ˆæŒ‰åˆ†å¸ƒï¼‰</li>
<li>æœ€å¤§æœ€å° indexï¼ˆç‰¹æ®Šå€¼ï¼‰</li>
</ul>
<p>è¿™å‡ ä¸ªå†…å®¹éƒ½å¾ˆé‡è¦ï¼Œä½¿ç”¨çš„ä¹Ÿéå¸¸é«˜é¢‘ã€‚æ¡ä»¶ç­›é€‰ç»å¸¸ç”¨äº Mask
æˆ–å¼‚å¸¸å€¼å¤„ç†ï¼Œæå–åˆ™å¸¸ç”¨äºç»“æœè¿‡æ»¤ï¼ŒæŠ½æ ·å¸¸ç”¨åœ¨æ•°æ®ç”Ÿæˆï¼ˆæ¯”å¦‚è´Ÿæ ·æœ¬æŠ½æ ·ï¼‰ï¼Œæœ€å¤§æœ€å°
index åˆ™å¸¸è§äºæœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹ç»“æœåˆ¤å®šä¸­ï¼ˆæ ¹æ®æœ€å¤§æ¦‚ç‡æ‰€åœ¨çš„ index
å†³å®šç»“æœå±äºå“ªä¸€ç±»ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 9, 77, 65, 44],
       [43, 86,  9, 70],
       [20, 10, 53, 97]])</code></pre>
<h3 id="æ¡ä»¶ç­›é€‰">æ¡ä»¶ç­›é€‰</h3>
<p>â­â­â­</p>
<p>é¡¾åæ€ä¹‰ï¼Œæ ¹æ®ä¸€å®šçš„æ¡ä»¶å¯¹ array è¿›è¡Œç­›é€‰ï¼ˆæ ‡è®°ï¼‰å¹¶åç»­å¤„ç†ã€‚æ ¸å¿ƒ API
æ˜¯ <code>np.where</code>ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šwhere åˆ†åˆ«è¿”å›å„ç»´åº¦çš„
indexï¼Œèµ‹å€¼çš„æ˜¯ã€Œä¸æ»¡è¶³ã€æ¡ä»¶çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¡ä»¶ç­›é€‰ï¼Œå¯ä»¥ç›´æ¥åœ¨æ•´ä¸ª array ä¸Šä½¿ç”¨æ¡ä»¶</span></span><br><span class="line">arr &gt; <span class="number">50</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[False,  True,  True, False],
       [False,  True, False,  True],
       [False, False,  True,  True]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿”å›æ»¡è¶³æ¡ä»¶çš„ç´¢å¼•ï¼Œå› ä¸ºæ˜¯ä¸¤ä¸ªç»´åº¦ï¼Œæ‰€ä»¥ä¼šè¿”å›ä¸¤ç»„ç»“æœ</span></span><br><span class="line">np.where(arr &gt; <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(array([0, 0, 1, 1, 2, 2]), array([1, 2, 1, 3, 2, 3]))</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸æ»¡è¶³æ¡ä»¶çš„èµ‹å€¼ï¼Œå°† &lt;=50 çš„æ›¿æ¢ä¸º -1</span></span><br><span class="line">np.where(arr &gt; <span class="number">50</span>, arr, -<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[-1, 77, 65, -1],
       [-1, 86, -1, 70],
       [-1, -1, 53, 97]])</code></pre>
<h3 id="æå–">æå–</h3>
<p>â­</p>
<p>åœ¨ array ä¸­æå–æŒ‡å®šæ¡ä»¶çš„å€¼ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæå–å’Œå”¯ä¸€å€¼è¿”å›çš„éƒ½æ˜¯ä¸€ç»´å‘é‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æå–æŒ‡å®šæ¡ä»¶çš„å€¼</span></span><br><span class="line">np.extract(arr &gt; <span class="number">50</span>, arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([77, 65, 86, 70, 53, 97])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å”¯ä¸€å€¼ï¼Œæ˜¯å¦ä¸€ç§å½¢å¼çš„æå–</span></span><br><span class="line">np.unique(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 9, 10, 20, 43, 44, 53, 65, 70, 77, 86, 97])</code></pre>
<h3 id="æŠ½æ ·">æŠ½æ ·</h3>
<p>â­â­â­â­â­</p>
<p>æˆ‘ä»¬åœ¨è·‘æ¨¡å‹æ—¶å¸¸å¸¸éœ€è¦ä½¿ç”¨éƒ¨åˆ†æ•°æ®å¯¹æ•´ä¸ªè¿‡ç¨‹å¿«é€ŸéªŒè¯ï¼Œæ‚¨å½“ç„¶å¯ä»¥ä½¿ç”¨
<code>np.random</code>
ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ã€‚ä½†æœ‰çœŸå®æ•°æ®æ—¶ï¼Œä»çœŸå®æ•°æ®ä¸­éšæœºæŠ½æ ·ä¼šæ¯”è¾ƒå¥½ã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæŠ½æ ·çš„é›†åˆè¦æ±‚ä¸ºä¸€ç»´å‘é‡ï¼ˆä¸€èˆ¬æ˜¯æ•°æ®çš„ indexï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æŠ½æ ·çš„é›†åˆï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™è¡¨ç¤ºä» 0 åˆ°è¯¥å€¼</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ ·æœ¬å¤§å°</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºç»“æœæ˜¯å¦å¯ä»¥é‡å¤</span></span><br><span class="line"><span class="comment"># ç¬¬å››ä¸ªå‚æ•°è¡¨ç¤ºå‡ºç°çš„æ¦‚ç‡ï¼Œé•¿åº¦å’Œç¬¬ä¸€ä¸ªå‚æ•°ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”±äºï¼ˆ0 1 2 3ï¼‰ä¸­ 2 å’Œ 3 çš„æ¦‚ç‡æ¯”è¾ƒé«˜ï¼Œè‡ªç„¶å°±é€‰æ‹©äº† 2 å’Œ 3</span></span><br><span class="line">rng.choice(<span class="number">4</span>, <span class="number">2</span>, replace=<span class="literal">False</span>, p=[<span class="number">0.1</span>, <span class="number">0.2</span>, <span class="number">0.3</span>, <span class="number">0.4</span>])</span><br><span class="line">lst = [<span class="string">&quot;la&quot;</span>, <span class="string">&quot;vida&quot;</span>, <span class="string">&quot;sola&quot;</span>, <span class="string">&quot;vivras&quot;</span>]</span><br><span class="line">rng.choice(lst, <span class="number">4</span>, replace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([&#39;vida&#39;, &#39;vivras&#39;, &#39;la&#39;, &#39;sola&#39;], dtype=&#39;&lt;U6&#39;)</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ—§çš„ API</span></span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯æŠ½æ ·è¯­æ–™çš„ indexï¼Œæ›´å¤šçš„æ–¹æ³•æ˜¯è¿™æ ·ï¼š</span></span><br><span class="line">data_size = <span class="number">10000</span></span><br><span class="line">np.random.choice(data_size, <span class="number">50</span>, replace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([3711, 5502, 4383, 8491, 8931, 3725, 5223, 2632, 4078, 3705, 5488,
       9326, 9338, 3762, 6538, 6579, 3238,   61, 7129, 7451, 6321, 3881,
       8517, 6892, 2657, 4858, 6629, 9335, 3288, 2620,   90, 8999, 4165,
       7333, 8764, 9840, 4517, 8409, 1938, 3730, 2372, 8088, 7804, 9017,
       6956, 6413,  147, 5721, 6089, 8900])</code></pre>
<h3 id="æœ€å€¼-index">æœ€å€¼ Index</h3>
<p>â­â­â­â­â­</p>
<p>è¿™å°èŠ‚ä¸»è¦æ˜¯ä¸¤ä¸ª APIï¼š<code>np.argmax(min)</code> å’Œ
<code>np.argsort</code>ï¼Œå½“ç„¶æœ€å¸¸ç”¨çš„è¿˜æ˜¯ç¬¬ä¸€ä¸ªï¼Œä¸ç”¨è¯´ï¼Œè‡ªç„¶æ˜¯å¯ä»¥ï¼ˆéœ€è¦ï¼‰æŒ‡å®š
axis çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">arr = rng.uniform(<span class="number">1</span>, <span class="number">100</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[77.62164881, 44.44896554, 86.00119407, 70.03943488],
       [10.32355744, 97.58661281, 76.3528305 , 78.82036622],
       [13.68324963, 45.58820785, 37.7090044 , 92.7497339 ]])</code></pre>
<h4 id="np.argmaxargmin"><code>np.argmax/argmin</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰€æœ‰å€¼ä¸­æœ€å¤§å€¼çš„ Indexï¼ŒåŸºæœ¬ä¸è¿™ä¹ˆç”¨</span></span><br><span class="line">np.argmax(arr)</span><br></pre></td></tr></table></figure>
<pre><code>5</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰åˆ—ï¼ˆaxis=0ï¼‰æœ€å¤§å€¼çš„ Index</span></span><br><span class="line">np.argmax(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 0, 2])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰è¡Œï¼ˆaxis=1ï¼‰æœ€å°å€¼çš„ Index</span></span><br><span class="line">np.argmin(arr, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 0, 0])</code></pre>
<h4 id="np.argsort"><code>np.argsort</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æŒ‰è¡Œï¼ˆaxis=1ï¼‰æ’åºçš„ç´¢å¼•</span></span><br><span class="line">np.argsort(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 3, 0, 2],
       [0, 2, 3, 1],
       [0, 2, 1, 3]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®æŒ‰è¡Œï¼ˆaxis=1ï¼‰æ’åºçš„ç´¢å¼•ï¼ŒåŒä¸Š</span></span><br><span class="line"><span class="built_in">print</span>(np.argsort(-arr, axis=<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(np.argsort(arr, axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[[2 0 3 1]
 [1 3 2 0]
 [3 1 2 0]]
[[1 3 0 2]
 [0 2 3 1]
 [0 2 1 3]]</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®æŒ‰åˆ—ï¼ˆaxis=0ï¼‰æ’åºç´¢å¼•</span></span><br><span class="line">np.argsort(arr, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 0, 2, 0],
       [2, 2, 1, 1],
       [0, 1, 0, 2]])</code></pre>
<h2 id="çŸ©é˜µå’Œè¿ç®—">çŸ©é˜µå’Œè¿ç®—</h2>
<p>è¿™ä¸€èŠ‚æˆ‘ä»¬å°†èšç„¦çŸ©é˜µå’Œç›¸å…³çš„è¿ç®—ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç®—æœ¯ï¼ˆå››åˆ™è¿ç®—åŠå…¶ä»–åŸºç¡€ç®—æœ¯ï¼‰</li>
<li>å¹¿æ’­</li>
<li>çŸ©é˜µç›¸å…³</li>
</ul>
<p>è¿™äº›å†…å®¹å…¶å®ä½¿ç”¨éå¸¸æ™®éï¼Œæ™®éåˆ°æˆ‘ä»¬ç”šè‡³éƒ½ä¸ä¼šå¯Ÿè§‰åˆ°è‡ªå·±åœ¨ä½¿ç”¨ï¼Œè€Œä¸”ä¹Ÿéå¸¸ç®€å•ã€‚å½“ç„¶ï¼Œé«˜çº¬åº¦çš„è®¡ç®—æˆ‘ä»¬è¿™é‡Œå¹¶ä¸æ¶‰åŠï¼Œä½†é€»è¾‘æ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯æ›´åŠ å¤æ‚ã€‚</p>
<h3 id="ç®—æœ¯">ç®—æœ¯</h3>
<p>â­â­â­â­</p>
<p>æ‰€æœ‰çš„ç®—æœ¯å‡½æ•°å‡å¯ç›´æ¥è¿ç”¨äº arrayã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>mod</code> è¿ç®—å¯ä»¥æŒ‡å®šå¤šä¸ªè¢«é™¤æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">arr = rng.integers(<span class="number">1</span>, <span class="number">20</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 2, 15, 13,  9],
       [ 9, 17,  2, 14],
       [ 4,  2, 11, 19]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># +-*/ å››åˆ™è¿ç®—ï¼Œå°±è·Ÿä¸¤ä¸ªæ•°å­—è®¡ç®—ä¸€æ ·</span></span><br><span class="line">arr * <span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 4, 30, 26, 18],
       [18, 34,  4, 28],
       [ 8,  4, 22, 38]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¹³æ–¹ä¹Ÿå¯ä»¥</span></span><br><span class="line">arr ** <span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[  4, 225, 169,  81],
       [ 81, 289,   4, 196],
       [ 16,   4, 121, 361]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¼€æ–¹</span></span><br><span class="line">np.sqrt(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1.41421356, 3.87298335, 3.60555128, 3.        ],
       [3.        , 4.12310563, 1.41421356, 3.74165739],
       [2.        , 1.41421356, 3.31662479, 4.35889894]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># log</span></span><br><span class="line">np.log(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.69314718, 2.7080502 , 2.56494936, 2.19722458],
       [2.19722458, 2.83321334, 0.69314718, 2.63905733],
       [1.38629436, 0.69314718, 2.39789527, 2.94443898]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¶…è¿‡5çš„éƒ½æ¢æˆ5</span></span><br><span class="line">np.minimum(arr, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[2, 5, 5, 5],
       [5, 5, 2, 5],
       [4, 2, 5, 5]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½äº5çš„éƒ½æ¢æˆ5</span></span><br><span class="line">np.maximum(arr, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 5, 15, 13,  9],
       [ 9, 17,  5, 14],
       [ 5,  5, 11, 19]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å››èˆäº”å…¥</span></span><br><span class="line">np.<span class="built_in">round</span>(np.sqrt(arr), <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1.41, 3.87, 3.61, 3.  ],
       [3.  , 4.12, 1.41, 3.74],
       [2.  , 1.41, 3.32, 4.36]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># floor/ceil</span></span><br><span class="line">np.floor(np.sqrt(arr))</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 3., 3., 3.],
       [3., 4., 1., 3.],
       [2., 1., 3., 4.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.ceil(np.sqrt(arr))</span><br></pre></td></tr></table></figure>
<pre><code>array([[2., 4., 4., 3.],
       [3., 5., 2., 4.],
       [2., 2., 4., 5.]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mod &lt;=&gt; x % 3</span></span><br><span class="line">np.mod(arr, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[2, 0, 1, 0],
       [0, 2, 2, 2],
       [1, 2, 2, 1]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr - <span class="number">5</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[-3, 10,  8,  4],
       [ 4, 12, -3,  9],
       [-1, -3,  6, 14]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿˜å¯ä»¥ä½¿ç”¨å¤šä¸ªè¢«é™¤æ•°</span></span><br><span class="line">np.mod(arr, arr - <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[-1,  5,  5,  1],
       [ 1,  5, -1,  5],
       [ 0, -1,  5,  5]])</code></pre>
<h3 id="çŸ©é˜µ">çŸ©é˜µ</h3>
<p>â­â­â­â­â­</p>
<p>è¿™ä¸€å°èŠ‚ä¸»è¦ä»‹ç»çº¿æ€§ä»£æ•°ä¸­çŸ©é˜µçš„å¤„ç†ï¼Œæˆ‘ä»¬ä¼šä»‹ç»å‡ ä¸ªçŸ©é˜µç›¸å…³å¸¸ç”¨çš„
APIã€‚</p>
<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>dot</code> å’Œ <code>matmul</code>
åœ¨é«˜ç»´åº¦æ—¶è¡¨ç°ä¸åŒã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">a = rng.integers(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">b = rng.integers(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line">c = rng.integers(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">a, b, c</span><br></pre></td></tr></table></figure>
<pre><code>(array([[1, 7],
        [6, 4],
        [4, 8]]),
 array([[1, 7, 2, 1],
        [5, 9, 7, 7]]),
 array([[7, 8, 5],
        [2, 8, 5],
        [5, 4, 2]]))</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># array ä¹˜æ³•</span></span><br><span class="line"><span class="comment"># çŸ©é˜µä¹˜æ³•</span></span><br><span class="line">np.dot(a, b)</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 36,  70,  51,  50],
       [ 26,  78,  40,  34],
       [ 44, 100,  64,  60]])</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬çœ‹ä¸‹é«˜ç»´åº¦ä¸‹ dot å’Œ matmul çš„åŒºåˆ«</span></span><br><span class="line"><span class="comment"># ijk, lkm -&gt; ijlm</span></span><br><span class="line">rng = np.random.default_rng(<span class="number">42</span>)</span><br><span class="line">a = rng.integers(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">b = rng.integers(<span class="number">1</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------------------------------------------------&quot;</span>)</span><br><span class="line">c = np.dot(a, b)</span><br><span class="line">d = np.matmul(a, b)</span><br><span class="line"><span class="built_in">print</span>(c, c.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(d, d.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------------------------------------------------&quot;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>-----------------------------------------------------
[[[1 7 6]
  [4 4 8]
  [1 7 2]]

 [[1 5 9]
  [7 7 7]
  [8 5 2]]]
-----------------------------------------------------
[[[8 5 5 4]
  [2 9 8 6]
  [4 8 5 4]]

 [[5 3 1 5]
  [8 1 8 8]
  [3 6 2 7]]]
-----------------------------------------------------
[[[[ 46 116  91  70]
   [ 79  46  69 103]]

  [[ 72 120  92  72]
   [ 76  64  52 108]]

  [[ 30  84  71  54]
   [ 67  22  61  75]]]</code></pre>
<p>â€‹<br />
â€‹[[[ 54 122 90 70] â€‹ [ 72 62 59 108]] â€‹<br />
â€‹[[ 98 154 126 98] â€‹ [112 70 77 140]] â€‹<br />
â€‹[[ 82 101 90 70] â€‹ [ 86 41 52 94]]]] (2, 3, 2, 4) â€‹
----------------------------------------------------- â€‹ [[[ 46 116 91 70]
â€‹[ 72 120 92 72] â€‹ [ 30 84 71 54]] â€‹<br />
â€‹[[ 72 62 59 108] â€‹ [112 70 77 140] â€‹ [ 86 41 52 94]]] (2, 3, 4) â€‹
-----------------------------------------------------</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2022%E5%A4%8F%E5%AD%A3/">2022å¤å­£</a><a class="post-meta__tags" href="/tags/Python/">Python</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-62b11572b25ab3ab" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/07/17/CS/others/Python%20%E8%BF%9B%E9%98%B6%E8%AF%9D%E9%A2%98/"><img class="prev-cover" src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Sergey Pesterev (ijFuMdN_02E).jpg" onerror="onerror=null;src='https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Oscar Rodrigo Hernandez Panczenko (P0GQ95huhBo).jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Python è¿›é˜¶è¯é¢˜</div></div></a></div><div class="next-post pull-right"><a href="/2022/06/16/Lecture/2022%20Spring/%E8%AF%B7%E4%BB%A5%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E5%91%BC%E5%94%A4%E6%88%91/"><img class="next-cover" src="https://pic.imgdb.cn/item/62270f345baa1a80ab39c24c.jpg" onerror="onerror=null;src='https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Oscar Rodrigo Hernandez Panczenko (P0GQ95huhBo).jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">æˆ‘ä»¬ä¸ºä»€ä¹ˆä¼šé€‰æ‹©ç¤¾ä¼šåŒ–æŠšå…»</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/07/17/CS/others/Python%20%E8%BF%9B%E9%98%B6%E8%AF%9D%E9%A2%98/" title="Python è¿›é˜¶è¯é¢˜"><img class="cover" src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Sergey Pesterev (ijFuMdN_02E).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-17</div><div class="title">Python è¿›é˜¶è¯é¢˜</div></div></a></div><div><a href="/2022/04/24/%E9%9A%8F%E7%AC%94/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%BA%8C%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/" title="å¤§äºŒå­¦å¹´æ€»ç»“"><img class="cover" src="https://pic.imgdb.cn/item/620540f92ab3f51d91b65009.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">å¤§äºŒå­¦å¹´æ€»ç»“</div></div></a></div><div><a href="/2022/08/15/%E9%9A%8F%E7%AC%94/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%B8%89%E5%AD%A6%E5%B9%B4%E5%B1%95%E6%9C%9B/" title="è‹±å¹´"><img class="cover" src="https://github.com/zhaochenyang20/ivue_wallpaper/blob/main/ivue_desktop/Photo%20by%20Daniele%20Franchi%20(cUNADszVGeg).jpg?raw=true" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-15</div><div class="title">è‹±å¹´</div></div></a></div><div><a href="/2022/01/23/%E9%9A%8F%E7%AC%94/%E5%BF%83%E5%BF%83%E5%BF%B5%E5%BF%B5/Call%20Me%20A%20Fool/" title="ä½ å°†å­¤å•è€Œåº¦è¿‡ä¸€ç”Ÿ"><img class="cover" src="https://pic.imgdb.cn/item/620540f92ab3f51d91b65009.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-23</div><div class="title">ä½ å°†å­¤å•è€Œåº¦è¿‡ä¸€ç”Ÿ</div></div></a></div><div><a href="/2022/07/25/Lecture/English/TOEFL_life_savior/" title="æ‰˜ç¦æŠ¢æ•‘è®¡åˆ’"><img class="cover" src="https://pic.imgdb.cn/item/61f0fc802ab3f51d91731f03.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-25</div><div class="title">æ‰˜ç¦æŠ¢æ•‘è®¡åˆ’</div></div></a></div><div><a href="/2022/07/23/%E9%9A%8F%E7%AC%94/%E5%BF%83%E5%BF%83%E5%BF%B5%E5%BF%B5/talk_with_dg/" title="äº¤æµçè®°â€”â€”é‚“ä¿Šè¾‰è€å¸ˆï¼ˆäºŒï¼‰"><img class="cover" src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Brent Ninaber (gA2HodYh4nY).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-23</div><div class="title">äº¤æµçè®°â€”â€”é‚“ä¿Šè¾‰è€å¸ˆï¼ˆäºŒï¼‰</div></div></a></div><div><a href="/2022/02/22/CS/others/Tsing_answer_analysis/" title="ç­”ç–‘åŠæ•°æ®ç»Ÿè®¡"><img class="cover" src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Daniel Olah (eMFyNEYHnOQ).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-22</div><div class="title">ç­”ç–‘åŠæ•°æ®ç»Ÿè®¡</div></div></a></div><div><a href="/2022/02/16/CS/others/python_decorator/" title="decorator Pythonè£…é¥°å™¨"><img class="cover" src="https://pic.imgdb.cn/item/61eccc242ab3f51d91d6d7ab.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-16</div><div class="title">decorator Pythonè£…é¥°å™¨</div></div></a></div><div><a href="/2022/03/01/CS/others/Python_oop/" title="Python Tutorial Reading Note"><img class="cover" src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Jr Korpa (rRS54e00uoQ).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">Python Tutorial Reading Note</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E-numpy-%E7%9A%84-python-%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">åŸºäº Numpy çš„ Python
ç§‘å­¦è®¡ç®—å…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#intro-why-numpy"><span class="toc-number">1.1.</span> <span class="toc-text">Intro: Why Numpy?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E9%87%8D%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">å†…å®¹é‡ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">Python æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python-%E6%95%B4%E5%9E%8B%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%B4%E5%9E%8B"><span class="toc-number">2.1.1.</span> <span class="toc-text">Python æ•´å‹ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•´å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-%E5%88%97%E8%A1%A8%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8"><span class="toc-number">2.1.2.</span> <span class="toc-text">Python åˆ—è¡¨ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåˆ—è¡¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BD%95-numpy-%E4%BC%9A%E6%9B%B4%E5%BF%AB"><span class="toc-number">2.2.</span> <span class="toc-text">ä¸ºä½• numpy ä¼šæ›´å¿«ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E7%94%9F%E6%88%90"><span class="toc-number">3.</span> <span class="toc-text">åˆ›å»ºå’Œç”Ÿæˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-python-%E5%88%97%E8%A1%A8%E6%88%96%E5%85%83%E7%BB%84%E5%88%9B%E5%BB%BA"><span class="toc-number">3.0.1.</span> <span class="toc-text">ä» python åˆ—è¡¨æˆ–å…ƒç»„åˆ›å»º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-arange-%E7%94%9F%E6%88%90"><span class="toc-number">3.1.</span> <span class="toc-text">ä½¿ç”¨ arange ç”Ÿæˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-linspacelogspace-%E7%94%9F%E6%88%90"><span class="toc-number">3.1.1.</span> <span class="toc-text">ä½¿ç”¨ linspace&#x2F;logspace ç”Ÿæˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-oneszeros-%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.2.</span> <span class="toc-text">ä½¿ç”¨ ones&#x2F;zeros åˆ›å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-random-%E7%94%9F%E6%88%90"><span class="toc-number">3.1.3.</span> <span class="toc-text">ä½¿ç”¨ random ç”Ÿæˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">3.1.4.</span> <span class="toc-text">ä»æ–‡ä»¶è¯»å–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.</span> <span class="toc-text">ç»Ÿè®¡å’Œå±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%BA%E5%AF%B8%E7%9B%B8%E5%85%B3"><span class="toc-number">3.2.1.</span> <span class="toc-text">å°ºå¯¸ç›¸å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.shape"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">np.shape</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%80%BC%E5%88%86%E4%BD%8D"><span class="toc-number">3.2.2.</span> <span class="toc-text">æœ€å€¼åˆ†ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E5%9D%87%E6%B1%82%E5%92%8C%E6%A0%87%E5%87%86%E5%B7%AE"><span class="toc-number">3.2.3.</span> <span class="toc-text">å¹³å‡æ±‚å’Œæ ‡å‡†å·®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.sum"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">np.sum</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%A2%E7%8A%B6%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.3.</span> <span class="toc-text">å½¢çŠ¶å’Œè½¬æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E5%BD%A2%E7%8A%B6"><span class="toc-number">3.3.1.</span> <span class="toc-text">æ”¹å˜å½¢çŠ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.expand_dims"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">np.expand_dims</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">é€šç”¨å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%9A%84%E9%80%9A%E7%94%A8%E5%87%BD%E6%95%B0%E7%89%B9%E6%80%A7"><span class="toc-number">4.1.</span> <span class="toc-text">é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E6%9C%BA%E5%88%B6"><span class="toc-number">4.2.</span> <span class="toc-text">å¹¿æ’­æœºåˆ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E5%88%99"><span class="toc-number">4.3.</span> <span class="toc-text">è§„åˆ™ï¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E7%9A%84%E5%AE%9E%E9%99%85%E8%BF%90%E7%94%A8"><span class="toc-number">4.4.</span> <span class="toc-text">å¹¿æ’­çš„å®é™…è¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%BA%8F"><span class="toc-number">4.4.1.</span> <span class="toc-text">ååº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E7%BD%AE"><span class="toc-number">4.4.2.</span> <span class="toc-text">è½¬ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.transpose"><span class="toc-number">4.4.2.1.</span> <span class="toc-text">np.transpose</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E8%A7%A3%E5%92%8C%E7%BB%84%E5%90%88"><span class="toc-number">4.5.</span> <span class="toc-text">åˆ†è§£å’Œç»„åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">4.5.1.</span> <span class="toc-text">åˆ‡ç‰‡å’Œç´¢å¼•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fancy-indexing"><span class="toc-number">4.5.2.</span> <span class="toc-text">Fancy Indexing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E5%B8%83%E5%B0%94%E6%95%B0%E7%BB%84"><span class="toc-number">4.5.2.1.</span> <span class="toc-text">æ“ä½œå¸ƒå°”æ•°ç»„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A2%E7%B4%A2%E8%8A%B1%E5%93%A8%E7%9A%84%E7%B4%A2%E5%BC%95"><span class="toc-number">4.5.2.2.</span> <span class="toc-text">æ¢ç´¢èŠ±å“¨çš„ç´¢å¼•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-number">4.5.2.3.</span> <span class="toc-text">ç»„åˆç´¢å¼•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%BC%E6%8E%A5"><span class="toc-number">4.5.3.</span> <span class="toc-text">æ‹¼æ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D"><span class="toc-number">4.5.4.</span> <span class="toc-text">é‡å¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%8B%86"><span class="toc-number">4.5.5.</span> <span class="toc-text">åˆ†æ‹†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.split"><span class="toc-number">4.5.5.1.</span> <span class="toc-text">np.split</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%9B%E9%80%89%E5%92%8C%E8%BF%87%E6%BB%A4"><span class="toc-number">4.6.</span> <span class="toc-text">ç­›é€‰å’Œè¿‡æ»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89"><span class="toc-number">4.6.1.</span> <span class="toc-text">æ¡ä»¶ç­›é€‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96"><span class="toc-number">4.6.2.</span> <span class="toc-text">æå–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E6%A0%B7"><span class="toc-number">4.6.3.</span> <span class="toc-text">æŠ½æ ·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%80%BC-index"><span class="toc-number">4.6.4.</span> <span class="toc-text">æœ€å€¼ Index</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#np.argmaxargmin"><span class="toc-number">4.6.4.1.</span> <span class="toc-text">np.argmax&#x2F;argmin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#np.argsort"><span class="toc-number">4.6.4.2.</span> <span class="toc-text">np.argsort</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E5%92%8C%E8%BF%90%E7%AE%97"><span class="toc-number">4.7.</span> <span class="toc-text">çŸ©é˜µå’Œè¿ç®—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF"><span class="toc-number">4.7.1.</span> <span class="toc-text">ç®—æœ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5"><span class="toc-number">4.7.2.</span> <span class="toc-text">çŸ©é˜µ</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: ï¼ƒ0096FF"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Chenytang Zhao</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@undefined/dist/mermaid.min.js?v=undefined"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœ¬åœ°æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“æ­£åœ¨è‰°éš¾è¿è¡Œ</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '978121c7b834efdd76be',
      clientSecret: '59b40e8f39a1c33db5a2c891771086164b9575c4',
      repo: 'zhaochenyang20.github.io',
      owner: 'zhaochenyang20',
      admin: ['zhaochenyang20'],
      id: '8e7634db7fb45134bcc8258e43ad8c92',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>