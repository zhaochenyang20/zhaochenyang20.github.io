<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>oopç¬”è®°  L7  ç»„åˆä¸ç»§æ‰¿ | ä½ ä¸€ç”Ÿçš„æ•…äº‹</title><meta name="keywords" content="è·ªç³»çš„æ™®é€šå­¦ç”Ÿ"><meta name="author" content="Eren Zhao"><meta name="copyright" content="Eren Zhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="é‡å†™è¦†ç›–ä¸å‡½æ•°é‡è½½ï¼Œäººç”Ÿé‡å¼€å¾—äº†...">
<meta property="og:type" content="article">
<meta property="og:title" content="oopç¬”è®°  L7  ç»„åˆä¸ç»§æ‰¿">
<meta property="og:url" content="http://example.com/2022/01/12/Lecture/%E4%BB%8E%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/OOP/L7%20%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/index.html">
<meta property="og:site_name" content="ä½ ä¸€ç”Ÿçš„æ•…äº‹">
<meta property="og:description" content="é‡å†™è¦†ç›–ä¸å‡½æ•°é‡è½½ï¼Œäººç”Ÿé‡å¼€å¾—äº†...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (TwWmbN3mxzU).jpg">
<meta property="article:published_time" content="2022-01-12T08:33:22.000Z">
<meta property="article:modified_time" content="2022-08-26T15:38:33.101Z">
<meta property="article:author" content="Eren Zhao">
<meta property="article:tag" content="è·ªç³»çš„æ™®é€šå­¦ç”Ÿ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (TwWmbN3mxzU).jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/2022/01/12/Lecture/%E4%BB%8E%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/OOP/L7%20%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"éº»äº†ï¼Œæ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Eren Zhao","link":"é“¾æ¥: ","source":"æ¥æº: ä½ ä¸€ç”Ÿçš„æ•…äº‹","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'oopç¬”è®°  L7  ç»„åˆä¸ç»§æ‰¿',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2022-08-26 23:38:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mouse.css"><meta name="generator" content="Hexo 6.0.0"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend.jpg'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">190</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">51</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">30</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by eberhard ğŸ– grossgasteiger (TwWmbN3mxzU).jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ä½ ä¸€ç”Ÿçš„æ•…äº‹</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">oopç¬”è®°  L7  ç»„åˆä¸ç»§æ‰¿</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-01-12T08:33:22.000Z" title="å‘è¡¨äº 2022-01-12 16:33:22">2022-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-08-26T15:38:33.101Z" title="æ›´æ–°äº 2022-08-26 23:38:33">2022-08-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B/">è¯¾ç¨‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B/OOP/">OOP</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>37åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="oopç¬”è®°  L7  ç»„åˆä¸ç»§æ‰¿"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="l7-ç»„åˆä¸ç»§æ‰¿">L7 ç»„åˆä¸ç»§æ‰¿</h1>
<blockquote>
<p>å¦‚æœé˜…è¯»æ—¶é—´ä¸å¤Ÿå……è¶³ï¼Œå»ºè®®é˜…è¯»è¯¾å ‚çš„æ‰©å±•éƒ¨åˆ†ã€‚</p>
<ul>
<li>1.1.3 publicæ¥å£è®¿é—®privateæ•°æ®</li>
<li>3.3 é‡å†™è¦†ç›–çš„æ€»ç»“</li>
</ul>
</blockquote>
<h1 id="ä¸€ç»„åˆ">ä¸€ã€ç»„åˆ</h1>
<h2 id="å®šä¹‰">1.1 å®šä¹‰</h2>
<p>å¦‚æœå¯¹è±¡aæ˜¯å¯¹è±¡bçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œåˆ™ç§°bä¸ºaçš„æ•´ä½“å¯¹è±¡ï¼Œaä¸ºbçš„éƒ¨åˆ†å¯¹è±¡ã€‚å¹¶æŠŠbå’Œaä¹‹é—´çš„å…³ç³»ï¼Œç§°ä¸ºâ€œæ•´ä½“ï¼éƒ¨åˆ†â€å…³ç³»ï¼ˆä¹Ÿå¯ç§°ä¸ºâ€œç»„åˆâ€æˆ–â€œhas-aâ€å…³ç³»ï¼‰ã€‚</p>
<h2 id="ä¸¤ç§å®ç°æ–¹å¼">1.2 ä¸¤ç§å®ç°æ–¹å¼</h2>
<h3 id="å…¬æœ‰æˆå‘˜">1.2.1 å…¬æœ‰æˆå‘˜</h3>
<p>å·²æœ‰ç±»çš„å¯¹è±¡ä½œä¸ºæ–°ç±»çš„å…¬æœ‰æ•°æ®æˆå‘˜ï¼Œè¿™æ ·é€šè¿‡å…è®¸ç›´æ¥è®¿é—®å­å¯¹è±¡è€Œâ€œæä¾›â€æ—§ç±»æ¥å£ã€‚</p>
<h3 id="ç§æœ‰æˆå‘˜">1.2.2 ç§æœ‰æˆå‘˜</h3>
<p>å·²æœ‰ç±»çš„å¯¹è±¡ä½œä¸ºæ–°ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜ã€‚æ–°ç±»å¯ä»¥è°ƒæ•´æ—§ç±»çš„å¯¹å¤–æ¥å£ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ—§ç±»åŸæœ‰çš„æ¥å£ï¼ˆç›¸å½“äºå¯¹æ¥å£ä½œäº†è½¬æ¢ï¼‰</p>
<p>æˆ‘ä»¬æœ‰å¦‚ä¸‹å‘½åä¸¤ç±»ç»„åˆæ–¹å¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Â Â WheelÂ w;<span class="comment">//privateç»„åˆ</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â EngineÂ e;Â <span class="comment">//publicç»„åˆ</span></span><br></pre></td></tr></table></figure>
<h3 id="publicæ¥å£è®¿é—®privateæ•°æ®">1.2.3 publicæ¥å£è®¿é—®privateæ•°æ®</h3>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Wheel</span>&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â _num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">set</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;_num=n;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Engine</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â _num;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">set</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;_num=n;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Car</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Â Â WheelÂ w;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â EngineÂ e;Â <span class="comment">///Â å…¬æœ‰æˆå‘˜ï¼Œç›´æ¥è®¿é—®å…¶æ¥å£</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">setWheel</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;w.<span class="built_in">set</span>(n);&#125;Â <span class="comment">///Â æä¾›ç§æœ‰æˆå‘˜çš„è®¿é—®æ¥å£</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â CarÂ c;</span><br><span class="line">Â Â c.e.<span class="built_in">set</span>(<span class="number">1</span>);</span><br><span class="line">Â Â c.<span class="built_in">setWheel</span>(<span class="number">4</span>);</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Carç”±Engineå’ŒWheelä¸¤éƒ¨åˆ†ç»„æˆã€‚å¦‚æœæˆ‘çš„Wheelè®¾ä¸ºç§æœ‰ï¼Œé‚£ä¹ˆæˆ‘æ²¡æ³•ç›´æ¥åœ¨ç±»å¤–ï¼ˆä¸»å‡½æ•°é‡Œï¼‰è®¿é—®w.set(n)ï¼Œå› ä¸ºç±»å¤–æ— æ³•è®¿é—®ç§æœ‰æˆå‘˜ã€‚ç§æœ‰æˆå‘˜çš„æ‰€æœ‰æ¥å£ä¼šåœ¨ç±»å¤–æ•´ä½“ç§æœ‰åŒ–ï¼Œä½†æ˜¯ç§æœ‰æˆå‘˜çš„publicæ¥å£ä»ç„¶å¯ä»¥è¢«ç±»å†…å‡½æ•°è°ƒç”¨ã€‚å¯ä»¥è®¾ç½®publicæ¥å£setwheelï¼Œsetweelæ˜¯ä¸ªpublicçš„ç±»å†…å‡½æ•°ï¼Œå¯ä»¥è®¿é—®ç±»å†…privateæˆå‘˜ï¼Œä»è€Œæˆ‘èƒ½å¤Ÿé€šè¿‡æ­¤æ¥å£è®¿é—®åˆ°privateæ•°æ®æˆå‘˜wheel wçš„publicæ¥å£ï¼Œä½†æ˜¯ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®privateéƒ¨åˆ†çš„privateæ•°æ®ã€‚åŒç†ï¼Œè§‚å¯Ÿwheelç±»å’ŒEngineç±»çš„å†™æ³•ï¼Œå…¶å®ä¹Ÿæ˜¯è¿™ç§ç»™privateå¯¹è±¡æ·»åŠ publicæ¥å£çš„æ€æƒ³ã€‚</p>
<p>å°†æ­¤ä¾‹å­è¿›ä¸€æ­¥é˜è¿°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Wheel</span>&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â _num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Wheel</span>(<span class="keyword">int</span>Â x)&#123;_num=x;&#125;</span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">set</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;_num=n;&#125;<span class="comment">//æ²¡æœ‰getå‡½æ•°æ˜¯æ²¡æ³•ç›´æ¥åœ¨Carç±»é‡Œè®¿é—®åˆ°privateæˆå‘˜çš„privateçš„</span></span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">int</span>Â <span class="title">getwheelvalue</span><span class="params">()</span></span>&#123;<span class="keyword">return</span>Â <span class="keyword">this</span>-&gt;_num;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Engine</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Engine</span>(<span class="keyword">int</span>Â y)&#123;_num=y;&#125;</span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â _num;</span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">set</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;_num=n;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Car</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Â Â WheelÂ w;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â EngineÂ e;Â <span class="comment">///Â å…¬æœ‰æˆå‘˜ï¼Œç›´æ¥è®¿é—®å…¶æ¥å£</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">setWheel</span><span class="params">(<span class="keyword">int</span>Â n)</span></span>&#123;w.<span class="built_in">set</span>(n);&#125;Â <span class="comment">///Â æä¾›ç§æœ‰æˆå‘˜çš„è®¿é—®æ¥å£</span></span><br><span class="line">Â Â <span class="built_in">Car</span>(<span class="keyword">int</span>Â x,<span class="keyword">int</span>Â y):<span class="built_in">w</span>(x),<span class="built_in">e</span>(y)&#123;&#125;;</span><br><span class="line">Â Â <span class="comment">//Car(intÂ x):Egine(x),Wheel(x)&#123;&#125;;</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">print</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;myÂ EngineÂ isÂ &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;e._num&lt;&lt;<span class="string">&quot;Â myÂ WheelÂ isÂ &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;w.<span class="built_in">getwheelvalue</span>()&lt;&lt;endl;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â <span class="function">CarÂ <span class="title">c</span><span class="params">(<span class="number">5</span>,<span class="number">3</span>)</span></span>;</span><br><span class="line">Â Â c.<span class="built_in">print</span>();</span><br><span class="line">Â Â c.e.<span class="built_in">set</span>(<span class="number">1</span>);</span><br><span class="line">Â Â Â Â c.<span class="built_in">print</span>();</span><br><span class="line">Â Â c.<span class="built_in">setWheel</span>(<span class="number">4</span>);</span><br><span class="line">Â Â Â Â c.<span class="built_in">print</span>();</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Output:</span><br><span class="line">my Engine is <span class="number">3</span> my Wheel is <span class="number">5</span></span><br><span class="line">my Engine is <span class="number">1</span> my Wheel is <span class="number">5</span></span><br><span class="line">my Engine is <span class="number">1</span> my Wheel is <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ï¼ŒWheel wæ˜¯Carçš„ç§æœ‰æˆå‘˜ï¼ŒCarçš„publicæ¥å£å¯ä»¥è®¿é—®Carçš„privateæ•°æ®æˆå‘˜ï¼Œæ•…è€Œå¯ä»¥è®¿é—®wï¼Œä½†æ˜¯æ— æ³•è®¿é—®ç§æœ‰æ•°æ®æˆå‘˜çš„ç§æœ‰æ•°æ®æˆå‘˜ï¼Œæ•…è€Œæ— æ³•ç›´æ¥åœ¨printä¸­è¾“å‡ºw._numï¼Œæˆ‘ä»¬é€‰æ‹©äº†å†å¯¹Wheelè®¾è®¡ç§æœ‰æ•°æ®æˆå‘˜çš„æ¥å£getwheelvalueæ¥è®¿é—®wheelçš„_numã€‚</p>
<p>ç¬¬äºŒï¼Œå¯¹äºCarçš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ï¼Œå½“Carçš„æ•°æ®æˆå‘˜æ˜¯int xæ—¶ï¼Œæˆ‘ä»¬å†™çš„æ˜¯x(i)ï¼Œè€Œä¸æ˜¯int(i)ã€‚ï¼ˆå¦åˆ™ï¼Œå¦‚æœæœ‰å¤šä¸ªintç±»çš„æˆå‘˜ï¼Œåˆå§‹åŒ–å°±æ— æ³•è¿›è¡Œäº†ï¼‰æ‰€ä»¥è¿™é‡Œå†™çš„ä¹Ÿæ˜¯w(x)ï¼Œè€Œä¸æ˜¯Wheel(x)ã€‚è¿™é‡Œå…¶å®ä¹Ÿä½“ç°äº†åŸºæœ¬æ•°æ®å’Œè‡ªå®šä¹‰ç±»çš„ç±»æ¯”å…³ç³»ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨äº†åˆå§‹åŒ–åˆ—è¡¨æ¥æ„é€ Carï¼Œè€Œä¸æ˜¯é‡‡ç”¨å‡½æ•°ä½“å†…èµ‹å€¼ã€‚å› ä¸ºC++11ç›´æ¥ç¦æ­¢äº†è¿™ç±»çš„å‡½æ•°ä½“å†…èµ‹å€¼ã€‚</p>
<p>æˆ‘ä»¬å¯¹æ­¤çš„ç†è§£ï¼šå¦‚æœæ˜¯å‡½æ•°ä½“å†…èµ‹å€¼æ¥æ„é€ Carï¼Œé‚£ä¹ˆéœ€è¦å®šä¹‰Wheelå’ŒEngineçš„é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå¦‚æœæˆ‘ä»¬ä¸å®šä¹‰å¸¦æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰é™¤æ­¤ä¹‹å¤–ï¼Œç±»ä¼¼w=5è¿™æ ·çš„è¯­å¥è¿˜éœ€è¦éšå¼è°ƒç”¨å¸¦æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ç”ŸæˆWheelï¼ˆ5ï¼‰,ç„¶åè°ƒç”¨éšå¼ç”Ÿæˆçš„ç§»åŠ¨èµ‹å€¼è¯­å¥ç»™wèµ‹å€¼ã€‚è¿™ä¸ªæ–¹å¼æ¯”èµ·åˆå§‹åŒ–åˆ—è¡¨æ•ˆç‡ä½ä¸‹å¤ªå¤šã€‚ï¼ˆå¦‚æ­¤ç¦æ­¢å¯èƒ½è¿˜æœ‰å…¶ä»–çš„å› æœå…³ç³»ï¼‰</p>
<p>è¿™å…¶å®å°±æ˜¯1.3.1çš„ç¬¬ä¸€å¥è¯çš„ç†è§£ã€‚</p>
<h2 id="æ„é€ ä¸ææ„">1.3 æ„é€ ä¸ææ„</h2>
<h3 id="å­å¯¹è±¡å‚æ•°æ„é€ ">1.3.1 å­å¯¹è±¡å‚æ•°æ„é€ </h3>
<p>å­å¯¹è±¡æ„é€ æ—¶è‹¥éœ€è¦å‚æ•°ï¼Œåˆ™åº”åœ¨å½“å‰ç±»çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œã€‚ä¸èƒ½å¤Ÿé€šè¿‡å…ˆé»˜è®¤æ„é€ ã€‚ç„¶åå†åœ¨å‡½æ•°ä½“å†…èµ‹å€¼ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒC++11çš„è§„å®šæ˜¯å…¶ä»–ç±»çš„å­å¯¹è±¡å¿…é¡»è¦é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨æ¥æ„é€ ï¼Œå¦‚æœä¸å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œï¼Œé‚£ä¹ˆå°±è°ƒç”¨é»˜è®¤æ„é€ ã€‚</p>
<p>å¦‚æœAç±»å†…ç»„åˆæœ‰å…¶ä»–ç±»Bçš„å¯¹è±¡ï¼Œé‚£ä¹ˆBçš„å¯¹è±¡å¿…é¡»è¦é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨æ¥æ„é€ ï¼Œå¯ä»¥ä¸å†™åˆå§‹åŒ–åˆ—è¡¨ï¼Œé‚£ä¹ˆä¼šè°ƒç”¨Bçš„é»˜è®¤æ„é€ å‡½æ•°ã€‚ä½†æ˜¯ä¸€å®šä¸èƒ½åœ¨Açš„æ„é€ å‡½æ•°ä½“å†…è¿›è¡Œæ„é€ ï¼Œæ•ˆç‡å¤ªä½ã€‚</p>
<p>è¿™ä¸ªåœ°æ–¹æ„Ÿè§‰ä¼šå’Œæˆ‘ä»¬çš„ç†è§£å‘ç”Ÿå†²çªï¼Œå› ä¸ºç±»å½“ä¸­ç»å¸¸ä¼šéœ€è¦intæ•°æ®æˆå‘˜ã€‚intæ˜¯ä¸€ä¸ªç±»ï¼Œé‚£éš¾é“intåªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œèµ‹å€¼å—ï¼Ÿ</p>
<p>è¿™ä¸ªç†è§£æ˜¯é”™çš„ã€‚intä¸èƒ½ç®—æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå’Œchar,long,doubleéƒ½åªæ˜¯åŸºæœ¬çš„å˜é‡ç±»å‹ã€‚ç»„åˆæŒ‡çš„æ˜¯ç±»å’Œç±»ä¹‹é—´ï¼Œæ•°æ®æˆå‘˜é‡Œçš„intï¼Œè¿™ä¸æ˜¯ç»„åˆã€‚åŸºæœ¬æ•°æ®ç±»å‹å’Œè‡ªå·±å†™çš„ç±»ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚è€Œä¸”å¯¹äºçŸ­èµ‹å€¼è¯­å¥ï¼Œå°½é‡èƒ½æ”¾åˆå§‹åŒ–åˆ—è¡¨å°±ä¸æ”¾å‡½æ•°ä½“å†…ï¼Œå‰è€…æ•ˆç‡æ›´é«˜ã€‚</p>
<p>ä½†æ˜¯Vectoræ˜¯ä¸ªå°è£…å¥½äº†çš„ç±»ï¼Œ<code>#include &lt;vector&gt; using std::vector</code>å°±æ˜¯æŠŠåŒ…å«å®ƒçš„åº“æåˆ°ä½ çš„ç¨‹åºä¸­ã€‚</p>
<h3 id="å­å¯¹è±¡é»˜è®¤æ„é€ ">1.3.2 å­å¯¹è±¡é»˜è®¤æ„é€ </h3>
<p>è‹¥ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°æ¥æ„é€ å­å¯¹è±¡ï¼Œåˆ™ä¸ç”¨åšä»»ä½•å¤„ç†ã€‚</p>
<h3 id="æ„é€ æ¬¡åº">1.3.3 æ„é€ æ¬¡åº</h3>
<p>å…ˆå®Œæˆå­å¯¹è±¡æ„é€ ï¼Œå†å®Œæˆçˆ¶å¯¹è±¡æ„é€ ã€‚</p>
<h3 id="ææ„æ¬¡åº">1.3.4 ææ„æ¬¡åº</h3>
<p>å­å¯¹è±¡æ„é€ çš„æ¬¡åºä»…ç”±åœ¨ç±»ä¸­å£°æ˜çš„æ¬¡åºæ‰€å†³å®šã€‚</p>
<p>ææ„å‡½æ•°çš„æ¬¡åºä¸æ„é€ å‡½æ•°ç›¸åï¼Œä¹Ÿå°±æ˜¯å®Œå…¨åç€ææ„ä¸€æ¬¡å³å¯ã€‚</p>
<h3 id="ä¾‹å­">1.3.5 ä¾‹å­</h3>
<p>ä¾‹1ï¼šæ„é€ ä¸ææ„çš„æ‰§è¡Œé¡ºåº</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">S1</span>Â &#123;</span>Â <span class="comment">//Single1ç±»åˆ«</span></span><br><span class="line">Â Â <span class="keyword">int</span>Â ID;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="built_in">S1</span>(<span class="keyword">int</span>Â id)Â :Â <span class="built_in">ID</span>(id)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;S1(int)&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â ~<span class="built_in">S1</span>()Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;~S1()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">S2</span>Â &#123;</span><span class="comment">//Single2ç±»åˆ«</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="built_in">S2</span>()Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;S2()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â ~<span class="built_in">S2</span>()Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;~S2()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">C3</span>Â &#123;</span><span class="comment">//Composite3ç±»åˆ«</span></span><br><span class="line">Â Â <span class="keyword">int</span>Â num;</span><br><span class="line">Â Â S1Â sub_obj1;Â <span class="comment">///Â æ„é€ å‡½æ•°å¸¦å‚æ•°</span></span><br><span class="line">Â Â S2Â sub_obj2;Â <span class="comment">///Â æ„é€ å‡½æ•°ä¸å¸¦å‚æ•°</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="built_in">C3</span>()Â :Â <span class="built_in">num</span>(<span class="number">0</span>),Â <span class="built_in">sub_obj1</span>(<span class="number">123</span>)Â <span class="comment">///Â æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¸­æ„é€ å­å¯¹è±¡</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;C3()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â <span class="built_in">C3</span>(<span class="keyword">int</span>Â n)Â :Â <span class="built_in">num</span>(n),Â <span class="built_in">sub_obj1</span>(<span class="number">123</span>)Â </span><br><span class="line">Â Â Â Â Â Â Â Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;C3(int)&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â <span class="built_in">C3</span>(<span class="keyword">int</span>Â n,Â <span class="keyword">int</span>Â k)Â :Â <span class="built_in">num</span>(n),Â <span class="built_in">sub_obj1</span>(k)Â </span><br><span class="line">Â Â Â Â Â Â Â Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;C3(int,Â int)&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â ~<span class="built_in">C3</span>()Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;~C3()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â C3Â a,Â <span class="built_in">b</span>(<span class="number">1</span>),Â <span class="built_in">c</span>(<span class="number">2</span>),Â <span class="built_in">d</span>(<span class="number">3</span>,Â <span class="number">4</span>);</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">S1</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S2</span>()</span><br><span class="line"><span class="built_in">C3</span>()</span><br><span class="line"><span class="built_in">S1</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S2</span>()</span><br><span class="line"><span class="built_in">C3</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S1</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S2</span>()</span><br><span class="line"><span class="built_in">C3</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S1</span>(<span class="keyword">int</span>)</span><br><span class="line"><span class="built_in">S2</span>()</span><br><span class="line"><span class="built_in">C3</span>(<span class="keyword">int</span>,Â <span class="keyword">int</span>)</span><br><span class="line">~<span class="built_in">C3</span>()</span><br><span class="line">~<span class="built_in">S2</span>()</span><br><span class="line">~<span class="built_in">S1</span>()</span><br><span class="line">~<span class="built_in">C3</span>()</span><br><span class="line">~<span class="built_in">S2</span>()</span><br><span class="line">~<span class="built_in">S1</span>()</span><br><span class="line">~<span class="built_in">C3</span>()</span><br><span class="line">~<span class="built_in">S2</span>()</span><br><span class="line">~<span class="built_in">S1</span>()</span><br><span class="line">~<span class="built_in">C3</span>()</span><br><span class="line">~<span class="built_in">S2</span>()</span><br><span class="line">~<span class="built_in">S1</span>()</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼Œå‰é¢12è¡Œï¼Œæ¯ä¸‰è¡Œä¸ºä¸€ä¸ªå•ä½ï¼Œæ˜¯ä¸€ä¸ªæ„é€ ã€‚ä¸”å…ˆæŒ‰ç…§å£°æ˜æ¬¡åºæ„é€ å­å¯¹è±¡sub_obj1ï¼Œä¹‹åæ˜¯sub_obj2ï¼Œæœ€åå®ŒæˆC3æ„é€ ã€‚</p>
<p>è‡³äºææ„é¡ºåºï¼Œé‚£å°±çº¯ç²¹æ˜¯æŠŠå‰12è¡Œå‘ä¸‹å¯¹æŠ˜ã€‚</p>
<p>ä¾‹2ï¼šå¯¹è±¡ç»„åˆçš„æ‹·è´ä¸èµ‹å€¼ï¼ˆå¯¹è¯¾ä»¶ä¸Šçš„ä¾‹å­è¿›è¡Œä¼˜åŒ–ï¼Œæ›´æ¸…æ¥šäº›ï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">C1</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â i;</span><br><span class="line">Â Â Â Â <span class="built_in">C1</span>(<span class="keyword">int</span>Â n):<span class="built_in">i</span>(n)&#123;cout&lt;&lt;<span class="string">&quot;C1Â withÂ int:Â &quot;</span>&lt;&lt;n&lt;&lt;endl;&#125;</span><br><span class="line">Â Â Â Â <span class="built_in">C1</span>(<span class="keyword">const</span>Â C1Â &amp;other)Â <span class="comment">///Â æ˜¾å¼å®šä¹‰æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#123;i=other.i;Â coutÂ &lt;&lt;Â <span class="string">&quot;C1(constÂ C1Â &amp;other)&quot;</span>Â &lt;&lt;Â endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">C2</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â j;</span><br><span class="line">Â Â Â Â <span class="built_in">C2</span>(<span class="keyword">int</span>Â n):<span class="built_in">j</span>(n)&#123;cout&lt;&lt;<span class="string">&quot;C2Â withÂ int:Â &quot;</span>&lt;&lt;n&lt;&lt;endl;&#125;</span><br><span class="line">Â Â Â Â C2&amp;Â <span class="keyword">operator</span>=Â (<span class="keyword">const</span>Â C2&amp;Â right)&#123;<span class="comment">///Â æ˜¾å¼å®šä¹‰èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">if</span>(<span class="keyword">this</span>Â !=Â &amp;right)&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â jÂ =Â right.j;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â coutÂ &lt;&lt;Â <span class="string">&quot;operator=(constÂ C2&amp;)&quot;</span>Â &lt;&lt;Â endl;</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â *<span class="keyword">this</span>;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">C3</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â C1Â c1;</span><br><span class="line">Â Â Â Â C2Â c2;</span><br><span class="line">Â Â Â Â <span class="built_in">C3</span>():<span class="built_in">c1</span>(<span class="number">0</span>),Â <span class="built_in">c2</span>(<span class="number">0</span>)&#123;cout&lt;&lt;<span class="string">&quot;C3Â withoutÂ arg&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">Â Â Â Â <span class="built_in">C3</span>(<span class="keyword">int</span>Â i,Â <span class="keyword">int</span>Â j):<span class="built_in">c1</span>(i),Â <span class="built_in">c2</span>(j)&#123;cout&lt;&lt;<span class="string">&quot;C3Â withÂ iÂ andÂ j&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">print</span><span class="params">()</span></span>&#123;coutÂ &lt;&lt;Â <span class="string">&quot;c1.iÂ =Â &quot;</span>Â &lt;&lt;Â c1.iÂ &lt;&lt;Â <span class="string">&quot;Â c2.jÂ =Â &quot;</span>Â &lt;&lt;Â c2.jÂ &lt;&lt;Â endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â <span class="function">C3Â <span class="title">a</span><span class="params">(<span class="number">1</span>,Â <span class="number">2</span>)</span></span>;</span><br><span class="line">Â Â Â Â <span class="function">C3Â <span class="title">b</span><span class="params">(a)</span></span>;Â Â <span class="comment">//C1æ‰§è¡Œæ˜¾å¼å®šä¹‰çš„æ‹·è´æ„é€ ï¼ŒC2æ‰§è¡Œéšå¼å®šä¹‰çš„æ‹·è´æ„é€ </span></span><br><span class="line">Â Â Â Â coutÂ &lt;&lt;Â <span class="string">&quot;b:Â &quot;</span>;</span><br><span class="line">Â Â Â Â b.<span class="built_in">print</span>();</span><br><span class="line">Â Â Â Â C3Â c;</span><br><span class="line">Â Â Â Â coutÂ &lt;&lt;Â <span class="string">&quot;c:Â &quot;</span>;</span><br><span class="line">Â Â Â Â c.<span class="built_in">print</span>();</span><br><span class="line">Â Â Â Â cÂ =Â a;Â Â <span class="comment">//C1æ‰§è¡Œéšå¼å®šä¹‰çš„æ‹·è´èµ‹å€¼ï¼ŒC2æ‰§è¡Œæ˜¾å¼å®šä¹‰çš„æ‹·è´èµ‹å€¼</span></span><br><span class="line">Â Â Â Â coutÂ &lt;&lt;Â <span class="string">&quot;c:Â &quot;</span>;</span><br><span class="line">Â Â Â Â c.<span class="built_in">print</span>();</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">C1 with <span class="keyword">int</span>: <span class="number">1</span></span><br><span class="line">C2 with <span class="keyword">int</span>: <span class="number">2</span></span><br><span class="line"><span class="function">C3 with i <span class="keyword">and</span> j</span></span><br><span class="line"><span class="function"><span class="title">C1</span><span class="params">(<span class="keyword">const</span> C1 &amp;other)</span></span></span><br><span class="line"><span class="function">b: c1.i =</span> <span class="number">1</span> c2.j = <span class="number">2</span></span><br><span class="line">C1 with <span class="keyword">int</span>: <span class="number">0</span></span><br><span class="line">C2 with <span class="keyword">int</span>: <span class="number">0</span></span><br><span class="line">C3 without arg</span><br><span class="line">c: c1.i = <span class="number">0</span> c2.j = <span class="number">0</span></span><br><span class="line"><span class="keyword">operator</span>=(<span class="keyword">const</span> C2&amp;)</span><br><span class="line">c: c1.i = <span class="number">1</span> c2.j = <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹3ï¼šåŒºåˆ†æ•°æ®æ¥æº</p>
<p>é”™è¯¯çš„æ˜¯ï¼š</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/JLqScl8DQyCdGO3.png" alt="https://s2.loli.net/2022/01/11/JLqScl8DQyCdGO3.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/JLqScl8DQyCdGO3.png</figcaption>
</figure>
<p>æ³¨æ„ï¼Œint data{2018};å’Œint data=2018;è¿™ä¸¤ä¸ªå†™æ³•ä¸€è‡´ã€‚è¿™é‡ŒBç±»çš„printå‡½æ•°è¾“å‡ºçš„æ˜¯Bçš„dataï¼Œè€Œä¸æ˜¯æ•°æ®æˆå‘˜açš„dataã€‚ä½†æ˜¯æ„é€ å‡½æ•°B(int i)a(i)æ˜¯ç”¨2019åœ¨æ„é€ aï¼Œè¿™ä¸€ä¸ªå°ç»†èŠ‚æ¯”è¾ƒå‘ã€‚</p>
<h1 id="äºŒç»§æ‰¿">äºŒã€ç»§æ‰¿</h1>
<h2 id="å®šä¹‰-1">2.1 å®šä¹‰</h2>
<p>ä¸€èˆ¬ï¼ç‰¹æ®Šâ€ç»“æ„ï¼Œä¹Ÿç§°â€œåˆ†ç±»ç»“æ„â€ï¼Œæ˜¯ç”±ä¸€ç»„å…·æœ‰â€œä¸€èˆ¬ï¼ç‰¹æ®Šâ€å…³ç³»çš„ç±»æ‰€ç»„æˆçš„ç»“æ„ï¼ŒC++ä½¿ç”¨ç»§æ‰¿æ¥è¡¨è¾¾ç±»é—´çš„â€œä¸€èˆ¬ï¼ç‰¹æ®Šç»“æ„â€ã€‚</p>
<p>Aç»§æ‰¿Bï¼Œåˆ™ï¼š å±æ€§å’ŒæœåŠ¡ä¸Šï¼šç±»Aå…·æœ‰ç±»Bå…¨éƒ¨çš„å±æ€§å’ŒæœåŠ¡ï¼Œè€Œä¸”å…·æœ‰è‡ªå·±ç‰¹æœ‰çš„æŸäº›å±æ€§æˆ–æœåŠ¡ã€‚Aä¸ºBçš„ç‰¹æ®Šç±»ï¼ŒBä¸ºAçš„ä¸€èˆ¬ç±»ã€‚</p>
<p>å¯¹è±¡å…³ç³»ä¸Šï¼šç±»Açš„å…¨éƒ¨å¯¹è±¡éƒ½æ˜¯ç±»Bçš„å¯¹è±¡ï¼Œè€Œä¸”ç±»Bä¸­å­˜åœ¨ä¸å±äºç±»Açš„å¯¹è±¡ã€‚Aæ˜¯Bçš„ç‰¹æ®Šç±»ï¼ŒBæ˜¯Açš„ä¸€èˆ¬ç±»ã€‚</p>
<h2 id="ç»§æ‰¿æ–¹å¼ä¸è¯­æ³•">2.2 ç»§æ‰¿æ–¹å¼ä¸è¯­æ³•</h2>
<p>è¢«ç»§æ‰¿çš„å·²æœ‰ç±»ï¼Œè¢«ç§°ä¸ºåŸºç±»(base class)ï¼Œä¹Ÿç§°â€œçˆ¶ç±»â€ã€â€œä¸€èˆ¬ç±»â€ã€‚ é€šè¿‡ç»§æ‰¿å¾—åˆ°çš„æ–°ç±»ï¼Œè¢«ä¸ºæ´¾ç”Ÿç±»(derived classï¼Œä¹Ÿç§°â€œå­ç±»â€ã€â€œæ‰©å±•ç±»â€ã€â€œç‰¹æ®Šç±»â€ã€‚</p>
<p>å¸¸è§çš„ç»§æ‰¿æ–¹å¼ï¼špublic, private</p>
<p><code>class Derived : [private] Base &#123; .. &#125;;</code> ç¼ºçœç»§æ‰¿æ–¹å¼ä¸ºprivateç»§æ‰¿ã€‚</p>
<p><code>class Derived : public Base &#123; ... &#125;;</code></p>
<p>protected ç»§æ‰¿å¾ˆå°‘è¢«ä½¿ç”¨</p>
<p><code>class Derived : protected Base &#123; ... &#125;;</code></p>
<p>æ³¨æ„ï¼Œprotectæ•°æ®ç»è¿‡ç»§æ‰¿å¯ä»¥ç»™å­ç±»è®¿é—®ï¼Œä½†æ˜¯privateæ•°æ®ç»è¿‡ç»§æ‰¿ä¸èƒ½ç»™å­ç±»è®¿é—®ï¼Œä¸”äºŒè€…éƒ½ä¸èƒ½ç±»å¤–è®¿é—®ã€‚è¿™é‡Œæè¿°çš„æ˜¯protectæ•°æ®ç±»å‹ï¼Œè€Œä¸æ˜¯protectç»§æ‰¿ï¼Œprotectç»§æ‰¿å¾ˆå°‘ç”¨åˆ°ã€‚</p>
<h2 id="æ— æ³•ç»§æ‰¿">2.3 æ— æ³•ç»§æ‰¿</h2>
<p>æ„é€ å‡½æ•°ï¼šåˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œå¿…é¡»è°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ã€‚æ´¾ç”Ÿç±»æ„é€ å‡½æ•°è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥åˆ›å»ºæ´¾ç”Ÿå¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ã€‚C++11æ–°å¢äº†ç»§æ‰¿æ„é€ å‡½æ•°çš„æœºåˆ¶ï¼ˆä½¿ç”¨usingï¼‰ï¼Œä½†é»˜è®¤ä¸ç»§æ‰¿ã€‚</p>
<p>ææ„å‡½æ•°ï¼šé‡Šæ”¾å¯¹è±¡æ—¶ï¼Œå…ˆè°ƒç”¨æ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†è°ƒç”¨åŸºç±»ææ„å‡½æ•°ã€‚è¿™ä¸ªå’Œç»„åˆç›¸ä¼¼ã€‚</p>
<p>èµ‹å€¼è¿ç®—ç¬¦ï¼šç¼–è¯‘å™¨ä¸ä¼šç»§æ‰¿åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå‚æ•°ä¸ºåŸºç±»ï¼‰ã€‚ä½†ä¼šè‡ªåŠ¨åˆæˆéšå¼å®šä¹‰çš„æ´¾ç”Ÿç±»çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå‚æ•°ä¸ºæ´¾ç”Ÿç±»ï¼‰ï¼Œå…¶åŠŸèƒ½ä¸ºè°ƒç”¨åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>
<p>å‹å…ƒå‡½æ•°ï¼šä¸æ˜¯ç±»æˆå‘˜ï¼Œæ•…è€Œæ— æ³•ç»§æ‰¿</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â kÂ =Â <span class="number">0</span>;</span><br><span class="line">Â Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">()</span></span>&#123;coutÂ &lt;&lt;Â <span class="string">&quot;Base::f()&quot;</span>Â &lt;&lt;Â endl;&#125;</span><br><span class="line">Â Â Â Â BaseÂ &amp;Â <span class="keyword">operator</span>=Â (<span class="keyword">const</span>Â BaseÂ &amp;right)&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">if</span>(<span class="keyword">this</span>Â !=Â &amp;right)&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â kÂ =Â right.k;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â coutÂ &lt;&lt;Â <span class="string">&quot;operator=Â (constÂ BaseÂ &amp;right)&quot;</span>Â &lt;&lt;Â endl;</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â *<span class="keyword">this</span>;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>:</span>Â <span class="keyword">public</span>Â Base&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â DeriveÂ d,Â d2;</span><br><span class="line">Â Â Â Â coutÂ &lt;&lt;Â d.kÂ &lt;&lt;Â endl;Â <span class="comment">//Baseæ•°æ®æˆå‘˜è¢«ç»§æ‰¿</span></span><br><span class="line">Â Â Â Â d.<span class="built_in">f</span>();Â <span class="comment">//Base::f()è¢«ç»§æ‰¿</span></span><br><span class="line">Â Â Â Â </span><br><span class="line">Â Â Â Â BaseÂ e;</span><br><span class="line">Â Â Â Â <span class="comment">//dÂ =Â e;Â //ç¼–è¯‘é”™è¯¯ï¼ŒBaseçš„èµ‹å€¼è¿ç®—ç¬¦ä¸è¢«ç»§æ‰¿</span></span><br><span class="line">Â Â Â Â dÂ =Â d2;Â Â <span class="comment">//è°ƒç”¨éšå¼å®šä¹‰çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œæ´¾ç”Ÿç±»éšå¼åˆæˆçš„èµ‹å€¼è¿ç®—ç¬¦ä¼šè°ƒç”¨åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line"><span class="number">0</span></span><br><span class="line">Base::<span class="built_in">f</span>()</span><br><span class="line"><span class="keyword">operator</span>= (<span class="keyword">const</span> Base &amp;right)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„å‰æ–‡æåŠæ´¾ç”Ÿç±»ä¼šè‡ªåŠ¨ç”Ÿæˆèµ‹å€¼è¿ç®—ç¬¦ï¼Œå‚æ•°ä¸ºæ´¾ç”Ÿç±»ã€‚ä¹Ÿå°±æ˜¯ä»…ä»…åœ¨æ´¾ç”Ÿç±»å¯¹è±¡é—´èµ‹å€¼ï¼ŒåŸºç±»å’Œæ´¾ç”Ÿç±»ç›¸äº’èµ‹å€¼åœ¨ä¸å®šä¹‰ç±»å‹è½¬æ¢çš„æƒ…å†µä¸‹æ˜¯ä¸å…è®¸çš„ã€‚</p>
<h2 id="æ„é€ ä¸ææ„-1">2.4 æ„é€ ä¸ææ„</h2>
<p>ç»§æ‰¿ä¸ç»„åˆåœ¨æ„é€ ä»¥åŠææ„ä¸Šçš„æ‰§è¡Œé¡ºåºç±»ä¼¼ã€‚</p>
<p>åŸºç±»ä¸­çš„æ•°æ®æˆå‘˜ï¼Œé€šè¿‡ç»§æ‰¿æˆä¸ºæ´¾ç”Ÿç±»å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦åœ¨æ„é€ æ´¾ç”Ÿç±»å¯¹è±¡çš„è¿‡ç¨‹ä¸­è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°æ¥æ­£ç¡®åˆå§‹åŒ–ã€‚</p>
<p>è‹¥æ²¡æœ‰æ˜¾å¼è°ƒç”¨ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
<p>è‹¥æƒ³è¦æ˜¾å¼è°ƒç”¨ï¼Œåˆ™åªèƒ½åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨ä¸­è¿›è¡Œï¼Œæ—¢å¯ä»¥è°ƒç”¨åŸºç±»ä¸­ä¸å¸¦å‚æ•°çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨åˆé€‚çš„å¸¦å‚æ•°çš„å…¶ä»–æ„é€ å‡½æ•°ã€‚å…ˆæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ç»§æ‰¿æ¥çš„æ•°æ®ï¼Œå†æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ã€‚</p>
<p>å¯¹è±¡ææ„æ—¶ï¼Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡Œç”±ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨çš„åŸºç±»çš„ææ„å‡½æ•°ã€‚</p>
<p>ä¾‹1ï¼šéšå¼è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>()Â :Â <span class="built_in">data</span>(<span class="number">0</span>)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â dataÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="comment">///Â é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">data</span>(i)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â dataÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Derive</span>()Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::Derive()&quot;</span>Â &lt;&lt;Â endl;Â &#125;Â </span><br><span class="line">Â Â Â Â <span class="comment">///Â æ— æ˜¾å¼è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œåˆ™è°ƒç”¨åŸºç±»é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â DeriveÂ obj;Â </span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;Â <span class="comment">//Â g++Â 1.cppÂ â€“oÂ 1.outÂ -std=c++11</span></span><br><span class="line">Outputï¼š</span><br><span class="line">Base::<span class="built_in">Base</span>(<span class="number">0</span>)</span><br><span class="line">Derive::<span class="built_in">Derive</span>()</span><br></pre></td></tr></table></figure>
<p>å…ˆå®Œæˆäº†åŸºç±»éƒ¨åˆ†çš„æ„é€ ï¼Œå†å®Œæˆäº†æ´¾ç”Ÿç±»éƒ¨åˆ†çš„æ„é€ ã€‚</p>
<p>ä¾‹2ï¼šæ˜¾å¼è°ƒç”¨äº†åŸºç±»å¸¦å‚æ•°çš„æ„é€ å‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>()Â :Â <span class="built_in">data</span>(<span class="number">0</span>)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â dataÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="comment">///Â é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">data</span>(i)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â dataÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Derive</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">Base</span>(i)Â &#123;Â coutÂ &lt;&lt;Â â€œDerive::<span class="built_in">Derive</span>()â€Â &lt;&lt;Â endl;Â &#125;Â </span><br><span class="line">Â Â Â Â <span class="comment">///Â æ˜¾å¼è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="function">DeriveÂ <span class="title">obj</span><span class="params">(<span class="number">356</span>)</span></span>;Â Â Â Â </span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;Â <span class="comment">//Â g++Â 1.cppÂ â€“oÂ 1.outÂ -std=c++11</span></span><br></pre></td></tr></table></figure>
<p>æ˜¾å¼è°ƒç”¨äº†åŸºç±»çš„å¸¦å‚æ•°çš„æ„é€ å‡½æ•°åªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œã€‚</p>
<p>ä¾‹4ï¼šå¯ç”¨usingå…³é”®å­—</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">data</span>(i)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="keyword">using</span>Â Base::Base;Â Â Â Â Â Â Â <span class="comment">///ç›¸å½“äºÂ Derive(intÂ i):Base(i)&#123;&#125;;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="function">DeriveÂ <span class="title">obj</span><span class="params">(<span class="number">356</span>)</span></span>;</span><br><span class="line">Â Â Â Â </span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;Â <span class="comment">//Â g++Â 1.cppÂ â€“oÂ 1.outÂ -std=c++11</span></span><br><span class="line">Output:</span><br><span class="line">Base::<span class="built_in">Base</span>(<span class="number">356</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨ <code>using Base::Base;</code> æ¥ç»§æ‰¿åŸºç±»æ„é€ å‡½æ•°ï¼Œç›¸å½“äºç»™æ´¾ç”Ÿç±»â€œå®šä¹‰â€äº†ç›¸åº”å‚æ•°çš„æ„é€ å‡½æ•°ã€‚å¦‚æœåŸºç±»é‡Œæœ‰å¤šä¸ªä¸åŒå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œusingè¯­å¥ä¼šåˆ†åˆ«æ„é€ å¯¹åº”çš„ä¸åŒå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>
<p>ä¾‹5ï¼šusingä¸€å¹¶å¯ç”¨</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">data</span>(i)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i,Â <span class="keyword">int</span>Â j)Â </span><br><span class="line">Â Â Â Â Â Â Â Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â â€œ,<span class="string">&quot;Â &lt;&lt;Â jÂ &lt;&lt;Â &quot;</span>)\n<span class="string">&quot;;&#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">classÂ DeriveÂ :Â publicÂ BaseÂ &#123;</span></span><br><span class="line"><span class="string">public:</span></span><br><span class="line"><span class="string">Â Â Â Â usingÂ Base::Base;Â Â Â Â Â Â Â ///ç›¸å½“äºÂ Derive(intÂ i):Base(i)&#123;&#125;;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ///åŠ ä¸ŠÂ Derive(intÂ i,Â intÂ j):Base(iï¼Œj)&#123;&#125;;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">intÂ main()Â &#123;</span></span><br><span class="line"><span class="string">Â Â Â Â DeriveÂ obj1(356);</span></span><br><span class="line"><span class="string">Â Â Â Â DeriveÂ obj2(356,Â 789);</span></span><br><span class="line"><span class="string">Â Â Â Â returnÂ 0;</span></span><br><span class="line"><span class="string">&#125;Â //Â g++Â 1.cppÂ â€“oÂ 1.outÂ -std=c++11</span></span><br><span class="line"><span class="string">Outputï¼š</span></span><br><span class="line"><span class="string">Base::Base(356)</span></span><br><span class="line"><span class="string">Base::Base(356,789)</span></span><br></pre></td></tr></table></figure>
<p>å½“åŸºç±»å­˜åœ¨å¤šä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œä½¿ç”¨usingä¼šç»™æ´¾ç”Ÿç±»è‡ªåŠ¨æ„é€ å¤šä¸ªç›¸åº”çš„æ„é€ å‡½æ•°ã€‚æ³¨æ„è¿™é‡Œæ˜¯æŒ‡ä¸€ä¸ªåŸºç±»æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯å¤šé‡ç»§æ‰¿ã€‚</p>
<p>å¦‚æœåŸºç±»çš„æŸä¸ªæ„é€ å‡½æ•°è¢«å£°æ˜ä¸ºç§æœ‰æˆå‘˜å‡½æ•°ï¼Œåˆ™ä¸èƒ½åœ¨æ´¾ç”Ÿç±»ä¸­å£°æ˜ç»§æ‰¿è¯¥æ„é€ å‡½æ•°ã€‚ï¼ˆåœ¨L4Â·åˆ›å»ºä¸é”€æ¯Â·ä¸€çš„1.2.3èŠ‚æœ‰å™è¿°è¿‡ç»“åˆå§”æ´¾æ„é€ å‡½æ•°å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰æˆå‘˜å‡½æ•°çš„ä¾‹å­ï¼‰</p>
<p>å¦‚æœæ´¾ç”Ÿç±»ä½¿ç”¨äº†ç»§æ‰¿æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå†ä¸ºæ´¾ç”Ÿç±»ç”Ÿæˆéšå¼å®šä¹‰çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
<p>ä¾‹6ï¼šé€šè¿‡using Base::Baseæ¥ç»§æ‰¿æ„é€ å‡½æ•°æœ‰é™åˆ¶ï¼Œå¯èƒ½éœ€è¦æ´¾ç”Ÿç±»åœ¨åŸºç±»åŸºç¡€ä¹‹å¤–æ²¡æœ‰æ²¡æœ‰æ–°çš„æ•°æ®æˆå‘˜ï¼Œä½†æ˜¯æ´¾ç”Ÿç±»å¯ä»¥æœ‰æ–°çš„æ–¹æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="built_in">Base</span>(<span class="keyword">int</span>Â i)Â :Â <span class="built_in">data</span>(i)Â &#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::Base(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â Â Â <span class="keyword">int</span>Â a;</span><br><span class="line">Â Â Â Â <span class="comment">//intÂ a=100ï¼›å°±åœ°åˆå§‹åŒ–</span></span><br><span class="line">Â Â Â Â <span class="keyword">using</span>Â Base::Base;Â Â Â Â Â Â Â <span class="comment">///ç›¸å½“äºÂ Derive(intÂ i):Base(i)&#123;&#125;;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="function">DeriveÂ <span class="title">obj</span><span class="params">(<span class="number">356</span>)</span></span>;</span><br><span class="line">Â Â Â Â cout&lt;&lt;obj.a&lt;&lt;endl;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;Â <span class="comment">//Â g++Â 1.cppÂ â€“oÂ 1.outÂ -std=c++11</span></span><br></pre></td></tr></table></figure>
<p>å½“aä¸å°±åœ°åˆå§‹åŒ–æ—¶ï¼Œé€šè¿‡usingÂ Base::Base;æ¥çš„æ„é€ å‡½æ•°ä¼šä½¿å¾—açš„å€¼å®Œå…¨ä¸ç¡®å®šï¼Œè€Œå°±åœ°åˆå§‹åŒ–åŒ–åå¯ä»¥ç¡®å®šã€‚</p>
<h2 id="ä¸¤ç±»ç»§æ‰¿æ–¹å¼çš„é€‰æ‹©">2.5 ä¸¤ç±»ç»§æ‰¿æ–¹å¼çš„é€‰æ‹©</h2>
<h3 id="publicç»§æ‰¿">2.5.1 publicç»§æ‰¿</h3>
<p>åŸºç±»ä¸­å…¬æœ‰æˆå‘˜ä»èƒ½åœ¨æ´¾ç”Ÿç±»ä¸­ä¿æŒå…¬æœ‰ã€‚åŸæ¥å£å¯æ²¿ç”¨ï¼Œæœ€å¸¸ç”¨ã€‚ is-aï¼šåŸºç±»å¯¹è±¡èƒ½ä½¿ç”¨çš„åœ°æ–¹ï¼Œæ´¾ç”Ÿç±»å¯¹è±¡ä¹Ÿèƒ½ä½¿ç”¨ã€‚</p>
<h3 id="privateç»§æ‰¿">2.5.2 privateç»§æ‰¿</h3>
<p>is-implementing-in-terms-of(ç…§æ­¤å®ç°)ï¼šç”¨åŸºç±»æ¥å£å®ç°æ´¾ç”Ÿç±»åŠŸèƒ½ã€‚ç§»é™¤äº† is-a å…³ç³»ã€‚</p>
<p>é€šå¸¸ä¸ä½¿ç”¨ï¼Œç”¨privateç»„åˆæ›¿ä»£ã€‚å¯ç”¨äºéšè—/å…¬å¼€åŸºç±»çš„éƒ¨åˆ†æ¥å£ã€‚å…¬å¼€æ–¹æ³•ï¼šusing å…³é”®å­—ã€‚</p>
<h2 id="æˆå‘˜è®¿é—®æƒé™">2.6 æˆå‘˜è®¿é—®æƒé™</h2>
<p>åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼Œä¸å…è®¸åœ¨æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸­è®¿é—®ï¼Œä¹Ÿä¸å…è®¸æ´¾ç”Ÿç±»çš„å¯¹è±¡è®¿é—®å®ƒä»¬ï¼Œä»…å…è®¸åŸºç±»çš„å…¬å¼€æ¥å£è®¿é—®ä»–ä»¬ï¼Œä½†æ˜¯åŸºç±»çš„å…¬å¼€æ¥å£åœ¨ä¸åŒçš„ç»§æ‰¿å½“ä¸­è®¿é—®æƒé™ä¸åŒã€‚ï¼ˆç»„åˆå½“ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰</p>
<p>é‚£ä¹ˆå¦‚ä½•è®¿é—®åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼Ÿ</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/n9mCbMNykwcExtz.png" alt="https://s2.loli.net/2022/01/11/n9mCbMNykwcExtz.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/n9mCbMNykwcExtz.png</figcaption>
</figure>
<p>æƒ…å†µä¸€ï¼Œpublicç»§æ‰¿ã€‚æ´¾ç”Ÿç±»å¯¹è±¡å’Œæ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®åŸºç±»çš„å…¬å¼€æ¥å£ä»è€Œè®¿é—®åŸºç±»ç§æœ‰æˆå‘˜ã€‚</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/t7QaHINzCE6Vkl5.png" alt="https://s2.loli.net/2022/01/11/t7QaHINzCE6Vkl5.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/t7QaHINzCE6Vkl5.png</figcaption>
</figure>
<p>æƒ…å†µäºŒï¼Œprivateç»§æ‰¿ã€‚å’Œprivateç»„åˆåŒç†ï¼Œåœ¨ç±»å¤–æ—¢æ— æ³•ç›´æ¥è®¿é—®åŸºç±»çš„privateæˆå‘˜ï¼Œä¹Ÿæ— æ³•è®¿é—®åŸºç±»çš„publicæˆå‘˜ã€‚ï¼ˆå› ä¸ºç»§æ‰¿ä¹‹åè¢«ç§æœ‰åŒ–äº†ï¼‰</p>
<p>ä»»ä½•ç»§æ‰¿å½“ä¸­ï¼ŒåŸºç±»çš„privateæˆå‘˜éƒ½æ— æ³•è¢«æ´¾ç”Ÿç±»çš„å…±æœ‰æ¥å£è®¿é—®ï¼Œä»…ä»…å¯ä»¥è¢«åŸºç±»çš„å…±æœ‰éƒ¨åˆ†è®¿é—®ã€‚privateç»§æ‰¿ä¸­ï¼ŒåŸºç±»çš„publicæ¥å£ä¸èƒ½æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥è¢«æ´¾ç”Ÿç±»å¯¹è±¡çš„çš„å…±æœ‰æ¥å£å¯ä»¥è®¿é—®ã€‚</p>
<p>æ•…è€Œæˆ‘ä»¬å…ˆè®¾ç½®åŸºç±»çš„å…¬æœ‰æ¥å£è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜ï¼Œæ¥ç€è®¾è®¡æ´¾ç”Ÿç±»çš„å…¬æœ‰æ¥å£è®¿é—®åŸºç±»çš„å…¬æœ‰æ¥å£ï¼Œä»è€Œé—´æ¥å®ç°äº†è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜ã€‚</p>
<p>è®¿é—®åŸºç±»ç§æœ‰éƒ¨åˆ†åªèƒ½é€šè¿‡åŸºç±»çš„publicæ¥å£å®ç°ã€‚privateç»§æ‰¿æ—¶ï¼ŒåŸºç±»publicæ¥å£ä»…å¯æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä»è€Œè®¿é—®åŸºç±»ç§æœ‰éƒ¨åˆ†éœ€è¦ä¸¤æ¬¡é—´æ¥è®¿é—®ã€‚è€Œpublicç»§æ‰¿æ—¶ï¼ŒåŸºç±»publicæ¥å£å¯¹æ´¾ç”Ÿç±»å‡½æ•°å’Œç±»å¤–å‡½æ•°éƒ½æ˜¯å¼€æ”¾çš„ã€‚å¯ä»¥æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®åŸºç±»publicæ¥å£ï¼Œä¹Ÿå¯ä»¥æ´¾ç”Ÿç±»å¯¹è±¡çš„æˆå‘˜å‡½æ•°è®¿é—®åŸºç±»publicæ¥å£ã€‚</p>
<ul>
<li>åŸºç±»ä¸­çš„å…¬æœ‰æˆå‘˜</li>
</ul>
<p>å…è®¸åœ¨æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸­è¢«è®¿é—®ã€‚</p>
<p>è‹¥æ˜¯ä½¿ç”¨publicç»§æ‰¿æ–¹å¼ï¼Œåˆ™æˆä¸ºæ´¾ç”Ÿç±»å…¬æœ‰æˆå‘˜ï¼Œå¯ä»¥è¢«æ´¾ç”Ÿç±»çš„å¯¹è±¡è®¿é—®ï¼Œä¹Ÿå¯ä»¥è¢«æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°è®¿é—®ã€‚</p>
<p>è‹¥æ˜¯ä½¿ç”¨private/protectedç»§æ‰¿æ–¹å¼ï¼Œåˆ™æˆä¸ºæ´¾ç”Ÿç±»ç§æœ‰/ä¿æŠ¤æˆå‘˜ï¼Œä¸èƒ½åœ¨ç±»å¤–ç›´æ¥è®¿é—®ã€‚è‹¥æƒ³è®©æŸpublicæˆå‘˜æ•°æ®åœ¨private/protectedç»§æ‰¿åèƒ½è¢«æ´¾ç”Ÿç±»çš„å¯¹è±¡è®¿é—®ï¼Œå¯åœ¨æ´¾ç”Ÿç±»publicéƒ¨åˆ†ç”¨å…³é”®å­—usingå£°æ˜å®ƒçš„åå­—ã€‚ï¼ˆ.hæ–‡ä»¶é‡Œï¼‰æˆ–è€…æŒ‰ç…§ä¸Šæ–‡è®¾è®¡æ´¾ç”Ÿç±»çš„å…±æœ‰æ¥å£è®¿é—®åŸºç±»çš„publicæˆå‘˜ï¼Œä½†æ˜¯ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»çš„publicæˆå‘˜ã€‚</p>
<p>æ‰€è°“ä¸èƒ½æ´¾ç”Ÿç±»çš„å¯¹è±¡è®¿é—®ï¼šè¿™é‡Œæ˜¯æŒ‡ç›´æ¥åœ¨ç±»å¤–é€šè¿‡obj.dataçš„æ–¹å¼è®¿é—®ï¼Œè€Œä¸æ˜¯è¯´ä¸å¯ä»¥é€šè¿‡æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°æ¥è®¿é—®ã€‚</p>
<ul>
<li>åŸºç±»ä¸­çš„ä¿æŠ¤æˆå‘˜</li>
</ul>
<p>ä¿æŠ¤æˆå‘˜å…è®¸åœ¨æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸­è¢«è®¿é—®ï¼Œä½†ä¸èƒ½è¢«å¤–éƒ¨å‡½æ•°è®¿é—®ï¼Œä¹Ÿä¸å…è®¸å¯¹è±¡ç›´æ¥è®¿é—®ã€‚</p>
<p>ä¾‹1ï¼špublicç›´æ¥ç»§æ‰¿åŸºç±»å…±æœ‰æ¥å£</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:Â </span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">baseFunc</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;inÂ Base::baseFunc()...&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive1</span>:</span>Â <span class="keyword">public</span>Â BaseÂ &#123;&#125;;Â <span class="comment">//Â D1ç±»çš„ç»§æ‰¿æ–¹å¼æ˜¯publicç»§æ‰¿</span></span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Derive1Â obj1;Â </span><br><span class="line">Â Â coutÂ &lt;&lt;Â <span class="string">&quot;callingÂ obj1.baseFunc()...&quot;</span>Â &lt;&lt;Â endl;</span><br><span class="line">Â Â obj1.<span class="built_in">baseFunc</span>();Â <span class="comment">//Â åŸºç±»æ¥å£æˆä¸ºæ´¾ç”Ÿç±»æ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œæ´¾ç”Ÿç±»å¯¹è±¡å¯è°ƒç”¨</span></span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">calling obj1.<span class="built_in">baseFunc</span>()...</span><br><span class="line"><span class="function">in <span class="title">Base::baseFunc</span><span class="params">()</span>...</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹2ï¼šprivateé—´æ¥è®¿é—®åŸºç±»å…±æœ‰æ¥å£</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:Â </span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">baseFunc</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;inÂ Base::baseFunc()...&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive2</span>:</span>Â <span class="keyword">private</span>Â BaseÂ </span><br><span class="line">&#123;<span class="comment">///Â ç§æœ‰ç»§æ‰¿ï¼ŒÂ is-implementing-in-terms-ofï¼šç”¨åŸºç±»æ¥å£å®ç°æ´¾ç”Ÿç±»åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">deriveFunc</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â coutÂ &lt;&lt;Â â€œ<span class="function">inÂ <span class="title">Derive2::deriveFunc</span><span class="params">()</span>,Â </span></span><br><span class="line"><span class="function">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â callingÂ <span class="title">Base::baseFunc</span><span class="params">()</span>...&quot;Â &lt;&lt;Â endl</span>;</span><br><span class="line">Â Â Â Â <span class="built_in">baseFunc</span>();Â <span class="comment">///Â ç§æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸºç±»æ¥å£åœ¨æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Derive2Â obj2;Â </span><br><span class="line">Â Â coutÂ &lt;&lt;Â <span class="string">&quot;callingÂ obj2.deriveFunc()...&quot;</span>Â &lt;&lt;Â endl;</span><br><span class="line">Â Â obj2.<span class="built_in">deriveFunc</span>();Â </span><br><span class="line">Â Â <span class="comment">//obj2.baseFunc();Â ERROR:Â ä¸å…è®¸åœ¨ç±»å¤–ç›´æ¥è®¿é—®åŸºç±»æ¥å£</span></span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹3ï¼šprivateç»§æ‰¿ç»“åˆusingå¯ç”¨åŸºç±»å…±æœ‰æ¥å£</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:Â </span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">baseFunc</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;inÂ Base::baseFunc()...&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive3</span>:</span>Â <span class="keyword">private</span>Â BaseÂ &#123;<span class="comment">//Â Bçš„ç§æœ‰ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="comment">///Â ç§æœ‰ç»§æ‰¿æ—¶ï¼Œåœ¨æ´¾ç”Ÿç±»publicéƒ¨åˆ†å£°æ˜åŸºç±»æˆå‘˜åå­—</span></span><br><span class="line">Â Â <span class="keyword">using</span>Â Base::baseFunc;Â </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â Derive3Â obj3;</span><br><span class="line">Â Â coutÂ &lt;&lt;Â <span class="string">&quot;callingÂ obj3.baseFunc()...&quot;</span>Â &lt;&lt;Â endl;</span><br><span class="line">Â Â obj3.<span class="built_in">baseFunc</span>();Â <span class="comment">//åŸºç±»æ¥å£åœ¨æ´¾ç”Ÿç±»publicéƒ¨åˆ†å£°æ˜ï¼Œåˆ™æ´¾ç”Ÿç±»å¯¹è±¡å¯è°ƒç”¨</span></span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹4ï¼šä¿æŠ¤æˆå‘˜çš„è®¿é—®</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â a&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â b&#123;<span class="number">0</span>&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">private</span>Â Base&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">getA</span><span class="params">()</span></span>&#123;cout&lt;&lt;a&lt;&lt;endl;&#125;Â <span class="comment">///ç¼–è¯‘é”™è¯¯ï¼Œä¸å¯è®¿é—®åŸºç±»ä¸­ç§æœ‰æˆå‘˜</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">getB</span><span class="params">()</span></span>&#123;cout&lt;&lt;b&lt;&lt;endl;&#125;Â <span class="comment">///å¯ä»¥è®¿é—®åŸºç±»ä¸­ä¿æŠ¤æˆå‘˜</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">getB</span>();</span><br><span class="line">Â Â <span class="comment">//cout&lt;&lt;d.b;Â ///ç¼–è¯‘é”™è¯¯ï¼Œæ´¾ç”Ÿç±»å¯¹è±¡ä¸å¯è®¿é—®åŸºç±»ä¸­ä¿æŠ¤æˆå‘˜</span></span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°ç»“ï¼š</p>
<ul>
<li>publicç»§æ‰¿</li>
</ul>
<p>åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ï¼Œç§æœ‰æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½ä¿æŒåŸæœ‰çš„çŠ¶æ€ã€‚</p>
<ul>
<li>privateç»§æ‰¿</li>
</ul>
<p>åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ï¼Œç§æœ‰æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½ä½œä¸ºç§æœ‰æˆå‘˜ã€‚</p>
<ul>
<li>protectedç»§æ‰¿</li>
</ul>
<p>åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½æˆä¸ºä¿æŠ¤æˆå‘˜ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä»ç„¶æ˜¯ç§æœ‰çš„ã€‚</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/DgsWhda1cTPLMYX.png" alt="https://s2.loli.net/2022/01/11/DgsWhda1cTPLMYX.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/DgsWhda1cTPLMYX.png</figcaption>
</figure>
<h3 id="æ€»ç»“">æ€»ç»“ï¼š</h3>
<ul>
<li>å…ˆç†æ¸…æ¥šåŸºç±»çš„publicçš„è®¿é—®æƒé™ï¼š</li>
</ul>
<p>åŸºç±»çš„publicåœ¨privateç»§æ‰¿ä¸­æˆä¸ºprivateï¼Œä»…å…è®¸æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä¸å…è®¸æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®ã€‚ åŸºç±»çš„publicåœ¨protectç»§æ‰¿ä¸­æˆä¸ºprotectï¼Œä»…å…è®¸æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä¸å…è®¸æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®ã€‚ åŸºç±»çš„publicåœ¨publicç»§æ‰¿ä¸­è¿˜æ˜¯publicï¼Œå¯ä»¥åœ¨æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸­è®¿é—®ï¼Œä¹Ÿå¯ä»¥æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®ã€‚</p>
<ul>
<li>ä¹‹åæ˜¯åŸºç±»çš„privateçš„è®¿é—®æƒé™ï¼š</li>
</ul>
<p>åŸºç±»çš„privateï¼Œåœ¨ä¸‰ç§ç»§æ‰¿æ–¹å¼ä¸­å‡æ˜¯privateï¼Œåªèƒ½é€šè¿‡åŸºç±»çš„publicå‡½æ•°è®¿é—®ï¼Œä¸å¯ä»¥æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è®¿é—®ã€‚åŸºç±»çš„publicå‡½æ•°åœ¨ä¸‰ç§ç»§æ‰¿æ–¹å¼ä¸­è®¿é—®æƒé™ä¸åŒã€‚publicç»§æ‰¿ï¼Œåˆ™åŸºç±»çš„publicå‡½æ•°å¯ä»¥ç±»å¤–ç›´æ¥è®¿é—®ã€‚Protectå’Œprivateç»§æ‰¿ï¼ŒåŸºç±»çš„publicå‡½æ•°åªå…è®¸æ´¾ç”Ÿç±»å‡½æ•°è®¿é—®ã€‚</p>
<ul>
<li>æœ€åæ˜¯åŸºç±»çš„protectçš„è®¿é—®æƒé™ï¼š</li>
</ul>
<p>åŸºç±»çš„protectå¾ˆç®€å•ï¼Œä¸‰ç§ç»§æ‰¿éƒ½æ˜¯å¿…ç„¶å…è®¸æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä¸å…è®¸å¯¹è±¡ç›´æ¥è®¿é—®ã€‚åŸºç±»çš„protectåœ¨publicä¸protectç»§æ‰¿ä¸­è¿˜æ˜¯protectï¼Œä½†åœ¨privateç»§æ‰¿åè™½ç„¶æ˜¯privateå±æ€§ï¼Œä½†ä¹Ÿå…è®¸åŸºç±»çš„publicå‡½æ•°ä¸æ´¾ç”Ÿç±»çš„publicå‡½æ•°è®¿é—®ï¼Œä¸èƒ½å¯¹è±¡ç›´æ¥è®¿é—®ã€‚</p>
<ul>
<li>å•ç‹¬è®¨è®ºprotectç»§æ‰¿ï¼š</li>
</ul>
<p>Protectç»§æ‰¿ä¼šä½¿å¾—åŸºç±»çš„publicå’Œprotectæˆä¸ºprotectï¼Œåªèƒ½æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°è®¿é—®ã€‚è€Œprivateç»è¿‡protectç»§æ‰¿ï¼Œè¿˜æ˜¯åªèƒ½åŸºç±»çš„publicå‡½æ•°è®¿é—®ï¼Œè€ŒåŸºç±»çš„publicæˆå‘˜å‡½æ•°åªèƒ½æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°è®¿é—®ï¼Œæ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°æ— æ³•ç›´æ¥è®¿é—®æ­¤æ—¶çš„åŸºç±»privateæ•°æ®ã€‚</p>
<p>ä¾‹é¢˜ï¼š</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/5IB8R9QrqKLOgm6.png" alt="https://s2.loli.net/2022/01/11/5IB8R9QrqKLOgm6.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/5IB8R9QrqKLOgm6.png</figcaption>
</figure>
<p>protectå¯¹è±¡ä¸å¯ç±»å¤–è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥è¢«ç»§æ‰¿ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ã€‚</p>
<h2 id="ç»„åˆä¸ç»§æ‰¿çš„å…³ç³»">2.7 ç»„åˆä¸ç»§æ‰¿çš„å…³ç³»</h2>
<p>ä¼˜ç‚¹ï¼šæ”¯æŒå¢é‡å¼€å‘ï¼Œå¼•å…¥æ–°ä»£ç è€Œä¸å½±å“å·²æœ‰ä»£ç æ­£ç¡®æ€§ã€‚</p>
<p>ç›¸ä¼¼ç‚¹ï¼šå®ç°ä»£ç é‡ç”¨ã€‚ï¼Œå°†å­å¯¹è±¡å¼•å…¥æ–°ç±»ï¼Œä½¿ç”¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–ã€‚</p>
<p>ä¸åŒç‚¹ï¼š ç»„åˆâ€”â€”åµŒå…¥ä¸€ä¸ªå¯¹è±¡ä»¥å®ç°æ–°ç±»çš„åŠŸèƒ½ï¼Œhas-a å…³ç³»ï¼Œæ— é‡å†™éšè—ã€‚ ç»§æ‰¿â€”â€”æ²¿ç”¨å·²å­˜åœ¨çš„ç±»æä¾›çš„æ¥å£ï¼Œis-aä¸is-implementing-in-terms-ofï¼Œæœ‰é‡å†™éšè—ã€‚</p>
<h1 id="ä¸‰é‡è½½ä¸é‡å†™éšè—">ä¸‰ã€é‡è½½ä¸é‡å†™éšè—</h1>
<h2 id="å®šä¹‰-2">3.1 å®šä¹‰</h2>
<p>é‡è½½(overload)ï¼š</p>
<p>ç›®çš„ï¼šæä¾›åŒåå‡½æ•°çš„ä¸åŒå®ç°ï¼Œå±äºé™æ€å¤šæ€ã€‚ å‡½æ•°åå¿…é¡»ç›¸åŒï¼Œå‡½æ•°å‚æ•°å¿…é¡»ä¸åŒï¼Œä½œç”¨åŸŸç›¸åŒï¼ˆå¦‚ä½äºåŒä¸€ä¸ªç±»ä¸­ï¼›æˆ–åŒåå…¨å±€å‡½æ•°ï¼‰ã€‚</p>
<p>é‡å†™éšè—(redefining)ï¼š</p>
<p>ç›®çš„ï¼šåœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰åŸºç±»å‡½æ•°ï¼Œå®ç°æ´¾ç”Ÿç±»çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚ å±è”½äº†åŸºç±»çš„æ‰€æœ‰å…¶å®ƒåŒåå‡½æ•°ã€‚ å‡½æ•°åå¿…é¡»ç›¸åŒï¼Œå‡½æ•°å‚æ•°å¯ä»¥ä¸åŒã€‚</p>
<p>ç»„åˆä¸ä¼šå‘ç”Ÿé‡å†™éšè—ï¼Œä½†æ˜¯ç»§æ‰¿ä¼šã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Wheel</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">inflate</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â cout&lt;&lt;<span class="string">&quot;Wheel::inflate&quot;</span>&lt;&lt;endl;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â cout&lt;&lt;<span class="string">&quot;Wheel::start&quot;</span>&lt;&lt;endl;</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Engine</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â cout&lt;&lt;<span class="string">&quot;Engine::start&quot;</span>&lt;&lt;endl;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">stop</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Car</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â EngineÂ engine;</span><br><span class="line">Â Â WheelÂ wheel[<span class="number">4</span>];</span><br><span class="line">Â Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â cout&lt;&lt;<span class="string">&quot;Car::start&quot;</span>&lt;&lt;endl;</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â CarÂ car;</span><br><span class="line">Â Â car.wheel[<span class="number">0</span>].<span class="built_in">inflate</span>();Â Â Â </span><br><span class="line">Â Â car.engine.<span class="built_in">start</span>();</span><br><span class="line">Â Â car.wheel[<span class="number">2</span>].<span class="built_in">start</span>();</span><br><span class="line">Â Â car.<span class="built_in">start</span>();</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">Wheel::inflate</span><br><span class="line">Engine::start</span><br><span class="line">Wheel::start</span><br><span class="line">Car::start</span><br></pre></td></tr></table></figure>
<p>åœ¨ç»„åˆä¸­ï¼Œæˆ‘ä»¬å®ç°äº†å¯¹äºæ¯ä¸€ç±»çš„åŒåå‡½æ•°è°ƒç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Pet</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">eat</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;PetÂ eat&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">sleep</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;PetÂ sleep&quot;</span>&lt;&lt;endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Duck</span>Â :</span>Â <span class="keyword">public</span>Â Pet&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">eat</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;DuckÂ eat&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â DuckÂ duck;</span><br><span class="line">Â Â duck.<span class="built_in">eat</span>();</span><br><span class="line">Â Â duck.<span class="built_in">sleep</span>();</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">Duck eat</span><br><span class="line">Pet sleep</span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œåœ¨ç»§æ‰¿ä¸­ï¼Œå¾ˆæ˜æ˜¾Petç±»çš„eatå‡½æ•°è¢«æ´¾ç”Ÿç±»é‡å®šä¹‰ï¼Œæ— æ³•è¢«è°ƒç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">T</span>Â &#123;</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;B::f()\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;Â <span class="comment">///Â é‡è½½</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">double</span>Â d)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â dÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;Â <span class="comment">///é‡è½½</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(T)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(T)\n&quot;</span>;Â &#125;Â <span class="comment">///é‡è½½</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;Â <span class="comment">///é‡å†™éšè—</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">4.9</span>);Â Â Â Â Â <span class="comment">///Â ç¼–è¯‘è­¦å‘Šã€‚æ‰§è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚</span></span><br><span class="line">Â Â <span class="comment">//Â Â d.f();Â Â Â Â Â Â Â Â ///Â è¢«å±è”½ï¼Œç¼–è¯‘é”™è¯¯</span></span><br><span class="line">Â Â <span class="comment">//Â Â d.f(T());Â ///Â è¢«å±è”½ï¼Œç¼–è¯‘é”™è¯¯</span></span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨retexter_gccç¼–è¯‘å™¨ä¸Šæ— æ³•è­¦å‘Šï¼Œä½†æ˜¯ä½¿ç”¨clangç¼–è¯‘å™¨çš„è­¦å‘Šå¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="number">1869255217</span>/source.cpp:<span class="number">18</span>:<span class="number">7</span>:Â warning:Â implicitÂ conversionÂ fromÂ <span class="string">&#x27;double&#x27;</span>Â toÂ <span class="string">&#x27;int&#x27;</span>Â changesÂ valueÂ fromÂ <span class="number">4.9</span>Â toÂ <span class="number">4</span>Â [-Wliteral-conversion]</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">4.9</span>);Â Â Â Â Â Â Â Â Â Â Â </span><br><span class="line">Â Â Â Â ~Â ^~~</span><br><span class="line"><span class="number">1</span>Â warningÂ generated.</span><br></pre></td></tr></table></figure>
<h2 id="using-ä¸€å¹¶ä½¿ç”¨">3.2 using ä¸€å¹¶ä½¿ç”¨</h2>
<p>å’Œå¯¹æ„é€ å‡½æ•°çš„ç»§æ‰¿ä¸€æ ·ï¼Œusingå¯ä»¥ä¸€å¹¶å¯ç”¨æ‰€æœ‰è¢«é‡å†™è¦†ç›–çš„åŒåå‡½æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">T</span>Â &#123;</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f()\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">double</span>Â d)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â dÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(T)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(T)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">using</span>Â Base::f;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">4.9</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>();</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="built_in">T</span>());</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">outputï¼š</span><br><span class="line">Derive::<span class="built_in">f</span>(<span class="number">10</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">4.9</span>)</span><br><span class="line">Base::<span class="built_in">f</span>()</span><br><span class="line">Base::<span class="built_in">f</span>(T)</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”æ³¨æ„åˆ°ï¼ŒDeriveå’ŒBaseéƒ½æœ‰voidÂ f(intÂ i)å‡½æ•°ï¼Œæ­¤å¤„æ²¡æœ‰å‘ç”Ÿé‡å®šä¹‰ï¼Œè€Œæ˜¯è°ƒç”¨äº†æ´¾ç”Ÿç±»çš„voidÂ f(intÂ i)ã€‚</p>
<p>å¦å¤–ä¸€ç§åœ¨æ´¾ç”Ÿç±»ä¸­è°ƒç”¨åŸºç±»åŒåå‡½æ•°çš„æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨å¯¹åº”çš„ç±»åã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">print</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::print()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">print</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::print()&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span>Â <span class="title">fun</span><span class="params">(BaseÂ obj)</span>Â </span>&#123;Â obj.<span class="built_in">print</span>();Â &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.Base::<span class="built_in">print</span>();Â Â Â Â </span><br><span class="line">Â Â <span class="built_in">fun</span>(d);Â </span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">Base::<span class="built_in">print</span>()</span><br><span class="line">Base::<span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„è°ƒç”¨d.Base::print();æ²¡æœ‰å¯¼è‡´ä»»ä½•ä¸€ä¸ªåŒåå‡½æ•°è¢«è¦†ç›–ã€‚</p>
<h2 id="æ€»ç»“-1">3.3 æ€»ç»“</h2>
<p>æ‰€è°“çš„é‡å†™éšè—ï¼ˆredefiningï¼‰å…¶å®æœ¬è´¨ä¸Šæ˜¯ä¸€ç§è°ƒç”¨ä¼˜å…ˆçº§é—®é¢˜ã€‚æ´¾ç”Ÿç±»é»˜è®¤ä¼˜å…ˆè°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚å¦‚æœä¸å¯ç”¨usingå…³é”®å­—ï¼Œé‚£ä¹ˆé™¤éä½¿ç”¨ç±»åï¼Œå¦åˆ™æ— æ³•è°ƒç”¨åŸºç±»çš„å‡½æ•°ï¼Œå“ªæ€•å‘ç”Ÿç±»å‹è½¬æ¢æç¤ºwarningä¹Ÿè¦ä¼˜å…ˆè°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚è€Œå¯ç”¨äº†usingå…³é”®å­—åï¼Œä¸ä½¿ç”¨å‘½åç©ºé—´æ—¶ï¼Œä»ç„¶ä¼˜å…ˆè°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚ä½†æ˜¯ä¸åŒäºæ²¡æœ‰å¯ç”¨usingå…³é”®å­—çš„æ—¶å€™ï¼Œæ­¤æ—¶å¦‚æœæ— æ³•ç›´æ¥è°ƒç”¨è‡ªèº«çš„å‡½æ•°ï¼ˆæ¯”å¦‚éœ€è¦ç±»å‹è½¬æ¢ï¼‰ï¼Œé‚£ä¹ˆå“ªæ€•å¼ºåˆ¶ä½¿ç”¨æ´¾ç”Ÿç±»çš„ç±»åä¹Ÿä¼šè°ƒç”¨åŸºç±»çš„å‡½æ•°ã€‚</p>
<p>æ­¤å¤„å¯ç”¨usingå…³é”®å­—ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">T</span>Â &#123;</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f()\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">double</span>Â d)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â dÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(T)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(T)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">using</span>Â Base::f;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.Base::<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">4.9</span>);</span><br><span class="line">Â Â d.Derive::<span class="built_in">f</span>(<span class="number">4.9</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>();</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="built_in">T</span>());</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">outputï¼š</span><br><span class="line">Derive::<span class="built_in">f</span>(<span class="number">10</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">10</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">4.9</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">4.9</span>)</span><br><span class="line">Base::<span class="built_in">f</span>()</span><br><span class="line">Base::<span class="built_in">f</span>(T)</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„ä¸å¯ç”¨usingå…³é”®å­—ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">T</span>Â &#123;</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f()\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">double</span>Â d)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(&quot;</span>Â &lt;&lt;Â dÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(T)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Base::f(T)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">f</span><span class="params">(<span class="keyword">int</span>Â i)</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;Derive::f(&quot;</span>Â &lt;&lt;Â iÂ &lt;&lt;Â <span class="string">&quot;)\n&quot;</span>;Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.Base::<span class="built_in">f</span>(<span class="number">10</span>);</span><br><span class="line">Â Â d.<span class="built_in">f</span>(<span class="number">4.9</span>);</span><br><span class="line">Â Â d.Base::<span class="built_in">f</span>(<span class="number">4.9</span>);</span><br><span class="line">Â Â d.Base::<span class="built_in">f</span>();</span><br><span class="line">Â Â d.Base::<span class="built_in">f</span>(<span class="built_in">T</span>());</span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Outputï¼š</span><br><span class="line">Derive::<span class="built_in">f</span>(<span class="number">10</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">10</span>)</span><br><span class="line">Derive::<span class="built_in">f</span>(<span class="number">4</span>)</span><br><span class="line">Base::<span class="built_in">f</span>(<span class="number">4.9</span>)</span><br><span class="line">Base::<span class="built_in">f</span>()</span><br><span class="line">Base::<span class="built_in">f</span>(T)</span><br></pre></td></tr></table></figure>
<p>ä¸å¯ç”¨usingå…³é”®å­—æ—¶ç›´æ¥è°ƒç”¨f()å’Œf(T)æ˜¯ä¸åˆæ³•çš„ã€‚</p>
<h2 id="usingå…³é”®å­—ä½œç”¨æ€»ç»“">3.4 usingå…³é”®å­—ä½œç”¨æ€»ç»“</h2>
<ol type="1">
<li>ï¼ˆåœ¨æ´¾ç”Ÿç±»ä¸­ï¼‰ç»§æ‰¿åŸºç±»æ‰€æœ‰æ„é€ å‡½æ•°ã€æ¢å¤è¢«å±è”½çš„æ‰€æœ‰åŒååŸºç±»æˆå‘˜å‡½æ•°</li>
<li>æŒ‡ç¤ºå‘½åç©ºé—´using namespace std;</li>
<li>å°†å¦ä¸€ä¸ªå‘½åç©ºé—´çš„æˆå‘˜å¼•å…¥å½“å‰å‘½åç©ºé—´ å¦‚ï¼š<code>using std::cout; cout &lt;&lt; endl;</code></li>
<li>å®šä¹‰ç±»å‹åˆ«åï¼Œå¦‚ï¼š<code>using a = int;</code></li>
</ol>
<p>ä¾‹é¢˜ï¼š</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/01/11/3ksWr1YQbBpcMdL.png" alt="https://s2.loli.net/2022/01/11/3ksWr1YQbBpcMdL.png" /><figcaption aria-hidden="true">https://s2.loli.net/2022/01/11/3ksWr1YQbBpcMdL.png</figcaption>
</figure>
<p>Dé€‰é¡¹ï¼Œæ³¨æ„åˆ°Bä¸­åªusingäº†Açš„æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ¢å¤Açš„få‡½æ•°ã€‚</p>
<h1 id="å››å¤šé‡ç»§æ‰¿">å››ã€å¤šé‡ç»§æ‰¿</h1>
<h2 id="å®šä¹‰æ„ä¹‰å’Œæ½œåœ¨é£é™©">4.1 å®šä¹‰ã€æ„ä¹‰å’Œæ½œåœ¨é£é™©</h2>
<p>æ´¾ç”Ÿç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªåŸºç±»</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â MiddleA,Â <span class="keyword">public</span>Â MiddleB&#123;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ•°æ®å­˜å‚¨é£é™©</p>
<p>å¦‚æœæ´¾ç”Ÿç±»Dç»§æ‰¿çš„ä¸¤ä¸ªåŸºç±»A,Bï¼Œæ˜¯åŒä¸€åŸºç±»Baseçš„ä¸åŒç»§æ‰¿ï¼Œåˆ™A,Bä¸­ç»§æ‰¿è‡ªBaseçš„æ•°æ®æˆå‘˜ä¼šåœ¨Dæœ‰ä¸¤ä»½ç‹¬ç«‹çš„å‰¯æœ¬ï¼Œå¯èƒ½å¸¦æ¥æ•°æ®å†—ä½™ã€‚</p>
<p>äºŒä¹‰æ€§é£é™©</p>
<p>å¦‚æœæ´¾ç”Ÿç±»Dç»§æ‰¿çš„ä¸¤ä¸ªåŸºç±»A,Bï¼Œæœ‰åŒåæˆå‘˜å‡½æ•°æˆ–åŒåæˆå‘˜æ•°æ®aï¼Œåˆ™è®¿é—®Dä¸­aæ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•åˆ¤æ–­è¦è®¿é—®çš„å“ªä¸€ä¸ªåŸºç±»æˆå‘˜ã€‚</p>
<p>äºŒä¹‰æ€§ä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â a&#123;<span class="number">0</span>&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleA</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addA</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">bar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;A::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleB</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addB</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">bar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;B::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â MiddleA,Â <span class="keyword">public</span>Â MiddleB&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â DeriveÂ d;</span><br><span class="line">Â Â Â Â d.<span class="built_in">bar</span>();</span><br><span class="line">&#125;</span><br><span class="line">outputï¼š</span><br><span class="line">main.cpp:<span class="number">22</span>:<span class="number">7</span>: error: member <span class="string">&#x27;bar&#x27;</span> found in multiple base classes of different types</span><br><span class="line">    d.<span class="built_in">bar</span>();</span><br><span class="line">      ^</span><br><span class="line">main.cpp:<span class="number">10</span>:<span class="number">8</span>: note: <span class="function">member found by ambiguous name lookup</span></span><br><span class="line"><span class="function">  <span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;A::bar&quot;</span> &lt;&lt; endl; &#125;;</span><br><span class="line">       ^</span><br><span class="line">main.cpp:<span class="number">15</span>:<span class="number">8</span>: note: <span class="function">member found by ambiguous name lookup</span></span><br><span class="line"><span class="function">  <span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;B::bar&quot;</span> &lt;&lt; endl; &#125;;</span><br><span class="line">       ^</span><br><span class="line"><span class="number">1</span> error generated.</span><br></pre></td></tr></table></figure>
<p>ç¨ä½œä¿®æ”¹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â a&#123;<span class="number">0</span>&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleA</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addA</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">abar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;A::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleB</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addB</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">bbar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;B::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â MiddleA,Â <span class="keyword">public</span>Â MiddleB&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">Â Â Â Â DeriveÂ d;</span><br><span class="line">Â Â Â Â d.<span class="built_in">abar</span>();</span><br><span class="line">Â Â Â Â d.<span class="built_in">bbar</span>();</span><br><span class="line">&#125;</span><br><span class="line">outputï¼š</span><br><span class="line">A::bar</span><br><span class="line">B::bar</span><br></pre></td></tr></table></figure>
<p>ä¾‹2ï¼šåŒåæˆå‘˜æ“ä½œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">#<span class="meta">#<span class="meta-keyword">include</span>Â <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>Â <span class="keyword">namespace</span>Â std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Base</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">int</span>Â a&#123;<span class="number">0</span>&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleA</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addA</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">bar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;A::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">MiddleB</span>Â :</span>Â <span class="keyword">public</span>Â BaseÂ &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">addB</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;a=&quot;</span>Â &lt;&lt;Â ++aÂ &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">Â Â <span class="function"><span class="keyword">void</span>Â <span class="title">bar</span><span class="params">()</span>Â </span>&#123;Â coutÂ &lt;&lt;Â <span class="string">&quot;B::bar&quot;</span>Â &lt;&lt;Â endl;Â &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Derive</span>Â :</span>Â <span class="keyword">public</span>Â MiddleA,Â <span class="keyword">public</span>Â MiddleB&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span>Â <span class="title">main</span><span class="params">()</span>Â </span>&#123;</span><br><span class="line">Â Â DeriveÂ d;</span><br><span class="line">Â Â d.<span class="built_in">addA</span>();Â <span class="comment">///Â è¾“å‡ºÂ a=1ã€‚</span></span><br><span class="line">Â Â d.<span class="built_in">addB</span>();Â <span class="comment">///Â ä»ç„¶è¾“å‡ºÂ a=1ã€‚</span></span><br><span class="line">Â Â d.<span class="built_in">addB</span>();Â <span class="comment">///Â è¾“å‡ºÂ a=2ã€‚</span></span><br><span class="line">Â Â coutÂ &lt;&lt;Â d.MiddleA::aÂ &lt;&lt;Â endl;Â </span><br><span class="line"><span class="comment">///Â è¾“å‡ºAä¸­çš„æˆå‘˜açš„å€¼Â 1</span></span><br><span class="line">Â coutÂ &lt;&lt;Â d.MiddleB::aÂ &lt;&lt;Â endl;Â </span><br><span class="line"><span class="comment">///Â è¾“å‡ºBä¸­çš„æˆå‘˜açš„å€¼Â 2</span></span><br><span class="line">Â Â d.MiddleA::<span class="built_in">bar</span>();Â </span><br><span class="line">Â Â d.MiddleB::<span class="built_in">bar</span>();Â </span><br><span class="line">Â Â <span class="keyword">return</span>Â <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">outputï¼š</span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">a=<span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">A::bar</span><br><span class="line">B::bar</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°ï¼Œå¤šé‡ç»§æ‰¿çš„äºŒä¹‰æ€§å¹¶æ²¡æœ‰å¯¼è‡´é‡å¤å®šä¹‰ï¼Œç¼–è¯‘å™¨é€šè¿‡å‘½åç©ºé—´åŒºåˆ†äº†äºŒè€…ä¸åŒçš„aä¸barã€‚ä½†æ˜¯ä¸åŠ å‘½åç©ºé—´ï¼Œåˆ™æ— æ³•åŒºåˆ†ã€‚</p>
<h2 id="å¤šé‡ç»§æ‰¿çš„ææ„é¡ºåº">4.2 å¤šé‡ç»§æ‰¿çš„ææ„é¡ºåº</h2>
<p>ç»“åˆä¹‹åæåˆ°çš„è™šå‡½æ•°ï¼Œå¤šé‡ç»§æ‰¿ä¹Ÿä¼šé…åˆå¤šæ€ä¼šåŠ¨æ€è°ƒç”¨ææ„å‡½æ•°ï¼Œå…ˆææ„åŸºç±»éƒ¨åˆ†ï¼Œå†ææ„æ´¾ç”Ÿç±»éƒ¨åˆ†ã€‚ææ„é¡ºåºä¹Ÿæ˜¯å’Œæ„é€ é¡ºåºåå‘ï¼Œä½†æ˜¯æ„é€ é¡ºåºæ˜¯æŒ‰ç…§ç”³æ˜é¡ºåºæ¥çš„ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span>Â once</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">WhatCanSpeak</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">virtual</span>Â ~<span class="built_in">WhatCanSpeak</span>()Â &#123;coutÂ &lt;&lt;Â <span class="string">&quot;objÂ cannotÂ speak&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">virtual</span>Â <span class="keyword">void</span>Â <span class="title">speak</span><span class="params">()</span>Â </span>=Â <span class="number">0</span>;Â Â </span><br><span class="line">Â Â <span class="function"><span class="keyword">virtual</span>Â <span class="keyword">void</span>Â <span class="title">stop</span><span class="params">()</span>Â </span>=Â <span class="number">0</span>;Â Â </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">WhatCanMotion</span>Â &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Â Â <span class="keyword">virtual</span>Â ~<span class="built_in">WhatCanMotion</span>()Â &#123;coutÂ &lt;&lt;Â <span class="string">&quot;objÂ cannotÂ move&quot;</span>Â &lt;&lt;Â endl;Â &#125;</span><br><span class="line">Â Â <span class="function"><span class="keyword">virtual</span>Â <span class="keyword">void</span>Â <span class="title">motion</span><span class="params">()</span>Â </span>=Â <span class="number">0</span>;</span><br><span class="line">Â Â <span class="function"><span class="keyword">virtual</span>Â <span class="keyword">void</span>Â <span class="title">stop</span><span class="params">()</span>Â </span>=Â <span class="number">0</span>;Â Â </span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&quot;what.h&quot;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">Alien</span>:</span>Â <span class="keyword">public</span>Â WhatCanMotion,<span class="keyword">public</span>Â WhatCanSpeak</span><br><span class="line">&#123;Â Â Â <span class="keyword">public</span>:</span><br><span class="line">std::stringÂ name;</span><br><span class="line"><span class="built_in">Alien</span>(std::stringÂ x):name&#123;x&#125;&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>Â <span class="title">speak</span><span class="params">()</span></span>&#123;std::cout&lt;&lt;name&lt;&lt;<span class="string">&quot;Â isÂ speaking&quot;</span>&lt;&lt;std::endl;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>Â <span class="title">stop</span><span class="params">()</span></span>&#123;std::cout&lt;&lt;name&lt;&lt;<span class="string">&quot;Â stops&quot;</span>&lt;&lt;std::endl;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>Â <span class="title">motion</span><span class="params">()</span></span>&#123;std::cout&lt;&lt;name&lt;&lt;<span class="string">&quot;Â isÂ moving&quot;</span>&lt;&lt;std::endl;&#125;</span><br><span class="line">~<span class="built_in">Alien</span>()&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºAliençš„ææ„æ˜¯æ„é€ çš„åå‘ã€‚è€Œæ„é€ æ˜¯å…ˆæ„é€ WhatCanMotionï¼Œä¹‹åWhatCanSpeakï¼Œæœ€åå†æ˜¯æ´¾ç”Ÿç±»éƒ¨åˆ†ï¼Œæ•…è€Œææ„é¡ºåºæ˜¯å…ˆæ´¾ç”Ÿç±»ï¼Œä¹‹åWhatCanSpeakï¼Œæœ€åWhatCanMotionã€‚</p>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-62b11572b25ab3ab" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/12/Lecture/%E4%BB%8E%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/OOP/L6%20%E5%BC%95%E7%94%A8%E4%B8%8E%E5%A4%8D%E5%88%B6/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Dennis Buchner (elk8DRDVYLI).jpg" onerror="onerror=null;src='https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Oscar Rodrigo Hernandez Panczenko (P0GQ95huhBo).jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">oopç¬”è®°  L6  å¼•ç”¨ä¸å¤åˆ¶</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/12/Lecture/%E4%BB%8E%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/OOP/L8%20%E8%99%9A%E5%87%BD%E6%95%B0/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Anubhav Saxena (HAGq70L1MXc).jpg" onerror="onerror=null;src='https://raw.githubusercontent.com/zhaochenyang20/ivue_wallpaper/main/ivue_desktop/Photo by Oscar Rodrigo Hernandez Panczenko (P0GQ95huhBo).jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">oopç¬”è®°  L8  è™šå‡½æ•°</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#l7-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="toc-number">1.</span> <span class="toc-text">L7 ç»„åˆä¸ç»§æ‰¿</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E7%BB%84%E5%90%88"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ã€ç»„åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">2.1.</span> <span class="toc-text">1.1 å®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">1.2 ä¸¤ç§å®ç°æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E6%88%90%E5%91%98"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.2.1 å…¬æœ‰æˆå‘˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E6%88%90%E5%91%98"><span class="toc-number">2.2.2.</span> <span class="toc-text">1.2.2 ç§æœ‰æˆå‘˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#public%E6%8E%A5%E5%8F%A3%E8%AE%BF%E9%97%AEprivate%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.3.</span> <span class="toc-text">1.2.3 publicæ¥å£è®¿é—®privateæ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84"><span class="toc-number">2.3.</span> <span class="toc-text">1.3 æ„é€ ä¸ææ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0"><span class="toc-number">2.3.1.</span> <span class="toc-text">1.3.1 å­å¯¹è±¡å‚æ•°æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%AF%B9%E8%B1%A1%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0"><span class="toc-number">2.3.2.</span> <span class="toc-text">1.3.2 å­å¯¹è±¡é»˜è®¤æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%AC%A1%E5%BA%8F"><span class="toc-number">2.3.3.</span> <span class="toc-text">1.3.3 æ„é€ æ¬¡åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E6%AC%A1%E5%BA%8F"><span class="toc-number">2.3.4.</span> <span class="toc-text">1.3.4 ææ„æ¬¡åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">2.3.5.</span> <span class="toc-text">1.3.5 ä¾‹å­</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E7%BB%A7%E6%89%BF"><span class="toc-number">3.</span> <span class="toc-text">äºŒã€ç»§æ‰¿</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 å®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%E4%B8%8E%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 ç»§æ‰¿æ–¹å¼ä¸è¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E7%BB%A7%E6%89%BF"><span class="toc-number">3.3.</span> <span class="toc-text">2.3 æ— æ³•ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84-1"><span class="toc-number">3.4.</span> <span class="toc-text">2.4 æ„é€ ä¸ææ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E7%B1%BB%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">3.5.</span> <span class="toc-text">2.5 ä¸¤ç±»ç»§æ‰¿æ–¹å¼çš„é€‰æ‹©</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#public%E7%BB%A7%E6%89%BF"><span class="toc-number">3.5.1.</span> <span class="toc-text">2.5.1 publicç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#private%E7%BB%A7%E6%89%BF"><span class="toc-number">3.5.2.</span> <span class="toc-text">2.5.2 privateç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%90%E5%91%98%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">3.6.</span> <span class="toc-text">2.6 æˆå‘˜è®¿é—®æƒé™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.6.1.</span> <span class="toc-text">æ€»ç»“ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.7.</span> <span class="toc-text">2.7 ç»„åˆä¸ç»§æ‰¿çš„å…³ç³»</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E9%87%8D%E8%BD%BD%E4%B8%8E%E9%87%8D%E5%86%99%E9%9A%90%E8%97%8F"><span class="toc-number">4.</span> <span class="toc-text">ä¸‰ã€é‡è½½ä¸é‡å†™éšè—</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 å®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#using-%E4%B8%80%E5%B9%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 using ä¸€å¹¶ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">4.3.</span> <span class="toc-text">3.3 æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#using%E5%85%B3%E9%94%AE%E5%AD%97%E4%BD%9C%E7%94%A8%E6%80%BB%E7%BB%93"><span class="toc-number">4.4.</span> <span class="toc-text">3.4 usingå…³é”®å­—ä½œç”¨æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-number">5.</span> <span class="toc-text">å››ã€å¤šé‡ç»§æ‰¿</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%84%8F%E4%B9%89%E5%92%8C%E6%BD%9C%E5%9C%A8%E9%A3%8E%E9%99%A9"><span class="toc-number">5.1.</span> <span class="toc-text">4.1 å®šä¹‰ã€æ„ä¹‰å’Œæ½œåœ¨é£é™©</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E7%9A%84%E6%9E%90%E6%9E%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">5.2.</span> <span class="toc-text">4.2 å¤šé‡ç»§æ‰¿çš„ææ„é¡ºåº</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: ï¼ƒ0096FF"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Eren Zhao</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@undefined/dist/mermaid.min.js?v=undefined"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœ¬åœ°æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“æ­£åœ¨è‰°éš¾è¿è¡Œ</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '978121c7b834efdd76be',
      clientSecret: '59b40e8f39a1c33db5a2c891771086164b9575c4',
      repo: 'zhaochenyang20.github.io',
      owner: 'zhaochenyang20',
      admin: ['zhaochenyang20'],
      id: 'd3f8d784af19c9977f0695cade8ebf69',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>